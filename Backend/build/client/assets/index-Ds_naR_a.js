import{c as k,w as L}from"./createLucideIcon-DqF-kfK_.js";import{r as m,j as e,c as D}from"./chunk-D4RADZKF-BZ4imTJX.js";import{S as F}from"./scramble-text-eqsPe4ip.js";import{t as f}from"./index-WK4sMw3K.js";import{X as U}from"./x-BAIX-ARt.js";import{u as R}from"./provider-M81ew7FS.js";import{u as $,a as I,d as M,p as _}from"./useWriteContract-DlIVuD58.js";import"./preload-helper-BeGl6iAn.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O=k("Check",P);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z=k("CircleAlert",q);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],W=k("Upload",B);function G({onChange:r}){const o=m.useRef(null),[t,a]=m.useState(null),l=s=>{const c=URL.createObjectURL(s);a(c),r==null||r(s)},g=s=>{var i;const c=(i=s.target.files)==null?void 0:i[0];c&&l(c)},b=s=>{var i;s.preventDefault();const c=(i=s.dataTransfer.files)==null?void 0:i[0];c&&l(c)},p=s=>s.preventDefault();return e.jsxs("div",{className:"border border-input rounded-lg bg-background p-4 flex items-center justify-center cursor-pointer h-[180px] sm:h-[200px]",onClick:()=>{var s;return(s=o.current)==null?void 0:s.click()},onDragOver:p,onDrop:b,children:[e.jsx("input",{type:"file",ref:o,onChange:g,className:"hidden",accept:"image/*"}),t?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:t,alt:"Token logo preview",className:"w-24 h-24 sm:w-32 sm:h-32 object-contain"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"Click to change"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"border border-dashed border-input rounded-lg p-4 sm:p-6",children:e.jsx(W,{className:"w-10 h-10 sm:w-12 sm:h-12 text-muted-foreground"})}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2 sm:mt-4",children:"Drag & drop or click to upload (max 1 MB)"})]})]})}const Y=({onClose:r,onConfirm:o,isLoading:t,formData:a,image:l})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"Confirm Token Launch"}),e.jsx("button",{onClick:r,className:"text-muted-foreground hover:text-foreground",children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-center mb-4 flex items-center justify-center text-amber-500 text-sm sm:text-base",children:[e.jsx(z,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Are you sure you want to launch this token?"]}),e.jsxs("div",{className:"border border-input rounded-lg p-4 space-y-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:l?e.jsx("img",{src:URL.createObjectURL(l),alt:"Token logo",className:"w-16 h-16 sm:w-20 sm:h-20 object-contain rounded-full border border-input"}):e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-secondary flex items-center justify-center",children:e.jsx("span",{className:"text-xl sm:text-2xl font-bold",children:a.name?a.name.charAt(0).toUpperCase():"T"})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm sm:text-base",children:[e.jsx("div",{className:"text-muted-foreground",children:"Token Name:"}),e.jsx("div",{className:"font-medium text-right",children:a.name}),e.jsx("div",{className:"text-muted-foreground",children:"Ticker:"}),e.jsx("div",{className:"font-medium text-right",children:a.ticker}),e.jsx("div",{className:"text-muted-foreground",children:"Total Supply:"}),e.jsx("div",{className:"font-medium text-right",children:"1,000,000,000"}),e.jsx("div",{className:"text-muted-foreground",children:"Token Amount:"}),e.jsxs("div",{className:"font-medium text-right",children:[a.initialTokens.toLocaleString()," ",a.ticker]})]})]}),e.jsxs("div",{className:"border border-input rounded-lg p-4 space-y-2 text-sm sm:text-base",children:[e.jsx("p",{className:"text-muted-foreground",children:"Launch cost: 0.1 EDU (liquidity) + 0.25 EDU (gas)"}),e.jsx("p",{className:"text-muted-foreground",children:"Token supply: 1,000,000,000 tokens (fixed)"}),e.jsx("p",{className:"text-muted-foreground",children:"You receive 2% of total supply (20,000,000 tokens)"}),e.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mt-1",children:"â€¢ 25% unlocked when market cap reaches $1,000,000"}),e.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"â€¢ 25% unlocked when market cap reaches $3,000,000"}),e.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"â€¢ 25% unlocked when market cap reaches $6,000,000"}),e.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"â€¢ 25% unlocked when market cap reaches $10,000,000"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[e.jsx("button",{onClick:r,className:"w-full py-3 border border-input rounded-lg hover:bg-secondary transition-colors cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:t,className:`cursor-pointer w-full py-3 bg-[#e2ffc7] hover:bg-[#d5f5b9] text-black font-medium rounded-lg transition-colors flex items-center justify-center ${t?"opacity-70 cursor-not-allowed":""}`,children:t?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Approve & Launch"]})})]})]})]})})});function se(){const r="Create a Token | GoFundingDotFun",o="Launch your own funding token in minutes on Solana. Customize token name, ticker, image, and description. Empower decentralized fundraising for your project, startup, or research.",t="/logo.png";return[{title:r},{name:"description",content:o},{property:"og:title",content:r},{property:"og:description",content:o},{property:"og:type",content:"website"},{property:"og:url",content:"https://fundgoal.fun/create"},{property:"og:image",content:t},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:r},{name:"twitter:description",content:o},{name:"twitter:image",content:t},{name:"twitter:site",content:"@gofundingdotfun"},{name:"theme-color",content:"#3F5F15"}]}const ne=L(function(){const o=D(),[t,a]=m.useState({name:"",ticker:"",description:"",donationAddress:"",initialTokens:1e9,embedCode:""}),[l,g]=m.useState(!1),[b,p]=m.useState(!1),[s,c]=m.useState(!1),[i,y]=m.useState(null),{isConnected:v}=R(),{writeContract:w,data:C}=$(),{data:j,isLoading:H}=I({hash:C}),h=n=>{const{name:x,value:u}=n.target;a(d=>({...d,[x]:u}))},T=n=>{n.preventDefault(),s?p(!0):f("Please agree to the terms and conditions.")},A=async()=>{g(!0);try{w({abi:ABI,address:CONTRACT_ADDRESS,functionName:"createToken",args:[t.name,t.ticker],value:_("0.1")})}catch(n){console.error(n),f("Failed to initiate token creation.")}},S=async({bondingAddress:n,tokenAddress:x})=>{try{const u={name:t.name,ticker:t.ticker,description:t.description,initialTokens:t.initialTokens,contractAddress:x,donationAddress:t.donationAddress,embedCode:t.embedCode,bondingCurveAddress:n,status:"active"},d=new FormData;i&&d.append("image",i),d.append("payload",JSON.stringify(u));const N=await fetch("https://fundgoal.fun/api/tokens",{method:"POST",body:d});if(!N.ok){const E=await N.json();throw new Error(E.message||"Failed to create token")}p(!1)}catch(u){f(`Error creating token: ${u}`)}finally{g(!1)}};return m.useEffect(()=>{if(j)for(const n of j.logs)try{const x=M({abi:ABI,data:n.data,topics:n.topics});if(x.eventName==="BondingCurveCreated"){const u=x.args.bondingCurveAddress,d=x.args.tokenAddress;S({bondingAddress:u,tokenAddress:d}),f("Token created successfully! ðŸ¥³"),setTimeout(()=>{o(`/${d}`,{replace:!0,preventScrollReset:!0})},3e3)}}catch{}},[j]),v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full min-h-screen mx-auto py-6 px-4 sm:px-6 lg:px-8 xl:max-w-6xl mb-28",children:[e.jsx("p",{className:"text-3xl sm:text-5xl lg:text-8xl my-12 lg:my-24 text-center",children:e.jsx(F,{title:"Launch your token"})}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("label",{className:"block text-lg sm:text-xl mb-2",children:"Name"}),e.jsx("input",{name:"name",placeholder:'Example: "Genova"',value:t.name,onChange:h,className:"w-full p-3 border border-input rounded-lg bg-background",required:!0}),e.jsx("label",{className:"block text-lg sm:text-xl mb-2",children:"Ticker"}),e.jsx("input",{name:"ticker",placeholder:'Example: "$GEN"',value:t.ticker,onChange:h,className:"w-full p-3 border border-input rounded-lg bg-background",required:!0}),e.jsx("label",{className:"block text-lg sm:text-xl mb-2",children:"Description"}),e.jsx("textarea",{name:"description",placeholder:"Explain your project",value:t.description,onChange:h,className:"w-full p-3 border border-input rounded-lg bg-background min-h-[120px]",required:!0}),e.jsx("label",{className:"block text-lg sm:text-xl mb-2",children:"EVM Donation Address (optional)"}),e.jsx("input",{name:"donationAddress",placeholder:"0x....",value:t.donationAddress,onChange:h,className:"w-full p-3 border border-input rounded-lg bg-background"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("label",{className:"block text-lg sm:text-xl mb-2",children:"Upload a Picture"}),e.jsx(G,{onChange:n=>y(n)}),e.jsx("label",{className:"block text-lg sm:text-xl mb-2",children:"Embed Code"}),e.jsx("textarea",{name:"embedCode",placeholder:"Embed code, YouTube or LinkedIn",value:t.embedCode,onChange:h,className:"w-full p-3 border border-input rounded-lg bg-background min-h-[120px]",rows:6,required:!0})]})]}),e.jsx("div",{className:"border border-input rounded-lg bg-background p-4",children:e.jsxs("label",{className:"flex items-start cursor-pointer text-sm space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:()=>c(n=>!n),className:"mt-1"}),e.jsx("span",{children:"I agree to the Terms and Conditions"})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 text-white bg-green-600 hover:bg-green-700 rounded-lg font-semibold",children:l?"Processing...":"Launch Token"})})]})]}),e.jsx(Y,{show:b,onClose:()=>p(!1),onConfirm:A})]}):e.jsxs("div",{className:"w-full min-h-screen flex flex-col justify-center items-center text-center px-4",children:[e.jsx("h1",{className:"text-4xl sm:text-6xl font-bold mb-4",children:"Connect Your Wallet"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-500 mb-8",children:"Please connect your wallet to create your token on FundGoalDotFun."}),e.jsx("p",{className:"text-md text-gray-400",children:"Make sure your wallet is connected."})]})});export{ne as default,se as meta};
