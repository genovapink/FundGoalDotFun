const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CSpYUHCt.js","assets/chunk-D4RADZKF-BZ4imTJX.js","assets/createLucideIcon-DqF-kfK_.js","assets/preload-helper-BeGl6iAn.js","assets/drawer-DjQHysjT.js","assets/index-CIXzG5v3.js","assets/index-DZdmqhza.js","assets/scramble-text-eqsPe4ip.js","assets/provider-M81ew7FS.js","assets/magnet-BVi2yfa0.js","assets/index-BHuQsQrX.js","assets/index-COmMMEcZ.js","assets/useWallet-DhPxDxZ0.js","assets/index-CbZp9Vje.js","assets/solanaEmbed.esm-ykyz0pzX.js"])))=>i.map(i=>d[i]);
var Sy=Object.defineProperty;var r0=n=>{throw TypeError(n)};var Ay=(n,t,e)=>t in n?Sy(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var je=(n,t,e)=>Ay(n,typeof t!="symbol"?t+"":t,e),i0=(n,t,e)=>t.has(n)||r0("Cannot "+e);var Tt=(n,t,e)=>(i0(n,t,"read from private field"),e?e.call(n):t.get(n)),Gn=(n,t,e)=>t.has(n)?r0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),un=(n,t,e,r)=>(i0(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e);var sc=(n,t,e,r)=>({set _(o){un(n,t,o,e)},get _(){return Tt(n,t,r)}});import{c as Ah,a as Lu,w as Iy,d as _y}from"./createLucideIcon-DqF-kfK_.js";import{D as qa,C as Ke,A as yi,r as G,R as Ih,h as By,j as tt,N as Ty,L as ky,M as Ly,E as Ry,S as Ny,G as Cy,O as Oy,H as Dy}from"./chunk-D4RADZKF-BZ4imTJX.js";import{S as Gp,l as Yp,Q as Uy,e as or,m as o0,M as zy,o as s0,n as Jr,q as jy,v as Py,w as Fy,f as $y,x as a0,a as c0,y as Wy,h as u0,z as l0,A as Ky,_ as _h,B as qy}from"./preload-helper-BeGl6iAn.js";import{C as df,D as Hy,a as Vy,b as Gy,c as Yy}from"./drawer-DjQHysjT.js";import{S as Zy}from"./scramble-text-eqsPe4ip.js";import{u as Qy}from"./provider-M81ew7FS.js";import{B as f0}from"./magnet-BVi2yfa0.js";import{P as bi,f as pf,c as Bh,e as Th,d as Ru,g as Jy,b as Te,h as Xy,i as tb,j as eb,R as nb,k as rb,l as ib,u as ob,a as h0,B as sb}from"./index-CIXzG5v3.js";import{u as Po,c as ab,e as Zp}from"./index-DZdmqhza.js";import{a as cb,c as Qp,u as ub,I as lb,R as fb}from"./index-COmMMEcZ.js";import{W as hb}from"./useWallet-DhPxDxZ0.js";var Rr,qp,db=(qp=class extends Gp{constructor(t={}){super();Gn(this,Rr);this.config=t,un(this,Rr,new Map)}build(t,e,r){const o=e.queryKey,i=e.queryHash??Yp(o,e);let s=this.get(i);return s||(s=new Uy({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(s)),s}add(t){Tt(this,Rr).has(t.queryHash)||(Tt(this,Rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=Tt(this,Rr).get(t.queryHash);e&&(t.destroy(),e===t&&Tt(this,Rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Tt(this,Rr).get(t)}getAll(){return[...Tt(this,Rr).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>o0(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>o0(t,r)):e}notify(t){or.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){or.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rr=new WeakMap,qp),ri,vr,Ka,Hp,pb=(Hp=class extends Gp{constructor(t={}){super();Gn(this,ri);Gn(this,vr);Gn(this,Ka);this.config=t,un(this,ri,new Set),un(this,vr,new Map),un(this,Ka,0)}build(t,e,r){const o=new zy({mutationCache:this,mutationId:++sc(this,Ka)._,options:t.defaultMutationOptions(e),state:r});return this.add(o),o}add(t){Tt(this,ri).add(t);const e=ac(t);if(typeof e=="string"){const r=Tt(this,vr).get(e);r?r.push(t):Tt(this,vr).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Tt(this,ri).delete(t)){const e=ac(t);if(typeof e=="string"){const r=Tt(this,vr).get(e);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&Tt(this,vr).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ac(t);if(typeof e=="string"){const r=Tt(this,vr).get(e),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const e=ac(t);if(typeof e=="string"){const o=(r=Tt(this,vr).get(e))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){or.batch(()=>{Tt(this,ri).forEach(t=>{this.notify({type:"removed",mutation:t})}),Tt(this,ri).clear(),Tt(this,vr).clear()})}getAll(){return Array.from(Tt(this,ri))}find(t){const e={exact:!0,...t};return this.getAll().find(r=>s0(e,r))}findAll(t={}){return this.getAll().filter(e=>s0(t,e))}notify(t){or.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return or.batch(()=>Promise.all(t.map(e=>e.continue().catch(Jr))))}},ri=new WeakMap,vr=new WeakMap,Ka=new WeakMap,Hp);function ac(n){var t;return(t=n.options.scope)==null?void 0:t.id}function d0(n){return{onFetch:(t,e)=>{var m,x,B,S,k;const r=t.options,o=(B=(x=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:x.fetchMore)==null?void 0:B.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],s=((k=t.state.data)==null?void 0:k.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const g=async()=>{let T=!1;const I=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?T=!0:t.signal.addEventListener("abort",()=>{T=!0}),t.signal)})},N=jy(t.options,t.fetchOptions),O=async(R,U,P)=>{if(T)return Promise.reject();if(U==null&&R.pages.length)return Promise.resolve(R);const j={client:t.client,queryKey:t.queryKey,pageParam:U,direction:P?"backward":"forward",meta:t.options.meta};I(j);const F=await N(j),{maxPages:$}=t.options,K=P?Py:Fy;return{pages:K(R.pages,F,$),pageParams:K(R.pageParams,U,$)}};if(o&&i.length){const R=o==="backward",U=R?gb:p0,P={pages:i,pageParams:s},j=U(r,P);a=await O(P,j,R)}else{const R=n??i.length;do{const U=u===0?s[0]??r.initialPageParam:p0(r,a);if(u>0&&U==null)break;a=await O(a,U),u++}while(u<R)}return a};t.options.persister?t.fetchFn=()=>{var T,I;return(I=(T=t.options).persister)==null?void 0:I.call(T,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function p0(n,{pages:t,pageParams:e}){const r=t.length-1;return t.length>0?n.getNextPageParam(t[r],t,e[r],e):void 0}function gb(n,{pages:t,pageParams:e}){var r;return t.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,t[0],t,e[0],e):void 0}var Pe,Ni,Ci,_s,Bs,Oi,Ts,ks,Vp,mb=(Vp=class{constructor(n={}){Gn(this,Pe);Gn(this,Ni);Gn(this,Ci);Gn(this,_s);Gn(this,Bs);Gn(this,Oi);Gn(this,Ts);Gn(this,ks);un(this,Pe,n.queryCache||new db),un(this,Ni,n.mutationCache||new pb),un(this,Ci,n.defaultOptions||{}),un(this,_s,new Map),un(this,Bs,new Map),un(this,Oi,0)}mount(){sc(this,Oi)._++,Tt(this,Oi)===1&&(un(this,Ts,$y.subscribe(async n=>{n&&(await this.resumePausedMutations(),Tt(this,Pe).onFocus())})),un(this,ks,a0.subscribe(async n=>{n&&(await this.resumePausedMutations(),Tt(this,Pe).onOnline())})))}unmount(){var n,t;sc(this,Oi)._--,Tt(this,Oi)===0&&((n=Tt(this,Ts))==null||n.call(this),un(this,Ts,void 0),(t=Tt(this,ks))==null||t.call(this),un(this,ks,void 0))}isFetching(n){return Tt(this,Pe).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Tt(this,Ni).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=Tt(this,Pe).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=Tt(this,Pe).build(this,t),r=e.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(c0(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(n){return Tt(this,Pe).findAll(n).map(({queryKey:t,state:e})=>{const r=e.data;return[t,r]})}setQueryData(n,t,e){const r=this.defaultQueryOptions({queryKey:n}),o=Tt(this,Pe).get(r.queryHash),i=o==null?void 0:o.state.data,s=Wy(t,i);if(s!==void 0)return Tt(this,Pe).build(this,r).setData(s,{...e,manual:!0})}setQueriesData(n,t,e){return or.batch(()=>Tt(this,Pe).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=Tt(this,Pe).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=Tt(this,Pe);or.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=Tt(this,Pe);return or.batch(()=>(e.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},r=or.batch(()=>Tt(this,Pe).findAll(n).map(o=>o.cancel(e)));return Promise.all(r).then(Jr).catch(Jr)}invalidateQueries(n,t={}){return or.batch(()=>(Tt(this,Pe).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},r=or.batch(()=>Tt(this,Pe).findAll(n).filter(o=>!o.isDisabled()).map(o=>{let i=o.fetch(void 0,e);return e.throwOnError||(i=i.catch(Jr)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Jr)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=Tt(this,Pe).build(this,t);return e.isStaleByTime(c0(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Jr).catch(Jr)}fetchInfiniteQuery(n){return n.behavior=d0(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Jr).catch(Jr)}ensureInfiniteQueryData(n){return n.behavior=d0(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return a0.isOnline()?Tt(this,Ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return Tt(this,Pe)}getMutationCache(){return Tt(this,Ni)}getDefaultOptions(){return Tt(this,Ci)}setDefaultOptions(n){un(this,Ci,n)}setQueryDefaults(n,t){Tt(this,_s).set(u0(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...Tt(this,_s).values()],e={};return t.forEach(r=>{l0(n,r.queryKey)&&Object.assign(e,r.defaultOptions)}),e}setMutationDefaults(n,t){Tt(this,Bs).set(u0(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...Tt(this,Bs).values()],e={};return t.forEach(r=>{l0(n,r.mutationKey)&&Object.assign(e,r.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...Tt(this,Ci).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=Yp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ky&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Tt(this,Ci).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Tt(this,Pe).clear(),Tt(this,Ni).clear()}},Pe=new WeakMap,Ni=new WeakMap,Ci=new WeakMap,_s=new WeakMap,Bs=new WeakMap,Oi=new WeakMap,Ts=new WeakMap,ks=new WeakMap,Vp),qt={},Nu={};Nu.byteLength=bb;Nu.toByteArray=xb;Nu.fromByteArray=Sb;var Nr=[],fr=[],wb=typeof Uint8Array<"u"?Uint8Array:Array,ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Qo=0,yb=ml.length;Qo<yb;++Qo)Nr[Qo]=ml[Qo],fr[ml.charCodeAt(Qo)]=Qo;fr[45]=62;fr[95]=63;function Jp(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function bb(n){var t=Jp(n),e=t[0],r=t[1];return(e+r)*3/4-r}function vb(n,t,e){return(t+e)*3/4-e}function xb(n){var t,e=Jp(n),r=e[0],o=e[1],i=new wb(vb(n,r,o)),s=0,a=o>0?r-4:r,u;for(u=0;u<a;u+=4)t=fr[n.charCodeAt(u)]<<18|fr[n.charCodeAt(u+1)]<<12|fr[n.charCodeAt(u+2)]<<6|fr[n.charCodeAt(u+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=t&255;return o===2&&(t=fr[n.charCodeAt(u)]<<2|fr[n.charCodeAt(u+1)]>>4,i[s++]=t&255),o===1&&(t=fr[n.charCodeAt(u)]<<10|fr[n.charCodeAt(u+1)]<<4|fr[n.charCodeAt(u+2)]>>2,i[s++]=t>>8&255,i[s++]=t&255),i}function Mb(n){return Nr[n>>18&63]+Nr[n>>12&63]+Nr[n>>6&63]+Nr[n&63]}function Eb(n,t,e){for(var r,o=[],i=t;i<e;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),o.push(Mb(r));return o.join("")}function Sb(n){for(var t,e=n.length,r=e%3,o=[],i=16383,s=0,a=e-r;s<a;s+=i)o.push(Eb(n,s,s+i>a?a:s+i));return r===1?(t=n[e-1],o.push(Nr[t>>2]+Nr[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],o.push(Nr[t>>10]+Nr[t>>4&63]+Nr[t<<2&63]+"=")),o.join("")}var kh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */kh.read=function(n,t,e,r,o){var i,s,a=o*8-r-1,u=(1<<a)-1,g=u>>1,m=-7,x=e?o-1:0,B=e?-1:1,S=n[t+x];for(x+=B,i=S&(1<<-m)-1,S>>=-m,m+=a;m>0;i=i*256+n[t+x],x+=B,m-=8);for(s=i&(1<<-m)-1,i>>=-m,m+=r;m>0;s=s*256+n[t+x],x+=B,m-=8);if(i===0)i=1-g;else{if(i===u)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-g}return(S?-1:1)*s*Math.pow(2,i-r)};kh.write=function(n,t,e,r,o,i){var s,a,u,g=i*8-o-1,m=(1<<g)-1,x=m>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:i-1,k=r?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=m):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+x>=1?t+=B/u:t+=B*Math.pow(2,1-x),t*u>=2&&(s++,u/=2),s+x>=m?(a=0,s=m):s+x>=1?(a=(t*u-1)*Math.pow(2,o),s=s+x):(a=t*Math.pow(2,x-1)*Math.pow(2,o),s=0));o>=8;n[e+S]=a&255,S+=k,a/=256,o-=8);for(s=s<<o|a,g+=o;g>0;n[e+S]=s&255,S+=k,s/=256,g-=8);n[e+S-k]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=Nu,e=kh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=O,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const y=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(y,l),y.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');const l=new Uint8Array(y);return Object.setPrototypeOf(l,a.prototype),l}function a(y,l,h){if(typeof y=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(y)}return u(y,l,h)}a.poolSize=8192;function u(y,l,h){if(typeof y=="string")return B(y,l);if(ArrayBuffer.isView(y))return k(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(we(y,ArrayBuffer)||y&&we(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(y,SharedArrayBuffer)||y&&we(y.buffer,SharedArrayBuffer)))return T(y,l,h);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=y.valueOf&&y.valueOf();if(E!=null&&E!==y)return a.from(E,l,h);const C=I(y);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return a.from(y[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}a.from=function(y,l,h){return u(y,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function m(y,l,h){return g(y),y<=0?s(y):l!==void 0?typeof h=="string"?s(y).fill(l,h):s(y).fill(l):s(y)}a.alloc=function(y,l,h){return m(y,l,h)};function x(y){return g(y),s(y<0?0:N(y)|0)}a.allocUnsafe=function(y){return x(y)},a.allocUnsafeSlow=function(y){return x(y)};function B(y,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=R(y,l)|0;let E=s(h);const C=E.write(y,l);return C!==h&&(E=E.slice(0,C)),E}function S(y){const l=y.length<0?0:N(y.length)|0,h=s(l);for(let E=0;E<l;E+=1)h[E]=y[E]&255;return h}function k(y){if(we(y,Uint8Array)){const l=new Uint8Array(y);return T(l.buffer,l.byteOffset,l.byteLength)}return S(y)}function T(y,l,h){if(l<0||y.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let E;return l===void 0&&h===void 0?E=new Uint8Array(y):h===void 0?E=new Uint8Array(y,l):E=new Uint8Array(y,l,h),Object.setPrototypeOf(E,a.prototype),E}function I(y){if(a.isBuffer(y)){const l=N(y.length)|0,h=s(l);return h.length===0||y.copy(h,0,0,l),h}if(y.length!==void 0)return typeof y.length!="number"||Nt(y.length)?s(0):S(y);if(y.type==="Buffer"&&Array.isArray(y.data))return S(y.data)}function N(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function O(y){return+y!=y&&(y=0),a.alloc(+y)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(we(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),we(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let E=l.length,C=h.length;for(let D=0,z=Math.min(E,C);D<z;++D)if(l[D]!==h[D]){E=l[D],C=h[D];break}return E<C?-1:C<E?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let E;if(h===void 0)for(h=0,E=0;E<l.length;++E)h+=l[E].length;const C=a.allocUnsafe(h);let D=0;for(E=0;E<l.length;++E){let z=l[E];if(we(z,Uint8Array))D+z.length>C.length?(a.isBuffer(z)||(z=a.from(z)),z.copy(C,D)):Uint8Array.prototype.set.call(C,z,D);else if(a.isBuffer(z))z.copy(C,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=z.length}return C};function R(y,l){if(a.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||we(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const h=y.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&h===0)return 0;let C=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return _t(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Rt(y).length;default:if(C)return E?-1:_t(y).length;l=(""+l).toLowerCase(),C=!0}}a.byteLength=R;function U(y,l,h){let E=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(y||(y="utf8");;)switch(y){case"hex":return M(this,l,h);case"utf8":case"utf-8":return c(this,l,h);case"ascii":return w(this,l,h);case"latin1":case"binary":return b(this,l,h);case"base64":return _(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,l,h);default:if(E)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function P(y,l,h){const E=y[l];y[l]=y[h],y[h]=E}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)P(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)P(this,h,h+3),P(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)P(this,h,h+7),P(this,h+1,h+6),P(this,h+2,h+5),P(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?c(this,0,l):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=n.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,h,E,C,D){if(we(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),E===void 0&&(E=l?l.length:0),C===void 0&&(C=0),D===void 0&&(D=this.length),h<0||E>l.length||C<0||D>this.length)throw new RangeError("out of range index");if(C>=D&&h>=E)return 0;if(C>=D)return-1;if(h>=E)return 1;if(h>>>=0,E>>>=0,C>>>=0,D>>>=0,this===l)return 0;let z=D-C,gt=E-h;const lt=Math.min(z,gt),ct=this.slice(C,D),zt=l.slice(h,E);for(let at=0;at<lt;++at)if(ct[at]!==zt[at]){z=ct[at],gt=zt[at];break}return z<gt?-1:gt<z?1:0};function j(y,l,h,E,C){if(y.length===0)return-1;if(typeof h=="string"?(E=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Nt(h)&&(h=C?0:y.length-1),h<0&&(h=y.length+h),h>=y.length){if(C)return-1;h=y.length-1}else if(h<0)if(C)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,E)),a.isBuffer(l))return l.length===0?-1:F(y,l,h,E,C);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(y,l,h):Uint8Array.prototype.lastIndexOf.call(y,l,h):F(y,[l],h,E,C);throw new TypeError("val must be string, number or Buffer")}function F(y,l,h,E,C){let D=1,z=y.length,gt=l.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(y.length<2||l.length<2)return-1;D=2,z/=2,gt/=2,h/=2}function lt(zt,at){return D===1?zt[at]:zt.readUInt16BE(at*D)}let ct;if(C){let zt=-1;for(ct=h;ct<z;ct++)if(lt(y,ct)===lt(l,zt===-1?0:ct-zt)){if(zt===-1&&(zt=ct),ct-zt+1===gt)return zt*D}else zt!==-1&&(ct-=ct-zt),zt=-1}else for(h+gt>z&&(h=z-gt),ct=h;ct>=0;ct--){let zt=!0;for(let at=0;at<gt;at++)if(lt(y,ct+at)!==lt(l,at)){zt=!1;break}if(zt)return ct}return-1}a.prototype.includes=function(l,h,E){return this.indexOf(l,h,E)!==-1},a.prototype.indexOf=function(l,h,E){return j(this,l,h,E,!0)},a.prototype.lastIndexOf=function(l,h,E){return j(this,l,h,E,!1)};function $(y,l,h,E){h=Number(h)||0;const C=y.length-h;E?(E=Number(E),E>C&&(E=C)):E=C;const D=l.length;E>D/2&&(E=D/2);let z;for(z=0;z<E;++z){const gt=parseInt(l.substr(z*2,2),16);if(Nt(gt))return z;y[h+z]=gt}return z}function K(y,l,h,E){return Bt(_t(l,y.length-h),y,h,E)}function nt(y,l,h,E){return Bt(Ut(l),y,h,E)}function J(y,l,h,E){return Bt(Rt(l),y,h,E)}function X(y,l,h,E){return Bt(nn(l,y.length-h),y,h,E)}a.prototype.write=function(l,h,E,C){if(h===void 0)C="utf8",E=this.length,h=0;else if(E===void 0&&typeof h=="string")C=h,E=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(E)?(E=E>>>0,C===void 0&&(C="utf8")):(C=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-h;if((E===void 0||E>D)&&(E=D),l.length>0&&(E<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let z=!1;for(;;)switch(C){case"hex":return $(this,l,h,E);case"utf8":case"utf-8":return K(this,l,h,E);case"ascii":case"latin1":case"binary":return nt(this,l,h,E);case"base64":return J(this,l,h,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,l,h,E);default:if(z)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(y,l,h){return l===0&&h===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(l,h))}function c(y,l,h){h=Math.min(y.length,h);const E=[];let C=l;for(;C<h;){const D=y[C];let z=null,gt=D>239?4:D>223?3:D>191?2:1;if(C+gt<=h){let lt,ct,zt,at;switch(gt){case 1:D<128&&(z=D);break;case 2:lt=y[C+1],(lt&192)===128&&(at=(D&31)<<6|lt&63,at>127&&(z=at));break;case 3:lt=y[C+1],ct=y[C+2],(lt&192)===128&&(ct&192)===128&&(at=(D&15)<<12|(lt&63)<<6|ct&63,at>2047&&(at<55296||at>57343)&&(z=at));break;case 4:lt=y[C+1],ct=y[C+2],zt=y[C+3],(lt&192)===128&&(ct&192)===128&&(zt&192)===128&&(at=(D&15)<<18|(lt&63)<<12|(ct&63)<<6|zt&63,at>65535&&at<1114112&&(z=at))}}z===null?(z=65533,gt=1):z>65535&&(z-=65536,E.push(z>>>10&1023|55296),z=56320|z&1023),E.push(z),C+=gt}return p(E)}const d=4096;function p(y){const l=y.length;if(l<=d)return String.fromCharCode.apply(String,y);let h="",E=0;for(;E<l;)h+=String.fromCharCode.apply(String,y.slice(E,E+=d));return h}function w(y,l,h){let E="";h=Math.min(y.length,h);for(let C=l;C<h;++C)E+=String.fromCharCode(y[C]&127);return E}function b(y,l,h){let E="";h=Math.min(y.length,h);for(let C=l;C<h;++C)E+=String.fromCharCode(y[C]);return E}function M(y,l,h){const E=y.length;(!l||l<0)&&(l=0),(!h||h<0||h>E)&&(h=E);let C="";for(let D=l;D<h;++D)C+=Ft[y[D]];return C}function L(y,l,h){const E=y.slice(l,h);let C="";for(let D=0;D<E.length-1;D+=2)C+=String.fromCharCode(E[D]+E[D+1]*256);return C}a.prototype.slice=function(l,h){const E=this.length;l=~~l,h=h===void 0?E:~~h,l<0?(l+=E,l<0&&(l=0)):l>E&&(l=E),h<0?(h+=E,h<0&&(h=0)):h>E&&(h=E),h<l&&(h=l);const C=this.subarray(l,h);return Object.setPrototypeOf(C,a.prototype),C};function v(y,l,h){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=this[l],D=1,z=0;for(;++z<h&&(D*=256);)C+=this[l+z]*D;return C},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=this[l+--h],D=1;for(;h>0&&(D*=256);)C+=this[l+--h]*D;return C},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||v(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||v(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||v(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||v(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||v(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,D=this[++l]+this[++l]*2**8+this[++l]*2**16+E*2**24;return BigInt(C)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],D=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+E;return(BigInt(C)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=this[l],D=1,z=0;for(;++z<h&&(D*=256);)C+=this[l+z]*D;return D*=128,C>=D&&(C-=Math.pow(2,8*h)),C},a.prototype.readIntBE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=h,D=1,z=this[l+--C];for(;C>0&&(D*=256);)z+=this[l+--C]*D;return D*=128,z>=D&&(z-=Math.pow(2,8*h)),z},a.prototype.readInt8=function(l,h){return l=l>>>0,h||v(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||v(l,2,this.length);const E=this[l]|this[l+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||v(l,2,this.length);const E=this[l+1]|this[l]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||v(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||v(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(E<<24);return(BigInt(C)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(C)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+E)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||v(l,4,this.length),e.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||v(l,4,this.length),e.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||v(l,8,this.length),e.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||v(l,8,this.length),e.read(this,l,!1,52,8)};function f(y,l,h,E,C,D){if(!a.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>C||l<D)throw new RangeError('"value" argument is out of bounds');if(h+E>y.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,E,C){if(l=+l,h=h>>>0,E=E>>>0,!C){const gt=Math.pow(2,8*E)-1;f(this,l,h,E,gt,0)}let D=1,z=0;for(this[h]=l&255;++z<E&&(D*=256);)this[h+z]=l/D&255;return h+E},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,E,C){if(l=+l,h=h>>>0,E=E>>>0,!C){const gt=Math.pow(2,8*E)-1;f(this,l,h,E,gt,0)}let D=E-1,z=1;for(this[h+D]=l&255;--D>=0&&(z*=256);)this[h+D]=l/z&255;return h+E},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function A(y,l,h,E,C){ht(l,E,C,y,h,7);let D=Number(l&BigInt(4294967295));y[h++]=D,D=D>>8,y[h++]=D,D=D>>8,y[h++]=D,D=D>>8,y[h++]=D;let z=Number(l>>BigInt(32)&BigInt(4294967295));return y[h++]=z,z=z>>8,y[h++]=z,z=z>>8,y[h++]=z,z=z>>8,y[h++]=z,h}function W(y,l,h,E,C){ht(l,E,C,y,h,7);let D=Number(l&BigInt(4294967295));y[h+7]=D,D=D>>8,y[h+6]=D,D=D>>8,y[h+5]=D,D=D>>8,y[h+4]=D;let z=Number(l>>BigInt(32)&BigInt(4294967295));return y[h+3]=z,z=z>>8,y[h+2]=z,z=z>>8,y[h+1]=z,z=z>>8,y[h]=z,h+8}a.prototype.writeBigUInt64LE=Ee(function(l,h=0){return A(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ee(function(l,h=0){return W(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,E,C){if(l=+l,h=h>>>0,!C){const lt=Math.pow(2,8*E-1);f(this,l,h,E,lt-1,-lt)}let D=0,z=1,gt=0;for(this[h]=l&255;++D<E&&(z*=256);)l<0&&gt===0&&this[h+D-1]!==0&&(gt=1),this[h+D]=(l/z>>0)-gt&255;return h+E},a.prototype.writeIntBE=function(l,h,E,C){if(l=+l,h=h>>>0,!C){const lt=Math.pow(2,8*E-1);f(this,l,h,E,lt-1,-lt)}let D=E-1,z=1,gt=0;for(this[h+D]=l&255;--D>=0&&(z*=256);)l<0&&gt===0&&this[h+D+1]!==0&&(gt=1),this[h+D]=(l/z>>0)-gt&255;return h+E},a.prototype.writeInt8=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=Ee(function(l,h=0){return A(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ee(function(l,h=0){return W(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(y,l,h,E,C,D){if(h+E>y.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function H(y,l,h,E,C){return l=+l,h=h>>>0,C||q(y,l,h,4),e.write(y,l,h,E,23,4),h+4}a.prototype.writeFloatLE=function(l,h,E){return H(this,l,h,!0,E)},a.prototype.writeFloatBE=function(l,h,E){return H(this,l,h,!1,E)};function ut(y,l,h,E,C){return l=+l,h=h>>>0,C||q(y,l,h,8),e.write(y,l,h,E,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,E){return ut(this,l,h,!0,E)},a.prototype.writeDoubleBE=function(l,h,E){return ut(this,l,h,!1,E)},a.prototype.copy=function(l,h,E,C){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(E||(E=0),!C&&C!==0&&(C=this.length),h>=l.length&&(h=l.length),h||(h=0),C>0&&C<E&&(C=E),C===E||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),l.length-h<C-E&&(C=l.length-h+E);const D=C-E;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,E,C):Uint8Array.prototype.set.call(l,this.subarray(E,C),h),D},a.prototype.fill=function(l,h,E,C){if(typeof l=="string"){if(typeof h=="string"?(C=h,h=0,E=this.length):typeof E=="string"&&(C=E,E=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(l.length===1){const z=l.charCodeAt(0);(C==="utf8"&&z<128||C==="latin1")&&(l=z)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<E)throw new RangeError("Out of range index");if(E<=h)return this;h=h>>>0,E=E===void 0?this.length:E>>>0,l||(l=0);let D;if(typeof l=="number")for(D=h;D<E;++D)this[D]=l;else{const z=a.isBuffer(l)?l:a.from(l,C),gt=z.length;if(gt===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(D=0;D<E-h;++D)this[D+h]=z[D%gt]}return this};const et={};function rt(y,l,h){et[y]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(y,l){return`The "${y}" argument must be of type number. Received type ${typeof l}`},TypeError),rt("ERR_OUT_OF_RANGE",function(y,l,h){let E=`The value of "${y}" is out of range.`,C=h;return Number.isInteger(h)&&Math.abs(h)>2**32?C=Pt(String(h)):typeof h=="bigint"&&(C=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(C=Pt(C)),C+="n"),E+=` It must be ${l}. Received ${C}`,E},RangeError);function Pt(y){let l="",h=y.length;const E=y[0]==="-"?1:0;for(;h>=E+4;h-=3)l=`_${y.slice(h-3,h)}${l}`;return`${y.slice(0,h)}${l}`}function pt(y,l,h){jt(l,"offset"),(y[l]===void 0||y[l+h]===void 0)&&wt(l,y.length-(h+1))}function ht(y,l,h,E,C,D){if(y>h||y<l){const z=typeof l=="bigint"?"n":"";let gt;throw l===0||l===BigInt(0)?gt=`>= 0${z} and < 2${z} ** ${(D+1)*8}${z}`:gt=`>= -(2${z} ** ${(D+1)*8-1}${z}) and < 2 ** ${(D+1)*8-1}${z}`,new et.ERR_OUT_OF_RANGE("value",gt,y)}pt(E,C,D)}function jt(y,l){if(typeof y!="number")throw new et.ERR_INVALID_ARG_TYPE(l,"number",y)}function wt(y,l,h){throw Math.floor(y)!==y?(jt(y,h),new et.ERR_OUT_OF_RANGE("offset","an integer",y)):l<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,y)}const Mt=/[^+/0-9A-Za-z-_]/g;function yn(y){if(y=y.split("=")[0],y=y.trim().replace(Mt,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function _t(y,l){l=l||1/0;let h;const E=y.length;let C=null;const D=[];for(let z=0;z<E;++z){if(h=y.charCodeAt(z),h>55295&&h<57344){if(!C){if(h>56319){(l-=3)>-1&&D.push(239,191,189);continue}else if(z+1===E){(l-=3)>-1&&D.push(239,191,189);continue}C=h;continue}if(h<56320){(l-=3)>-1&&D.push(239,191,189),C=h;continue}h=(C-55296<<10|h-56320)+65536}else C&&(l-=3)>-1&&D.push(239,191,189);if(C=null,h<128){if((l-=1)<0)break;D.push(h)}else if(h<2048){if((l-=2)<0)break;D.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;D.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;D.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return D}function Ut(y){const l=[];for(let h=0;h<y.length;++h)l.push(y.charCodeAt(h)&255);return l}function nn(y,l){let h,E,C;const D=[];for(let z=0;z<y.length&&!((l-=2)<0);++z)h=y.charCodeAt(z),E=h>>8,C=h%256,D.push(C),D.push(E);return D}function Rt(y){return t.toByteArray(yn(y))}function Bt(y,l,h,E){let C;for(C=0;C<E&&!(C+h>=l.length||C>=y.length);++C)l[C+h]=y[C];return C}function we(y,l){return y instanceof l||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===l.name}function Nt(y){return y!==y}const Ft=function(){const y="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const E=h*16;for(let C=0;C<16;++C)l[E+C]=y[h]+y[C]}return l}();function Ee(y){return typeof BigInt>"u"?$t:y}function $t(){throw new Error("BigInt not supported")}})(qt);function g0(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Ab(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Cu(n,...t){if(!Ab(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function Ib(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");g0(n.outputLen),g0(n.blockLen)}function qc(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function _b(n,t){Cu(n);const e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}const Jo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wl(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Tr(n,t){return n<<32-t|n>>>t}function Bb(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function Lh(n){return typeof n=="string"&&(n=Bb(n)),Cu(n),n}function Tb(...n){let t=0;for(let r=0;r<n.length;r++){const o=n[r];Cu(o),t+=o.length}const e=new Uint8Array(t);for(let r=0,o=0;r<n.length;r++){const i=n[r];e.set(i,o),o+=i.length}return e}let Xp=class{clone(){return this._cloneInto()}};function tg(n){const t=r=>n().update(Lh(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function eg(n=32){if(Jo&&typeof Jo.getRandomValues=="function")return Jo.getRandomValues(new Uint8Array(n));if(Jo&&typeof Jo.randomBytes=="function")return Jo.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}function kb(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),a=Number(e&i),u=r?4:0,g=r?0:4;n.setUint32(t+u,s,r),n.setUint32(t+g,a,r)}function Lb(n,t,e){return n&t^~n&e}function Rb(n,t,e){return n&t^n&e^t&e}let ng=class extends Xp{constructor(t,e,r,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wl(this.buffer)}update(t){qc(this);const{view:e,buffer:r,blockLen:o}=this;t=Lh(t);const i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const u=wl(t);for(;o<=i-s;s+=o)this.process(u,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qc(this),_b(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let x=s;x<o;x++)e[x]=0;kb(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=wl(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=u/4,m=this.get();if(g>m.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<g;x++)a.setUint32(4*x,m[x],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.length=o,t.pos=a,t.finished=i,t.destroyed=s,o%e&&t.buffer.set(r),t}};const cc=BigInt(2**32-1),gf=BigInt(32);function rg(n,t=!1){return t?{h:Number(n&cc),l:Number(n>>gf&cc)}:{h:Number(n>>gf&cc)|0,l:Number(n&cc)|0}}function Nb(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let o=0;o<n.length;o++){const{h:i,l:s}=rg(n[o],t);[e[o],r[o]]=[i,s]}return[e,r]}const Cb=(n,t)=>BigInt(n>>>0)<<gf|BigInt(t>>>0),Ob=(n,t,e)=>n>>>e,Db=(n,t,e)=>n<<32-e|t>>>e,Ub=(n,t,e)=>n>>>e|t<<32-e,zb=(n,t,e)=>n<<32-e|t>>>e,jb=(n,t,e)=>n<<64-e|t>>>e-32,Pb=(n,t,e)=>n>>>e-32|t<<64-e,Fb=(n,t)=>t,$b=(n,t)=>n,Wb=(n,t,e)=>n<<e|t>>>32-e,Kb=(n,t,e)=>t<<e|n>>>32-e,qb=(n,t,e)=>t<<e-32|n>>>64-e,Hb=(n,t,e)=>n<<e-32|t>>>64-e;function Vb(n,t,e,r){const o=(t>>>0)+(r>>>0);return{h:n+e+(o/2**32|0)|0,l:o|0}}const Gb=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),Yb=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,Zb=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),Qb=(n,t,e,r,o)=>t+e+r+o+(n/2**32|0)|0,Jb=(n,t,e,r,o)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(o>>>0),Xb=(n,t,e,r,o,i)=>t+e+r+o+i+(n/2**32|0)|0,ue={fromBig:rg,split:Nb,toBig:Cb,shrSH:Ob,shrSL:Db,rotrSH:Ub,rotrSL:zb,rotrBH:jb,rotrBL:Pb,rotr32H:Fb,rotr32L:$b,rotlSH:Wb,rotlSL:Kb,rotlBH:qb,rotlBL:Hb,add:Vb,add3L:Gb,add3H:Yb,add4L:Zb,add4H:Qb,add5H:Xb,add5L:Jb},[tv,ev]=ue.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),vi=new Uint32Array(80),xi=new Uint32Array(80);let nv=class extends ng{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:o,Ch:i,Cl:s,Dh:a,Dl:u,Eh:g,El:m,Fh:x,Fl:B,Gh:S,Gl:k,Hh:T,Hl:I}=this;return[t,e,r,o,i,s,a,u,g,m,x,B,S,k,T,I]}set(t,e,r,o,i,s,a,u,g,m,x,B,S,k,T,I){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=u|0,this.Eh=g|0,this.El=m|0,this.Fh=x|0,this.Fl=B|0,this.Gh=S|0,this.Gl=k|0,this.Hh=T|0,this.Hl=I|0}process(t,e){for(let R=0;R<16;R++,e+=4)vi[R]=t.getUint32(e),xi[R]=t.getUint32(e+=4);for(let R=16;R<80;R++){const U=vi[R-15]|0,P=xi[R-15]|0,j=ue.rotrSH(U,P,1)^ue.rotrSH(U,P,8)^ue.shrSH(U,P,7),F=ue.rotrSL(U,P,1)^ue.rotrSL(U,P,8)^ue.shrSL(U,P,7),$=vi[R-2]|0,K=xi[R-2]|0,nt=ue.rotrSH($,K,19)^ue.rotrBH($,K,61)^ue.shrSH($,K,6),J=ue.rotrSL($,K,19)^ue.rotrBL($,K,61)^ue.shrSL($,K,6),X=ue.add4L(F,J,xi[R-7],xi[R-16]),_=ue.add4H(X,j,nt,vi[R-7],vi[R-16]);vi[R]=_|0,xi[R]=X|0}let{Ah:r,Al:o,Bh:i,Bl:s,Ch:a,Cl:u,Dh:g,Dl:m,Eh:x,El:B,Fh:S,Fl:k,Gh:T,Gl:I,Hh:N,Hl:O}=this;for(let R=0;R<80;R++){const U=ue.rotrSH(x,B,14)^ue.rotrSH(x,B,18)^ue.rotrBH(x,B,41),P=ue.rotrSL(x,B,14)^ue.rotrSL(x,B,18)^ue.rotrBL(x,B,41),j=x&S^~x&T,F=B&k^~B&I,$=ue.add5L(O,P,F,ev[R],xi[R]),K=ue.add5H($,N,U,j,tv[R],vi[R]),nt=$|0,J=ue.rotrSH(r,o,28)^ue.rotrBH(r,o,34)^ue.rotrBH(r,o,39),X=ue.rotrSL(r,o,28)^ue.rotrBL(r,o,34)^ue.rotrBL(r,o,39),_=r&i^r&a^i&a,c=o&s^o&u^s&u;N=T|0,O=I|0,T=S|0,I=k|0,S=x|0,k=B|0,{h:x,l:B}=ue.add(g|0,m|0,K|0,nt|0),g=a|0,m=u|0,a=i|0,u=s|0,i=r|0,s=o|0;const d=ue.add3L(nt,X,c);r=ue.add3H(d,K,J,_),o=d|0}({h:r,l:o}=ue.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:s}=ue.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:u}=ue.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:g,l:m}=ue.add(this.Dh|0,this.Dl|0,g|0,m|0),{h:x,l:B}=ue.add(this.Eh|0,this.El|0,x|0,B|0),{h:S,l:k}=ue.add(this.Fh|0,this.Fl|0,S|0,k|0),{h:T,l:I}=ue.add(this.Gh|0,this.Gl|0,T|0,I|0),{h:N,l:O}=ue.add(this.Hh|0,this.Hl|0,N|0,O|0),this.set(r,o,i,s,a,u,g,m,x,B,S,k,T,I,N,O)}roundClean(){vi.fill(0),xi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const rv=tg(()=>new nv);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ou=BigInt(0),Du=BigInt(1),iv=BigInt(2);function Do(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Ha(n){if(!Do(n))throw new Error("Uint8Array expected")}function hi(n,t){if(typeof t!="boolean")throw new Error(n+" boolean expected, got "+t)}const ov=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Uo(n){Ha(n);let t="";for(let e=0;e<n.length;e++)t+=ov[n[e]];return t}function gs(n){const t=n.toString(16);return t.length&1?"0"+t:t}function Rh(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Ou:BigInt("0x"+n)}const Yr={_0:48,_9:57,A:65,F:70,a:97,f:102};function m0(n){if(n>=Yr._0&&n<=Yr._9)return n-Yr._0;if(n>=Yr.A&&n<=Yr.F)return n-(Yr.A-10);if(n>=Yr.a&&n<=Yr.f)return n-(Yr.a-10)}function Ls(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const t=n.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(e);for(let o=0,i=0;o<e;o++,i+=2){const s=m0(n.charCodeAt(i)),a=m0(n.charCodeAt(i+1));if(s===void 0||a===void 0){const u=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[o]=s*16+a}return r}function Lo(n){return Rh(Uo(n))}function vs(n){return Ha(n),Rh(Uo(Uint8Array.from(n).reverse()))}function Rs(n,t){return Ls(n.toString(16).padStart(t*2,"0"))}function ka(n,t){return Rs(n,t).reverse()}function sv(n){return Ls(gs(n))}function Qe(n,t,e){let r;if(typeof t=="string")try{r=Ls(t)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(Do(t))r=Uint8Array.from(t);else throw new Error(n+" must be hex string or Uint8Array");const o=r.length;if(typeof e=="number"&&o!==e)throw new Error(n+" of length "+e+" expected, got "+o);return r}function zo(...n){let t=0;for(let r=0;r<n.length;r++){const o=n[r];Ha(o),t+=o.length}const e=new Uint8Array(t);for(let r=0,o=0;r<n.length;r++){const i=n[r];e.set(i,o),o+=i.length}return e}function av(n,t){if(n.length!==t.length)return!1;let e=0;for(let r=0;r<n.length;r++)e|=n[r]^t[r];return e===0}function cv(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const yl=n=>typeof n=="bigint"&&Ou<=n;function Uu(n,t,e){return yl(n)&&yl(t)&&yl(e)&&t<=n&&n<e}function gr(n,t,e,r){if(!Uu(t,e,r))throw new Error("expected valid "+n+": "+e+" <= n < "+r+", got "+t)}function ig(n){let t;for(t=0;n>Ou;n>>=Du,t+=1);return t}function uv(n,t){return n>>BigInt(t)&Du}function lv(n,t,e){return n|(e?Du:Ou)<<BigInt(t)}const Nh=n=>(iv<<BigInt(n-1))-Du,bl=n=>new Uint8Array(n),w0=n=>Uint8Array.from(n);function og(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=bl(n),o=bl(n),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...x)=>e(o,r,...x),u=(x=bl())=>{o=a(w0([0]),x),r=a(),x.length!==0&&(o=a(w0([1]),x),r=a())},g=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const B=[];for(;x<t;){r=a();const S=r.slice();B.push(S),x+=r.length}return zo(...B)};return(x,B)=>{s(),u(x);let S;for(;!(S=B(g()));)u();return s(),S}}const fv={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Do(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Zs(n,t,e={}){const r=(o,i,s)=>{const a=fv[i];if(typeof a!="function")throw new Error("invalid validator function");const u=n[o];if(!(s&&u===void 0)&&!a(u,n))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+u)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(e))r(o,i,!0);return n}const hv=()=>{throw new Error("not implemented")};function La(n){const t=new WeakMap;return(e,...r)=>{const o=t.get(e);if(o!==void 0)return o;const i=n(e,...r);return t.set(e,i),i}}const dv=Object.freeze(Object.defineProperty({__proto__:null,aInRange:gr,abool:hi,abytes:Ha,bitGet:uv,bitLen:ig,bitMask:Nh,bitSet:lv,bytesToHex:Uo,bytesToNumberBE:Lo,bytesToNumberLE:vs,concatBytes:zo,createHmacDrbg:og,ensureBytes:Qe,equalBytes:av,hexToBytes:Ls,hexToNumber:Rh,inRange:Uu,isBytes:Do,memoized:La,notImplemented:hv,numberToBytesBE:Rs,numberToBytesLE:ka,numberToHexUnpadded:gs,numberToVarBytesBE:sv,utf8ToBytes:cv,validateObject:Zs},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const an=BigInt(0),Ue=BigInt(1),mo=BigInt(2),pv=BigInt(3),mf=BigInt(4),y0=BigInt(5),b0=BigInt(8);function Re(n,t){const e=n%t;return e>=an?e:t+e}function gv(n,t,e){if(t<an)throw new Error("invalid exponent, negatives unsupported");if(e<=an)throw new Error("invalid modulus");if(e===Ue)return an;let r=Ue;for(;t>an;)t&Ue&&(r=r*n%e),n=n*n%e,t>>=Ue;return r}function Fe(n,t,e){let r=n;for(;t-- >an;)r*=r,r%=e;return r}function wf(n,t){if(n===an)throw new Error("invert: expected non-zero number");if(t<=an)throw new Error("invert: expected positive modulus, got "+t);let e=Re(n,t),r=t,o=an,i=Ue;for(;e!==an;){const a=r/e,u=r%e,g=o-i*a;r=e,e=u,o=i,i=g}if(r!==Ue)throw new Error("invert: does not exist");return Re(o,t)}function mv(n){const t=(n-Ue)/mo;let e,r,o;for(e=n-Ue,r=0;e%mo===an;e/=mo,r++);for(o=mo;o<n&&gv(o,t,n)!==n-Ue;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(n+Ue)/mf;return function(u,g){const m=u.pow(g,s);if(!u.eql(u.sqr(m),g))throw new Error("Cannot find square root");return m}}const i=(e+Ue)/mo;return function(a,u){if(a.pow(u,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let g=r,m=a.pow(a.mul(a.ONE,o),e),x=a.pow(u,i),B=a.pow(u,e);for(;!a.eql(B,a.ONE);){if(a.eql(B,a.ZERO))return a.ZERO;let S=1;for(let T=a.sqr(B);S<g&&!a.eql(T,a.ONE);S++)T=a.sqr(T);const k=a.pow(m,Ue<<BigInt(g-S-1));m=a.sqr(k),x=a.mul(x,k),B=a.mul(B,m),g=S}return x}}function wv(n){if(n%mf===pv){const t=(n+Ue)/mf;return function(r,o){const i=r.pow(o,t);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(n%b0===y0){const t=(n-y0)/b0;return function(r,o){const i=r.mul(o,mo),s=r.pow(i,t),a=r.mul(o,s),u=r.mul(r.mul(a,mo),s),g=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(g),o))throw new Error("Cannot find square root");return g}}return mv(n)}const yv=(n,t)=>(Re(n,t)&Ue)===Ue,bv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vv(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=bv.reduce((r,o)=>(r[o]="function",r),t);return Zs(n,e)}function xv(n,t,e){if(e<an)throw new Error("invalid exponent, negatives unsupported");if(e===an)return n.ONE;if(e===Ue)return t;let r=n.ONE,o=t;for(;e>an;)e&Ue&&(r=n.mul(r,o)),o=n.sqr(o),e>>=Ue;return r}function Mv(n,t){const e=new Array(t.length),r=t.reduce((i,s,a)=>n.is0(s)?i:(e[a]=i,n.mul(i,s)),n.ONE),o=n.inv(r);return t.reduceRight((i,s,a)=>n.is0(s)?i:(e[a]=n.mul(i,e[a]),n.mul(i,s)),o),e}function sg(n,t){const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function zu(n,t,e=!1,r={}){if(n<=an)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:o,nByteLength:i}=sg(n,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:n,isLE:e,BITS:o,BYTES:i,MASK:Nh(o),ZERO:an,ONE:Ue,create:u=>Re(u,n),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return an<=u&&u<n},is0:u=>u===an,isOdd:u=>(u&Ue)===Ue,neg:u=>Re(-u,n),eql:(u,g)=>u===g,sqr:u=>Re(u*u,n),add:(u,g)=>Re(u+g,n),sub:(u,g)=>Re(u-g,n),mul:(u,g)=>Re(u*g,n),pow:(u,g)=>xv(a,u,g),div:(u,g)=>Re(u*wf(g,n),n),sqrN:u=>u*u,addN:(u,g)=>u+g,subN:(u,g)=>u-g,mulN:(u,g)=>u*g,inv:u=>wf(u,n),sqrt:r.sqrt||(u=>(s||(s=wv(n)),s(a,u))),invertBatch:u=>Mv(a,u),cmov:(u,g,m)=>m?g:u,toBytes:u=>e?ka(u,i):Rs(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return e?vs(u):Lo(u)}});return Object.freeze(a)}function ag(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function cg(n){const t=ag(n);return t+Math.ceil(t/2)}function Ev(n,t,e=!1){const r=n.length,o=ag(t),i=cg(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=e?vs(n):Lo(n),a=Re(s,t-Ue)+Ue;return e?ka(a,o):Rs(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v0=BigInt(0),uc=BigInt(1);function vl(n,t){const e=t.negate();return n?e:t}function ug(n,t){if(!Number.isSafeInteger(n)||n<=0||n>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+n)}function xl(n,t){ug(n,t);const e=Math.ceil(t/n)+1,r=2**(n-1);return{windows:e,windowSize:r}}function Sv(n,t){if(!Array.isArray(n))throw new Error("array expected");n.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function Av(n,t){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const Ml=new WeakMap,lg=new WeakMap;function El(n){return lg.get(n)||1}function fg(n,t){return{constTimeNegate:vl,hasPrecomputes(e){return El(e)!==1},unsafeLadder(e,r,o=n.ZERO){let i=e;for(;r>v0;)r&uc&&(o=o.add(i)),i=i.double(),r>>=uc;return o},precomputeWindow(e,r){const{windows:o,windowSize:i}=xl(r,t),s=[];let a=e,u=a;for(let g=0;g<o;g++){u=a,s.push(u);for(let m=1;m<i;m++)u=u.add(a),s.push(u);a=u.double()}return s},wNAF(e,r,o){const{windows:i,windowSize:s}=xl(e,t);let a=n.ZERO,u=n.BASE;const g=BigInt(2**e-1),m=2**e,x=BigInt(e);for(let B=0;B<i;B++){const S=B*s;let k=Number(o&g);o>>=x,k>s&&(k-=m,o+=uc);const T=S,I=S+Math.abs(k)-1,N=B%2!==0,O=k<0;k===0?u=u.add(vl(N,r[T])):a=a.add(vl(O,r[I]))}return{p:a,f:u}},wNAFUnsafe(e,r,o,i=n.ZERO){const{windows:s,windowSize:a}=xl(e,t),u=BigInt(2**e-1),g=2**e,m=BigInt(e);for(let x=0;x<s;x++){const B=x*a;if(o===v0)break;let S=Number(o&u);if(o>>=m,S>a&&(S-=g,o+=uc),S===0)continue;let k=r[B+Math.abs(S)-1];S<0&&(k=k.negate()),i=i.add(k)}return i},getPrecomputes(e,r,o){let i=Ml.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&Ml.set(r,o(i))),i},wNAFCached(e,r,o){const i=El(e);return this.wNAF(i,this.getPrecomputes(i,e,o),r)},wNAFCachedUnsafe(e,r,o,i){const s=El(e);return s===1?this.unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,o),r,i)},setWindowSize(e,r){ug(r,t),lg.set(e,r),Ml.delete(e)}}}function hg(n,t,e,r){if(Sv(e,n),Av(r,t),e.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=n.ZERO,i=ig(BigInt(e.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,u=new Array(a+1).fill(o),g=Math.floor((t.BITS-1)/s)*s;let m=o;for(let x=g;x>=0;x-=s){u.fill(o);for(let S=0;S<r.length;S++){const k=r[S],T=Number(k>>BigInt(x)&BigInt(a));u[T]=u[T].add(e[S])}let B=o;for(let S=u.length-1,k=o;S>0;S--)k=k.add(u[S]),B=B.add(k);if(m=m.add(B),x!==0)for(let S=0;S<s;S++)m=m.double()}return m}function Ch(n){return vv(n.Fp),Zs(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sg(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const br=BigInt(0),$n=BigInt(1),lc=BigInt(2),Iv=BigInt(8),_v={zip215:!0};function Bv(n){const t=Ch(n);return Zs(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Tv(n){const t=Bv(n),{Fp:e,n:r,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:u}=t,g=lc<<BigInt(a*8)-$n,m=e.create,x=zu(t.n,t.nBitLength),B=t.uvRatio||((p,w)=>{try{return{isValid:!0,value:e.sqrt(p*e.inv(w))}}catch{return{isValid:!1,value:br}}}),S=t.adjustScalarBytes||(p=>p),k=t.domain||((p,w,b)=>{if(hi("phflag",b),w.length||b)throw new Error("Contexts/pre-hash are not supported");return p});function T(p,w){gr("coordinate "+p,w,br,g)}function I(p){if(!(p instanceof R))throw new Error("ExtendedPoint expected")}const N=La((p,w)=>{const{ex:b,ey:M,ez:L}=p,v=p.is0();w==null&&(w=v?Iv:e.inv(L));const f=m(b*w),A=m(M*w),W=m(L*w);if(v)return{x:br,y:$n};if(W!==$n)throw new Error("invZ was invalid");return{x:f,y:A}}),O=La(p=>{const{a:w,d:b}=t;if(p.is0())throw new Error("bad point: ZERO");const{ex:M,ey:L,ez:v,et:f}=p,A=m(M*M),W=m(L*L),q=m(v*v),H=m(q*q),ut=m(A*w),et=m(q*m(ut+W)),rt=m(H+m(b*m(A*W)));if(et!==rt)throw new Error("bad point: equation left != right (1)");const Pt=m(M*L),pt=m(v*f);if(Pt!==pt)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(w,b,M,L){this.ex=w,this.ey=b,this.ez=M,this.et=L,T("x",w),T("y",b),T("z",M),T("t",L),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof R)throw new Error("extended point not allowed");const{x:b,y:M}=w||{};return T("x",b),T("y",M),new R(b,M,$n,m(b*M))}static normalizeZ(w){const b=e.invertBatch(w.map(M=>M.ez));return w.map((M,L)=>M.toAffine(b[L])).map(R.fromAffine)}static msm(w,b){return hg(R,x,w,b)}_setWindowSize(w){j.setWindowSize(this,w)}assertValidity(){O(this)}equals(w){I(w);const{ex:b,ey:M,ez:L}=this,{ex:v,ey:f,ez:A}=w,W=m(b*A),q=m(v*L),H=m(M*A),ut=m(f*L);return W===q&&H===ut}is0(){return this.equals(R.ZERO)}negate(){return new R(m(-this.ex),this.ey,this.ez,m(-this.et))}double(){const{a:w}=t,{ex:b,ey:M,ez:L}=this,v=m(b*b),f=m(M*M),A=m(lc*m(L*L)),W=m(w*v),q=b+M,H=m(m(q*q)-v-f),ut=W+f,et=ut-A,rt=W-f,Pt=m(H*et),pt=m(ut*rt),ht=m(H*rt),jt=m(et*ut);return new R(Pt,pt,jt,ht)}add(w){I(w);const{a:b,d:M}=t,{ex:L,ey:v,ez:f,et:A}=this,{ex:W,ey:q,ez:H,et:ut}=w;if(b===BigInt(-1)){const Rt=m((v-L)*(q+W)),Bt=m((v+L)*(q-W)),we=m(Bt-Rt);if(we===br)return this.double();const Nt=m(f*lc*ut),Ft=m(A*lc*H),Ee=Ft+Nt,$t=Bt+Rt,y=Ft-Nt,l=m(Ee*we),h=m($t*y),E=m(Ee*y),C=m(we*$t);return new R(l,h,C,E)}const et=m(L*W),rt=m(v*q),Pt=m(A*M*ut),pt=m(f*H),ht=m((L+v)*(W+q)-et-rt),jt=pt-Pt,wt=pt+Pt,Mt=m(rt-b*et),yn=m(ht*jt),_t=m(wt*Mt),Ut=m(ht*Mt),nn=m(jt*wt);return new R(yn,_t,nn,Ut)}subtract(w){return this.add(w.negate())}wNAF(w){return j.wNAFCached(this,w,R.normalizeZ)}multiply(w){const b=w;gr("scalar",b,$n,r);const{p:M,f:L}=this.wNAF(b);return R.normalizeZ([M,L])[0]}multiplyUnsafe(w,b=R.ZERO){const M=w;return gr("scalar",M,br,r),M===br?P:this.is0()||M===$n?this:j.wNAFCachedUnsafe(this,M,R.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return j.unsafeLadder(this,r).is0()}toAffine(w){return N(this,w)}clearCofactor(){const{h:w}=t;return w===$n?this:this.multiplyUnsafe(w)}static fromHex(w,b=!1){const{d:M,a:L}=t,v=e.BYTES;w=Qe("pointHex",w,v),hi("zip215",b);const f=w.slice(),A=w[v-1];f[v-1]=A&-129;const W=vs(f),q=b?g:e.ORDER;gr("pointHex.y",W,br,q);const H=m(W*W),ut=m(H-$n),et=m(M*H-L);let{isValid:rt,value:Pt}=B(ut,et);if(!rt)throw new Error("Point.fromHex: invalid y coordinate");const pt=(Pt&$n)===$n,ht=(A&128)!==0;if(!b&&Pt===br&&ht)throw new Error("Point.fromHex: x=0 and x_0=1");return ht!==pt&&(Pt=m(-Pt)),R.fromAffine({x:Pt,y:W})}static fromPrivateKey(w){return K(w).point}toRawBytes(){const{x:w,y:b}=this.toAffine(),M=ka(b,e.BYTES);return M[M.length-1]|=w&$n?128:0,M}toHex(){return Uo(this.toRawBytes())}}R.BASE=new R(t.Gx,t.Gy,$n,m(t.Gx*t.Gy)),R.ZERO=new R(br,$n,$n,br);const{BASE:U,ZERO:P}=R,j=fg(R,a*8);function F(p){return Re(p,r)}function $(p){return F(vs(p))}function K(p){const w=e.BYTES;p=Qe("private key",p,w);const b=Qe("hashed private key",i(p),2*w),M=S(b.slice(0,w)),L=b.slice(w,2*w),v=$(M),f=U.multiply(v),A=f.toRawBytes();return{head:M,prefix:L,scalar:v,point:f,pointBytes:A}}function nt(p){return K(p).pointBytes}function J(p=new Uint8Array,...w){const b=zo(...w);return $(i(k(b,Qe("context",p),!!o)))}function X(p,w,b={}){p=Qe("message",p),o&&(p=o(p));const{prefix:M,scalar:L,pointBytes:v}=K(w),f=J(b.context,M,p),A=U.multiply(f).toRawBytes(),W=J(b.context,A,v,p),q=F(f+W*L);gr("signature.s",q,br,r);const H=zo(A,ka(q,e.BYTES));return Qe("result",H,e.BYTES*2)}const _=_v;function c(p,w,b,M=_){const{context:L,zip215:v}=M,f=e.BYTES;p=Qe("signature",p,2*f),w=Qe("message",w),b=Qe("publicKey",b,f),v!==void 0&&hi("zip215",v),o&&(w=o(w));const A=vs(p.slice(f,2*f));let W,q,H;try{W=R.fromHex(b,v),q=R.fromHex(p.slice(0,f),v),H=U.multiplyUnsafe(A)}catch{return!1}if(!v&&W.isSmallOrder())return!1;const ut=J(L,q.toRawBytes(),W.toRawBytes(),w);return q.add(W.multiplyUnsafe(ut)).subtract(H).clearCofactor().equals(R.ZERO)}return U._setWindowSize(8),{CURVE:t,getPublicKey:nt,sign:X,verify:c,ExtendedPoint:R,utils:{getExtendedPublicKey:K,randomPrivateKey:()=>s(e.BYTES),precompute(p=8,w=R.BASE){return w._setWindowSize(p),w.multiply(BigInt(3)),w}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oh=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),x0=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const kv=BigInt(1),M0=BigInt(2);BigInt(3);const Lv=BigInt(5),Rv=BigInt(8);function Nv(n){const t=BigInt(10),e=BigInt(20),r=BigInt(40),o=BigInt(80),i=Oh,a=n*n%i*n%i,u=Fe(a,M0,i)*a%i,g=Fe(u,kv,i)*n%i,m=Fe(g,Lv,i)*g%i,x=Fe(m,t,i)*m%i,B=Fe(x,e,i)*x%i,S=Fe(B,r,i)*B%i,k=Fe(S,o,i)*S%i,T=Fe(k,o,i)*S%i,I=Fe(T,t,i)*m%i;return{pow_p_5_8:Fe(I,M0,i)*n%i,b2:a}}function Cv(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Ov(n,t){const e=Oh,r=Re(t*t*t,e),o=Re(r*r*t,e),i=Nv(n*o).pow_p_5_8;let s=Re(n*r*i,e);const a=Re(t*s*s,e),u=s,g=Re(s*x0,e),m=a===n,x=a===Re(-n,e),B=a===Re(-n*x0,e);return m&&(s=u),(x||B)&&(s=g),yv(s,e)&&(s=Re(-s,e)),{isValid:m||x,value:s}}const Dv=zu(Oh,void 0,!0),Uv={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Dv,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Rv,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:rv,randomBytes:eg,adjustScalarBytes:Cv,uvRatio:Ov},Dh=Tv(Uv);var Uh={exports:{}};const zv={},jv=Object.freeze(Object.defineProperty({__proto__:null,default:zv},Symbol.toStringTag,{value:"Module"})),dg=qa(jv);Uh.exports;(function(n){(function(t,e){function r(_,c){if(!_)throw new Error(c||"Assertion failed")}function o(_,c){_.super_=c;var d=function(){};d.prototype=c.prototype,_.prototype=new d,_.prototype.constructor=_}function i(_,c,d){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(_||0,c||10,d||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=dg.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&(w++,this.negative=1),w<c.length&&(d===16?this._parseHex(c,w,p):(this._parseBase(c,d,w),p==="le"&&this._initArray(this.toArray(),d,p)))},i.prototype._initNumber=function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},i.prototype._initArray=function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var b,M,L=0;if(p==="be")for(w=c.length-1,b=0;w>=0;w-=3)M=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[b]|=M<<L&67108863,this.words[b+1]=M>>>26-L&67108863,L+=24,L>=26&&(L-=26,b++);else if(p==="le")for(w=0,b=0;w<c.length;w+=3)M=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[b]|=M<<L&67108863,this.words[b+1]=M>>>26-L&67108863,L+=24,L>=26&&(L-=26,b++);return this._strip()};function a(_,c){var d=_.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+_)}function u(_,c,d){var p=a(_,d);return d-1>=c&&(p|=a(_,d-1)<<4),p}i.prototype._parseHex=function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var b=0,M=0,L;if(p==="be")for(w=c.length-1;w>=d;w-=2)L=u(c,d,w)<<b,this.words[M]|=L&67108863,b>=18?(b-=18,M+=1,this.words[M]|=L>>>26):b+=8;else{var v=c.length-d;for(w=v%2===0?d+1:d;w<c.length;w+=2)L=u(c,d,w)<<b,this.words[M]|=L&67108863,b>=18?(b-=18,M+=1,this.words[M]|=L>>>26):b+=8}this._strip()};function g(_,c,d,p){for(var w=0,b=0,M=Math.min(_.length,d),L=c;L<M;L++){var v=_.charCodeAt(L)-48;w*=p,v>=49?b=v-49+10:v>=17?b=v-17+10:b=v,r(v>=0&&b<p,"Invalid character"),w+=b}return w}i.prototype._parseBase=function(c,d,p){this.words=[0],this.length=1;for(var w=0,b=1;b<=67108863;b*=d)w++;w--,b=b/d|0;for(var M=c.length-p,L=M%w,v=Math.min(M,M-L)+p,f=0,A=p;A<v;A+=w)f=g(c,A,A+w,d),this.imuln(b),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(L!==0){var W=1;for(f=g(c,A,c.length,d),A=0;A<L;A++)W*=d;this.imuln(W),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function m(_,c){_.words=c.words,_.length=c.length,_.negative=c.negative,_.red=c.red}if(i.prototype._move=function(c){m(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var w=0,b=0,M=0;M<this.length;M++){var L=this.words[M],v=((L<<w|b)&16777215).toString(16);b=L>>>24-w&16777215,w+=2,w>=26&&(w-=26,M--),b!==0||M!==this.length-1?p=B[6-v.length]+v+p:p=v+p}for(b!==0&&(p=b.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var f=S[c],A=k[c];p="";var W=this.clone();for(W.negative=0;!W.isZero();){var q=W.modrn(A).toString(c);W=W.idivn(A),W.isZero()?p=q+p:p=B[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var T=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,p){this._strip();var w=this.byteLength(),b=p||Math.max(1,w);r(w<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0");var M=T(c,b),L=d==="le"?"LE":"BE";return this["_toArrayLike"+L](M,w),M},i.prototype._toArrayLikeLE=function(c,d){for(var p=0,w=0,b=0,M=0;b<this.length;b++){var L=this.words[b]<<M|w;c[p++]=L&255,p<c.length&&(c[p++]=L>>8&255),p<c.length&&(c[p++]=L>>16&255),M===6?(p<c.length&&(c[p++]=L>>24&255),w=0,M=0):(w=L>>>24,M+=2)}if(p<c.length)for(c[p++]=w;p<c.length;)c[p++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var p=c.length-1,w=0,b=0,M=0;b<this.length;b++){var L=this.words[b]<<M|w;c[p--]=L&255,p>=0&&(c[p--]=L>>8&255),p>=0&&(c[p--]=L>>16&255),M===6?(p>=0&&(c[p--]=L>>24&255),w=0,M=0):(w=L>>>24,M+=2)}if(p>=0)for(c[p--]=w;p>=0;)c[p--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function I(_){for(var c=new Array(_.bitLength()),d=0;d<c.length;d++){var p=d/26|0,w=d%26;c[d]=_.words[p]>>>w&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var w=0;w<p.length;w++)this.words[w]=d.words[w]^p.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return p>0&&(this.words[w]=~this.words[w]&67108863>>26-p),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,w=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<w:this.words[p]=this.words[p]&~(1<<w),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,w;this.length>c.length?(p=this,w=c):(p=c,w=this);for(var b=0,M=0;M<w.length;M++)d=(p.words[M]|0)+(w.words[M]|0)+b,this.words[M]=d&67108863,b=d>>>26;for(;b!==0&&M<p.length;M++)d=(p.words[M]|0)+b,this.words[M]=d&67108863,b=d>>>26;if(this.length=p.length,b!==0)this.words[this.length]=b,this.length++;else if(p!==this)for(;M<p.length;M++)this.words[M]=p.words[M];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,b;p>0?(w=this,b=c):(w=c,b=this);for(var M=0,L=0;L<b.length;L++)d=(w.words[L]|0)-(b.words[L]|0)+M,M=d>>26,this.words[L]=d&67108863;for(;M!==0&&L<w.length;L++)d=(w.words[L]|0)+M,M=d>>26,this.words[L]=d&67108863;if(M===0&&L<w.length&&w!==this)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=Math.max(this.length,L),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function N(_,c,d){d.negative=c.negative^_.negative;var p=_.length+c.length|0;d.length=p,p=p-1|0;var w=_.words[0]|0,b=c.words[0]|0,M=w*b,L=M&67108863,v=M/67108864|0;d.words[0]=L;for(var f=1;f<p;f++){for(var A=v>>>26,W=v&67108863,q=Math.min(f,c.length-1),H=Math.max(0,f-_.length+1);H<=q;H++){var ut=f-H|0;w=_.words[ut]|0,b=c.words[H]|0,M=w*b+W,A+=M/67108864|0,W=M&67108863}d.words[f]=W|0,v=A|0}return v!==0?d.words[f]=v|0:d.length--,d._strip()}var O=function(c,d,p){var w=c.words,b=d.words,M=p.words,L=0,v,f,A,W=w[0]|0,q=W&8191,H=W>>>13,ut=w[1]|0,et=ut&8191,rt=ut>>>13,Pt=w[2]|0,pt=Pt&8191,ht=Pt>>>13,jt=w[3]|0,wt=jt&8191,Mt=jt>>>13,yn=w[4]|0,_t=yn&8191,Ut=yn>>>13,nn=w[5]|0,Rt=nn&8191,Bt=nn>>>13,we=w[6]|0,Nt=we&8191,Ft=we>>>13,Ee=w[7]|0,$t=Ee&8191,y=Ee>>>13,l=w[8]|0,h=l&8191,E=l>>>13,C=w[9]|0,D=C&8191,z=C>>>13,gt=b[0]|0,lt=gt&8191,ct=gt>>>13,zt=b[1]|0,at=zt&8191,Ht=zt>>>13,aa=b[2]|0,Vt=aa&8191,Gt=aa>>>13,ca=b[3]|0,Yt=ca&8191,Zt=ca>>>13,ua=b[4]|0,Qt=ua&8191,Jt=ua>>>13,la=b[5]|0,Xt=la&8191,te=la>>>13,fa=b[6]|0,ee=fa&8191,ne=fa>>>13,ha=b[7]|0,re=ha&8191,ie=ha>>>13,da=b[8]|0,oe=da&8191,se=da>>>13,pa=b[9]|0,ae=pa&8191,ce=pa>>>13;p.negative=c.negative^d.negative,p.length=19,v=Math.imul(q,lt),f=Math.imul(q,ct),f=f+Math.imul(H,lt)|0,A=Math.imul(H,ct);var Vi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,v=Math.imul(et,lt),f=Math.imul(et,ct),f=f+Math.imul(rt,lt)|0,A=Math.imul(rt,ct),v=v+Math.imul(q,at)|0,f=f+Math.imul(q,Ht)|0,f=f+Math.imul(H,at)|0,A=A+Math.imul(H,Ht)|0;var Gi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,v=Math.imul(pt,lt),f=Math.imul(pt,ct),f=f+Math.imul(ht,lt)|0,A=Math.imul(ht,ct),v=v+Math.imul(et,at)|0,f=f+Math.imul(et,Ht)|0,f=f+Math.imul(rt,at)|0,A=A+Math.imul(rt,Ht)|0,v=v+Math.imul(q,Vt)|0,f=f+Math.imul(q,Gt)|0,f=f+Math.imul(H,Vt)|0,A=A+Math.imul(H,Gt)|0;var Yi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,v=Math.imul(wt,lt),f=Math.imul(wt,ct),f=f+Math.imul(Mt,lt)|0,A=Math.imul(Mt,ct),v=v+Math.imul(pt,at)|0,f=f+Math.imul(pt,Ht)|0,f=f+Math.imul(ht,at)|0,A=A+Math.imul(ht,Ht)|0,v=v+Math.imul(et,Vt)|0,f=f+Math.imul(et,Gt)|0,f=f+Math.imul(rt,Vt)|0,A=A+Math.imul(rt,Gt)|0,v=v+Math.imul(q,Yt)|0,f=f+Math.imul(q,Zt)|0,f=f+Math.imul(H,Yt)|0,A=A+Math.imul(H,Zt)|0;var Zi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,v=Math.imul(_t,lt),f=Math.imul(_t,ct),f=f+Math.imul(Ut,lt)|0,A=Math.imul(Ut,ct),v=v+Math.imul(wt,at)|0,f=f+Math.imul(wt,Ht)|0,f=f+Math.imul(Mt,at)|0,A=A+Math.imul(Mt,Ht)|0,v=v+Math.imul(pt,Vt)|0,f=f+Math.imul(pt,Gt)|0,f=f+Math.imul(ht,Vt)|0,A=A+Math.imul(ht,Gt)|0,v=v+Math.imul(et,Yt)|0,f=f+Math.imul(et,Zt)|0,f=f+Math.imul(rt,Yt)|0,A=A+Math.imul(rt,Zt)|0,v=v+Math.imul(q,Qt)|0,f=f+Math.imul(q,Jt)|0,f=f+Math.imul(H,Qt)|0,A=A+Math.imul(H,Jt)|0;var Qi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,v=Math.imul(Rt,lt),f=Math.imul(Rt,ct),f=f+Math.imul(Bt,lt)|0,A=Math.imul(Bt,ct),v=v+Math.imul(_t,at)|0,f=f+Math.imul(_t,Ht)|0,f=f+Math.imul(Ut,at)|0,A=A+Math.imul(Ut,Ht)|0,v=v+Math.imul(wt,Vt)|0,f=f+Math.imul(wt,Gt)|0,f=f+Math.imul(Mt,Vt)|0,A=A+Math.imul(Mt,Gt)|0,v=v+Math.imul(pt,Yt)|0,f=f+Math.imul(pt,Zt)|0,f=f+Math.imul(ht,Yt)|0,A=A+Math.imul(ht,Zt)|0,v=v+Math.imul(et,Qt)|0,f=f+Math.imul(et,Jt)|0,f=f+Math.imul(rt,Qt)|0,A=A+Math.imul(rt,Jt)|0,v=v+Math.imul(q,Xt)|0,f=f+Math.imul(q,te)|0,f=f+Math.imul(H,Xt)|0,A=A+Math.imul(H,te)|0;var Ji=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,v=Math.imul(Nt,lt),f=Math.imul(Nt,ct),f=f+Math.imul(Ft,lt)|0,A=Math.imul(Ft,ct),v=v+Math.imul(Rt,at)|0,f=f+Math.imul(Rt,Ht)|0,f=f+Math.imul(Bt,at)|0,A=A+Math.imul(Bt,Ht)|0,v=v+Math.imul(_t,Vt)|0,f=f+Math.imul(_t,Gt)|0,f=f+Math.imul(Ut,Vt)|0,A=A+Math.imul(Ut,Gt)|0,v=v+Math.imul(wt,Yt)|0,f=f+Math.imul(wt,Zt)|0,f=f+Math.imul(Mt,Yt)|0,A=A+Math.imul(Mt,Zt)|0,v=v+Math.imul(pt,Qt)|0,f=f+Math.imul(pt,Jt)|0,f=f+Math.imul(ht,Qt)|0,A=A+Math.imul(ht,Jt)|0,v=v+Math.imul(et,Xt)|0,f=f+Math.imul(et,te)|0,f=f+Math.imul(rt,Xt)|0,A=A+Math.imul(rt,te)|0,v=v+Math.imul(q,ee)|0,f=f+Math.imul(q,ne)|0,f=f+Math.imul(H,ee)|0,A=A+Math.imul(H,ne)|0;var Xi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,v=Math.imul($t,lt),f=Math.imul($t,ct),f=f+Math.imul(y,lt)|0,A=Math.imul(y,ct),v=v+Math.imul(Nt,at)|0,f=f+Math.imul(Nt,Ht)|0,f=f+Math.imul(Ft,at)|0,A=A+Math.imul(Ft,Ht)|0,v=v+Math.imul(Rt,Vt)|0,f=f+Math.imul(Rt,Gt)|0,f=f+Math.imul(Bt,Vt)|0,A=A+Math.imul(Bt,Gt)|0,v=v+Math.imul(_t,Yt)|0,f=f+Math.imul(_t,Zt)|0,f=f+Math.imul(Ut,Yt)|0,A=A+Math.imul(Ut,Zt)|0,v=v+Math.imul(wt,Qt)|0,f=f+Math.imul(wt,Jt)|0,f=f+Math.imul(Mt,Qt)|0,A=A+Math.imul(Mt,Jt)|0,v=v+Math.imul(pt,Xt)|0,f=f+Math.imul(pt,te)|0,f=f+Math.imul(ht,Xt)|0,A=A+Math.imul(ht,te)|0,v=v+Math.imul(et,ee)|0,f=f+Math.imul(et,ne)|0,f=f+Math.imul(rt,ee)|0,A=A+Math.imul(rt,ne)|0,v=v+Math.imul(q,re)|0,f=f+Math.imul(q,ie)|0,f=f+Math.imul(H,re)|0,A=A+Math.imul(H,ie)|0;var to=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(to>>>26)|0,to&=67108863,v=Math.imul(h,lt),f=Math.imul(h,ct),f=f+Math.imul(E,lt)|0,A=Math.imul(E,ct),v=v+Math.imul($t,at)|0,f=f+Math.imul($t,Ht)|0,f=f+Math.imul(y,at)|0,A=A+Math.imul(y,Ht)|0,v=v+Math.imul(Nt,Vt)|0,f=f+Math.imul(Nt,Gt)|0,f=f+Math.imul(Ft,Vt)|0,A=A+Math.imul(Ft,Gt)|0,v=v+Math.imul(Rt,Yt)|0,f=f+Math.imul(Rt,Zt)|0,f=f+Math.imul(Bt,Yt)|0,A=A+Math.imul(Bt,Zt)|0,v=v+Math.imul(_t,Qt)|0,f=f+Math.imul(_t,Jt)|0,f=f+Math.imul(Ut,Qt)|0,A=A+Math.imul(Ut,Jt)|0,v=v+Math.imul(wt,Xt)|0,f=f+Math.imul(wt,te)|0,f=f+Math.imul(Mt,Xt)|0,A=A+Math.imul(Mt,te)|0,v=v+Math.imul(pt,ee)|0,f=f+Math.imul(pt,ne)|0,f=f+Math.imul(ht,ee)|0,A=A+Math.imul(ht,ne)|0,v=v+Math.imul(et,re)|0,f=f+Math.imul(et,ie)|0,f=f+Math.imul(rt,re)|0,A=A+Math.imul(rt,ie)|0,v=v+Math.imul(q,oe)|0,f=f+Math.imul(q,se)|0,f=f+Math.imul(H,oe)|0,A=A+Math.imul(H,se)|0;var eo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(eo>>>26)|0,eo&=67108863,v=Math.imul(D,lt),f=Math.imul(D,ct),f=f+Math.imul(z,lt)|0,A=Math.imul(z,ct),v=v+Math.imul(h,at)|0,f=f+Math.imul(h,Ht)|0,f=f+Math.imul(E,at)|0,A=A+Math.imul(E,Ht)|0,v=v+Math.imul($t,Vt)|0,f=f+Math.imul($t,Gt)|0,f=f+Math.imul(y,Vt)|0,A=A+Math.imul(y,Gt)|0,v=v+Math.imul(Nt,Yt)|0,f=f+Math.imul(Nt,Zt)|0,f=f+Math.imul(Ft,Yt)|0,A=A+Math.imul(Ft,Zt)|0,v=v+Math.imul(Rt,Qt)|0,f=f+Math.imul(Rt,Jt)|0,f=f+Math.imul(Bt,Qt)|0,A=A+Math.imul(Bt,Jt)|0,v=v+Math.imul(_t,Xt)|0,f=f+Math.imul(_t,te)|0,f=f+Math.imul(Ut,Xt)|0,A=A+Math.imul(Ut,te)|0,v=v+Math.imul(wt,ee)|0,f=f+Math.imul(wt,ne)|0,f=f+Math.imul(Mt,ee)|0,A=A+Math.imul(Mt,ne)|0,v=v+Math.imul(pt,re)|0,f=f+Math.imul(pt,ie)|0,f=f+Math.imul(ht,re)|0,A=A+Math.imul(ht,ie)|0,v=v+Math.imul(et,oe)|0,f=f+Math.imul(et,se)|0,f=f+Math.imul(rt,oe)|0,A=A+Math.imul(rt,se)|0,v=v+Math.imul(q,ae)|0,f=f+Math.imul(q,ce)|0,f=f+Math.imul(H,ae)|0,A=A+Math.imul(H,ce)|0;var no=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(no>>>26)|0,no&=67108863,v=Math.imul(D,at),f=Math.imul(D,Ht),f=f+Math.imul(z,at)|0,A=Math.imul(z,Ht),v=v+Math.imul(h,Vt)|0,f=f+Math.imul(h,Gt)|0,f=f+Math.imul(E,Vt)|0,A=A+Math.imul(E,Gt)|0,v=v+Math.imul($t,Yt)|0,f=f+Math.imul($t,Zt)|0,f=f+Math.imul(y,Yt)|0,A=A+Math.imul(y,Zt)|0,v=v+Math.imul(Nt,Qt)|0,f=f+Math.imul(Nt,Jt)|0,f=f+Math.imul(Ft,Qt)|0,A=A+Math.imul(Ft,Jt)|0,v=v+Math.imul(Rt,Xt)|0,f=f+Math.imul(Rt,te)|0,f=f+Math.imul(Bt,Xt)|0,A=A+Math.imul(Bt,te)|0,v=v+Math.imul(_t,ee)|0,f=f+Math.imul(_t,ne)|0,f=f+Math.imul(Ut,ee)|0,A=A+Math.imul(Ut,ne)|0,v=v+Math.imul(wt,re)|0,f=f+Math.imul(wt,ie)|0,f=f+Math.imul(Mt,re)|0,A=A+Math.imul(Mt,ie)|0,v=v+Math.imul(pt,oe)|0,f=f+Math.imul(pt,se)|0,f=f+Math.imul(ht,oe)|0,A=A+Math.imul(ht,se)|0,v=v+Math.imul(et,ae)|0,f=f+Math.imul(et,ce)|0,f=f+Math.imul(rt,ae)|0,A=A+Math.imul(rt,ce)|0;var ro=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(ro>>>26)|0,ro&=67108863,v=Math.imul(D,Vt),f=Math.imul(D,Gt),f=f+Math.imul(z,Vt)|0,A=Math.imul(z,Gt),v=v+Math.imul(h,Yt)|0,f=f+Math.imul(h,Zt)|0,f=f+Math.imul(E,Yt)|0,A=A+Math.imul(E,Zt)|0,v=v+Math.imul($t,Qt)|0,f=f+Math.imul($t,Jt)|0,f=f+Math.imul(y,Qt)|0,A=A+Math.imul(y,Jt)|0,v=v+Math.imul(Nt,Xt)|0,f=f+Math.imul(Nt,te)|0,f=f+Math.imul(Ft,Xt)|0,A=A+Math.imul(Ft,te)|0,v=v+Math.imul(Rt,ee)|0,f=f+Math.imul(Rt,ne)|0,f=f+Math.imul(Bt,ee)|0,A=A+Math.imul(Bt,ne)|0,v=v+Math.imul(_t,re)|0,f=f+Math.imul(_t,ie)|0,f=f+Math.imul(Ut,re)|0,A=A+Math.imul(Ut,ie)|0,v=v+Math.imul(wt,oe)|0,f=f+Math.imul(wt,se)|0,f=f+Math.imul(Mt,oe)|0,A=A+Math.imul(Mt,se)|0,v=v+Math.imul(pt,ae)|0,f=f+Math.imul(pt,ce)|0,f=f+Math.imul(ht,ae)|0,A=A+Math.imul(ht,ce)|0;var io=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(io>>>26)|0,io&=67108863,v=Math.imul(D,Yt),f=Math.imul(D,Zt),f=f+Math.imul(z,Yt)|0,A=Math.imul(z,Zt),v=v+Math.imul(h,Qt)|0,f=f+Math.imul(h,Jt)|0,f=f+Math.imul(E,Qt)|0,A=A+Math.imul(E,Jt)|0,v=v+Math.imul($t,Xt)|0,f=f+Math.imul($t,te)|0,f=f+Math.imul(y,Xt)|0,A=A+Math.imul(y,te)|0,v=v+Math.imul(Nt,ee)|0,f=f+Math.imul(Nt,ne)|0,f=f+Math.imul(Ft,ee)|0,A=A+Math.imul(Ft,ne)|0,v=v+Math.imul(Rt,re)|0,f=f+Math.imul(Rt,ie)|0,f=f+Math.imul(Bt,re)|0,A=A+Math.imul(Bt,ie)|0,v=v+Math.imul(_t,oe)|0,f=f+Math.imul(_t,se)|0,f=f+Math.imul(Ut,oe)|0,A=A+Math.imul(Ut,se)|0,v=v+Math.imul(wt,ae)|0,f=f+Math.imul(wt,ce)|0,f=f+Math.imul(Mt,ae)|0,A=A+Math.imul(Mt,ce)|0;var oo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(oo>>>26)|0,oo&=67108863,v=Math.imul(D,Qt),f=Math.imul(D,Jt),f=f+Math.imul(z,Qt)|0,A=Math.imul(z,Jt),v=v+Math.imul(h,Xt)|0,f=f+Math.imul(h,te)|0,f=f+Math.imul(E,Xt)|0,A=A+Math.imul(E,te)|0,v=v+Math.imul($t,ee)|0,f=f+Math.imul($t,ne)|0,f=f+Math.imul(y,ee)|0,A=A+Math.imul(y,ne)|0,v=v+Math.imul(Nt,re)|0,f=f+Math.imul(Nt,ie)|0,f=f+Math.imul(Ft,re)|0,A=A+Math.imul(Ft,ie)|0,v=v+Math.imul(Rt,oe)|0,f=f+Math.imul(Rt,se)|0,f=f+Math.imul(Bt,oe)|0,A=A+Math.imul(Bt,se)|0,v=v+Math.imul(_t,ae)|0,f=f+Math.imul(_t,ce)|0,f=f+Math.imul(Ut,ae)|0,A=A+Math.imul(Ut,ce)|0;var so=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(so>>>26)|0,so&=67108863,v=Math.imul(D,Xt),f=Math.imul(D,te),f=f+Math.imul(z,Xt)|0,A=Math.imul(z,te),v=v+Math.imul(h,ee)|0,f=f+Math.imul(h,ne)|0,f=f+Math.imul(E,ee)|0,A=A+Math.imul(E,ne)|0,v=v+Math.imul($t,re)|0,f=f+Math.imul($t,ie)|0,f=f+Math.imul(y,re)|0,A=A+Math.imul(y,ie)|0,v=v+Math.imul(Nt,oe)|0,f=f+Math.imul(Nt,se)|0,f=f+Math.imul(Ft,oe)|0,A=A+Math.imul(Ft,se)|0,v=v+Math.imul(Rt,ae)|0,f=f+Math.imul(Rt,ce)|0,f=f+Math.imul(Bt,ae)|0,A=A+Math.imul(Bt,ce)|0;var ao=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(ao>>>26)|0,ao&=67108863,v=Math.imul(D,ee),f=Math.imul(D,ne),f=f+Math.imul(z,ee)|0,A=Math.imul(z,ne),v=v+Math.imul(h,re)|0,f=f+Math.imul(h,ie)|0,f=f+Math.imul(E,re)|0,A=A+Math.imul(E,ie)|0,v=v+Math.imul($t,oe)|0,f=f+Math.imul($t,se)|0,f=f+Math.imul(y,oe)|0,A=A+Math.imul(y,se)|0,v=v+Math.imul(Nt,ae)|0,f=f+Math.imul(Nt,ce)|0,f=f+Math.imul(Ft,ae)|0,A=A+Math.imul(Ft,ce)|0;var co=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(co>>>26)|0,co&=67108863,v=Math.imul(D,re),f=Math.imul(D,ie),f=f+Math.imul(z,re)|0,A=Math.imul(z,ie),v=v+Math.imul(h,oe)|0,f=f+Math.imul(h,se)|0,f=f+Math.imul(E,oe)|0,A=A+Math.imul(E,se)|0,v=v+Math.imul($t,ae)|0,f=f+Math.imul($t,ce)|0,f=f+Math.imul(y,ae)|0,A=A+Math.imul(y,ce)|0;var uo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(uo>>>26)|0,uo&=67108863,v=Math.imul(D,oe),f=Math.imul(D,se),f=f+Math.imul(z,oe)|0,A=Math.imul(z,se),v=v+Math.imul(h,ae)|0,f=f+Math.imul(h,ce)|0,f=f+Math.imul(E,ae)|0,A=A+Math.imul(E,ce)|0;var lo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(lo>>>26)|0,lo&=67108863,v=Math.imul(D,ae),f=Math.imul(D,ce),f=f+Math.imul(z,ae)|0,A=Math.imul(z,ce);var fo=(L+v|0)+((f&8191)<<13)|0;return L=(A+(f>>>13)|0)+(fo>>>26)|0,fo&=67108863,M[0]=Vi,M[1]=Gi,M[2]=Yi,M[3]=Zi,M[4]=Qi,M[5]=Ji,M[6]=Xi,M[7]=to,M[8]=eo,M[9]=no,M[10]=ro,M[11]=io,M[12]=oo,M[13]=so,M[14]=ao,M[15]=co,M[16]=uo,M[17]=lo,M[18]=fo,L!==0&&(M[19]=L,p.length++),p};Math.imul||(O=N);function R(_,c,d){d.negative=c.negative^_.negative,d.length=_.length+c.length;for(var p=0,w=0,b=0;b<d.length-1;b++){var M=w;w=0;for(var L=p&67108863,v=Math.min(b,c.length-1),f=Math.max(0,b-_.length+1);f<=v;f++){var A=b-f,W=_.words[A]|0,q=c.words[f]|0,H=W*q,ut=H&67108863;M=M+(H/67108864|0)|0,ut=ut+L|0,L=ut&67108863,M=M+(ut>>>26)|0,w+=M>>>26,M&=67108863}d.words[b]=L,p=M,M=w}return p!==0?d.words[b]=p:d.length--,d._strip()}function U(_,c,d){return R(_,c,d)}i.prototype.mulTo=function(c,d){var p,w=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):w<63?p=N(this,c,d):w<1024?p=R(this,c,d):p=U(this,c,d),p},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),U(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),r(typeof c=="number"),r(c<67108864);for(var p=0,w=0;w<this.length;w++){var b=(this.words[w]|0)*c,M=(b&67108863)+(p&67108863);p>>=26,p+=b/67108864|0,p+=M>>>26,this.words[w]=M&67108863}return p!==0&&(this.words[w]=p,this.length++),this.length=c===0?1:this.length,d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=I(c);if(d.length===0)return new i(1);for(var p=this,w=0;w<d.length&&d[w]===0;w++,p=p.sqr());if(++w<d.length)for(var b=p.sqr();w<d.length;w++,b=b.sqr())d[w]!==0&&(p=p.mul(b));return p},i.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,w=67108863>>>26-d<<26-d,b;if(d!==0){var M=0;for(b=0;b<this.length;b++){var L=this.words[b]&w,v=(this.words[b]|0)-L<<d;this.words[b]=v|M,M=L>>>26-d}M&&(this.words[b]=M,this.length++)}if(p!==0){for(b=this.length-1;b>=0;b--)this.words[b+p]=this.words[b];for(b=0;b<p;b++)this.words[b]=0;this.length+=p}return this._strip()},i.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,p){r(typeof c=="number"&&c>=0);var w;d?w=(d-d%26)/26:w=0;var b=c%26,M=Math.min((c-b)/26,this.length),L=67108863^67108863>>>b<<b,v=p;if(w-=M,w=Math.max(0,w),v){for(var f=0;f<M;f++)v.words[f]=this.words[f];v.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var A=0;for(f=this.length-1;f>=0&&(A!==0||f>=w);f--){var W=this.words[f]|0;this.words[f]=A<<26-b|W>>>b,A=W&L}return v&&A!==0&&(v.words[v.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,w=1<<d;if(this.length<=p)return!1;var b=this.words[p];return!!(b&w)},i.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,p){var w=c.length+p,b;this._expand(w);var M,L=0;for(b=0;b<c.length;b++){M=(this.words[b+p]|0)+L;var v=(c.words[b]|0)*d;M-=v&67108863,L=(M>>26)-(v/67108864|0),this.words[b+p]=M&67108863}for(;b<this.length-p;b++)M=(this.words[b+p]|0)+L,L=M>>26,this.words[b+p]=M&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,b=0;b<this.length;b++)M=-(this.words[b]|0)+L,L=M>>26,this.words[b]=M&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var p=this.length-c.length,w=this.clone(),b=c,M=b.words[b.length-1]|0,L=this._countBits(M);p=26-L,p!==0&&(b=b.ushln(p),w.iushln(p),M=b.words[b.length-1]|0);var v=w.length-b.length,f;if(d!=="mod"){f=new i(null),f.length=v+1,f.words=new Array(f.length);for(var A=0;A<f.length;A++)f.words[A]=0}var W=w.clone()._ishlnsubmul(b,1,v);W.negative===0&&(w=W,f&&(f.words[v]=1));for(var q=v-1;q>=0;q--){var H=(w.words[b.length+q]|0)*67108864+(w.words[b.length+q-1]|0);for(H=Math.min(H/M|0,67108863),w._ishlnsubmul(b,H,q);w.negative!==0;)H--,w.negative=0,w._ishlnsubmul(b,1,q),w.isZero()||(w.negative^=1);f&&(f.words[q]=H)}return f&&f._strip(),w._strip(),d!=="div"&&p!==0&&w.iushrn(p),{div:f||null,mod:w}},i.prototype.divmod=function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,b,M;return this.negative!==0&&c.negative===0?(M=this.neg().divmod(c,d),d!=="mod"&&(w=M.div.neg()),d!=="div"&&(b=M.mod.neg(),p&&b.negative!==0&&b.iadd(c)),{div:w,mod:b}):this.negative===0&&c.negative!==0?(M=this.divmod(c.neg(),d),d!=="mod"&&(w=M.div.neg()),{div:w,mod:M.mod}):this.negative&c.negative?(M=this.neg().divmod(c.neg(),d),d!=="div"&&(b=M.mod.neg(),p&&b.negative!==0&&b.isub(c)),{div:M.div,mod:b}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,w=c.ushrn(1),b=c.andln(1),M=p.cmp(w);return M<0||b===1&&M===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),r(c<=67108863);for(var p=(1<<26)%c,w=0,b=this.length-1;b>=0;b--)w=(p*w+(this.words[b]|0))%c;return d?-w:w},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),r(c<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var b=(this.words[w]|0)+p*67108864;this.words[w]=b/c|0,p=b%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new i(1),b=new i(0),M=new i(0),L=new i(1),v=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++v;for(var f=p.clone(),A=d.clone();!d.isZero();){for(var W=0,q=1;!(d.words[0]&q)&&W<26;++W,q<<=1);if(W>0)for(d.iushrn(W);W-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(f),b.isub(A)),w.iushrn(1),b.iushrn(1);for(var H=0,ut=1;!(p.words[0]&ut)&&H<26;++H,ut<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(M.isOdd()||L.isOdd())&&(M.iadd(f),L.isub(A)),M.iushrn(1),L.iushrn(1);d.cmp(p)>=0?(d.isub(p),w.isub(M),b.isub(L)):(p.isub(d),M.isub(w),L.isub(b))}return{a:M,b:L,gcd:p.iushln(v)}},i.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new i(1),b=new i(0),M=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var L=0,v=1;!(d.words[0]&v)&&L<26;++L,v<<=1);if(L>0)for(d.iushrn(L);L-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);for(var f=0,A=1;!(p.words[0]&A)&&f<26;++f,A<<=1);if(f>0)for(p.iushrn(f);f-- >0;)b.isOdd()&&b.iadd(M),b.iushrn(1);d.cmp(p)>=0?(d.isub(p),w.isub(b)):(p.isub(d),b.isub(w))}var W;return d.cmpn(1)===0?W=w:W=b,W.cmpn(0)<0&&W.iadd(c),W},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var w=0;d.isEven()&&p.isEven();w++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var b=d.cmp(p);if(b<0){var M=d;d=p,p=M}else if(b===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(w)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,w=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=w,this;for(var b=w,M=p;b!==0&&M<this.length;M++){var L=this.words[M]|0;L+=b,b=L>>>26,L&=67108863,this.words[M]=L}return b!==0&&(this.words[M]=b,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var w=this.words[0]|0;p=w===c?0:w<c?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var w=this.words[p]|0,b=c.words[p]|0;if(w!==b){w<b?d=-1:w>b&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new J(c)},i.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function j(_,c){this.name=_,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},j.prototype.ireduce=function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var w=p<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},j.prototype.split=function(c,d){c.iushrn(this.n,0,d)},j.prototype.imulK=function(c){return c.imul(this.k)};function F(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,j),F.prototype.split=function(c,d){for(var p=4194303,w=Math.min(c.length,9),b=0;b<w;b++)d.words[b]=c.words[b];if(d.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var M=c.words[9];for(d.words[d.length++]=M&p,b=10;b<c.length;b++){var L=c.words[b]|0;c.words[b-10]=(L&p)<<4|M>>>22,M=L}M>>>=22,c.words[b-10]=M,M===0&&c.length>10?c.length-=10:c.length-=9},F.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var w=c.words[p]|0;d+=w*977,c.words[p]=d&67108863,d=w*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function $(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o($,j);function K(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(K,j);function nt(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(nt,j),nt.prototype.imulK=function(c){for(var d=0,p=0;p<c.length;p++){var w=(c.words[p]|0)*19+d,b=w&67108863;w>>>=26,c.words[p]=b,d=w}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(P[c])return P[c];var d;if(c==="k256")d=new F;else if(c==="p224")d=new $;else if(c==="p192")d=new K;else if(c==="p25519")d=new nt;else throw new Error("Unknown prime "+c);return P[c]=d,d};function J(_){if(typeof _=="string"){var c=i._prime(_);this.m=c.p,this.prime=c}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}J.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},J.prototype._verify2=function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},J.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(m(c,c.umod(this.m)._forceRed(this)),c)},J.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},J.prototype.add=function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},J.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},J.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},J.prototype.isqr=function(c){return this.imul(c,c.clone())},J.prototype.sqr=function(c){return this.mul(c,c)},J.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var w=this.m.subn(1),b=0;!w.isZero()&&w.andln(1)===0;)b++,w.iushrn(1);r(!w.isZero());var M=new i(1).toRed(this),L=M.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,v).cmp(L)!==0;)f.redIAdd(L);for(var A=this.pow(f,w),W=this.pow(c,w.addn(1).iushrn(1)),q=this.pow(c,w),H=b;q.cmp(M)!==0;){for(var ut=q,et=0;ut.cmp(M)!==0;et++)ut=ut.redSqr();r(et<H);var rt=this.pow(A,new i(1).iushln(H-et-1));W=W.redMul(rt),A=rt.redSqr(),q=q.redMul(A),H=et}return W},J.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},J.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,w=new Array(1<<p);w[0]=new i(1).toRed(this),w[1]=c;for(var b=2;b<w.length;b++)w[b]=this.mul(w[b-1],c);var M=w[0],L=0,v=0,f=d.bitLength()%26;for(f===0&&(f=26),b=d.length-1;b>=0;b--){for(var A=d.words[b],W=f-1;W>=0;W--){var q=A>>W&1;if(M!==w[0]&&(M=this.sqr(M)),q===0&&L===0){v=0;continue}L<<=1,L|=q,v++,!(v!==p&&(b!==0||W!==0))&&(M=this.mul(M,w[L]),v=0,L=0)}f=26}return M},J.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},J.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new X(c)};function X(_){J.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,J),X.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},X.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},X.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=p.isub(w).iushrn(this.shift),M=b;return b.cmp(this.m)>=0?M=b.isub(this.m):b.cmpn(0)<0&&(M=b.iadd(this.m)),M._forceRed(this)},X.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=p.isub(w).iushrn(this.shift),M=b;return b.cmp(this.m)>=0?M=b.isub(this.m):b.cmpn(0)<0&&(M=b.iadd(this.m)),M._forceRed(this)},X.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(n,Ke)})(Uh);var pg=Uh.exports;const E0=yi(pg);var yf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,t){var e=qt,r=e.Buffer;function o(s,a){for(var u in s)a[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(o(e,t),t.Buffer=i);function i(s,a,u){return r(s,a,u)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(s,a,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,u)},i.alloc=function(s,a,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var g=r(s);return a!==void 0?typeof u=="string"?g.fill(a,u):g.fill(a):g.fill(0),g},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(s)}})(yf,yf.exports);var gg=yf.exports,fc=gg.Buffer;function Pv(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=n.length,a=n.charAt(0),u=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function m(S){if((Array.isArray(S)||S instanceof Uint8Array)&&(S=fc.from(S)),!fc.isBuffer(S))throw new TypeError("Expected Buffer");if(S.length===0)return"";for(var k=0,T=0,I=0,N=S.length;I!==N&&S[I]===0;)I++,k++;for(var O=(N-I)*g+1>>>0,R=new Uint8Array(O);I!==N;){for(var U=S[I],P=0,j=O-1;(U!==0||P<T)&&j!==-1;j--,P++)U+=256*R[j]>>>0,R[j]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");T=P,I++}for(var F=O-T;F!==O&&R[F]===0;)F++;for(var $=a.repeat(k);F<O;++F)$+=n.charAt(R[F]);return $}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return fc.alloc(0);for(var k=0,T=0,I=0;S[k]===a;)T++,k++;for(var N=(S.length-k)*u+1>>>0,O=new Uint8Array(N);k<S.length;){var R=S.charCodeAt(k);if(R>255)return;var U=t[R];if(U===255)return;for(var P=0,j=N-1;(U!==0||P<I)&&j!==-1;j--,P++)U+=s*O[j]>>>0,O[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=P,k++}for(var F=N-I;F!==N&&O[F]===0;)F++;var $=fc.allocUnsafe(T+(N-F));$.fill(0,0,T);for(var K=T;F!==N;)$[K++]=O[F++];return $}function B(S){var k=x(S);if(k)return k;throw new Error("Non-base"+s+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var Fv=Pv,$v=Fv,Wv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Kv=$v(Wv);const wn=yi(Kv),qv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ei=new Uint32Array(64);let Hv=class extends ng{constructor(){super(64,32,8,!1),this.A=Mi[0]|0,this.B=Mi[1]|0,this.C=Mi[2]|0,this.D=Mi[3]|0,this.E=Mi[4]|0,this.F=Mi[5]|0,this.G=Mi[6]|0,this.H=Mi[7]|0}get(){const{A:t,B:e,C:r,D:o,E:i,F:s,G:a,H:u}=this;return[t,e,r,o,i,s,a,u]}set(t,e,r,o,i,s,a,u){this.A=t|0,this.B=e|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=u|0}process(t,e){for(let x=0;x<16;x++,e+=4)Ei[x]=t.getUint32(e,!1);for(let x=16;x<64;x++){const B=Ei[x-15],S=Ei[x-2],k=Tr(B,7)^Tr(B,18)^B>>>3,T=Tr(S,17)^Tr(S,19)^S>>>10;Ei[x]=T+Ei[x-7]+k+Ei[x-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:u,G:g,H:m}=this;for(let x=0;x<64;x++){const B=Tr(a,6)^Tr(a,11)^Tr(a,25),S=m+B+Lb(a,u,g)+qv[x]+Ei[x]|0,T=(Tr(r,2)^Tr(r,13)^Tr(r,22))+Rb(r,o,i)|0;m=g,g=u,u=a,a=s+S|0,s=i,i=o,o=r,r=S+T|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,u=u+this.F|0,g=g+this.G|0,m=m+this.H|0,this.set(r,o,i,s,a,u,g,m)}roundClean(){Ei.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const bf=tg(()=>new Hv);var gn={},hc=gg.Buffer;function Vv(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=n.length,a=n.charAt(0),u=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function m(S){if((Array.isArray(S)||S instanceof Uint8Array)&&(S=hc.from(S)),!hc.isBuffer(S))throw new TypeError("Expected Buffer");if(S.length===0)return"";for(var k=0,T=0,I=0,N=S.length;I!==N&&S[I]===0;)I++,k++;for(var O=(N-I)*g+1>>>0,R=new Uint8Array(O);I!==N;){for(var U=S[I],P=0,j=O-1;(U!==0||P<T)&&j!==-1;j--,P++)U+=256*R[j]>>>0,R[j]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");T=P,I++}for(var F=O-T;F!==O&&R[F]===0;)F++;for(var $=a.repeat(k);F<O;++F)$+=n.charAt(R[F]);return $}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return hc.alloc(0);for(var k=0,T=0,I=0;S[k]===a;)T++,k++;for(var N=(S.length-k)*u+1>>>0,O=new Uint8Array(N);k<S.length;){var R=S.charCodeAt(k);if(R>255)return;var U=t[R];if(U===255)return;for(var P=0,j=N-1;(U!==0||P<I)&&j!==-1;j--,P++)U+=s*O[j]>>>0,O[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=P,k++}for(var F=N-I;F!==N&&O[F]===0;)F++;var $=hc.allocUnsafe(T+(N-F));$.fill(0,0,T);for(var K=T;F!==N;)$[K++]=O[F++];return $}function B(S){var k=x(S);if(k)return k;throw new Error("Non-base"+s+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var Gv=Vv,Yv=Gv,Zv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Qv=Yv(Zv);function ii(n,t,e){return t<=n&&n<=e}function ju(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Jv(n){for(var t=String(n),e=t.length,r=0,o=[];r<e;){var i=t.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===e-1)o.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=i&1023,u=s&1023;o.push(65536+(a<<10)+u),r+=1}else o.push(65533)}r+=1}return o}function Xv(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Hc=-1;function zh(n){this.tokens=[].slice.call(n)}zh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Hc},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Ns=-1;function Sl(n,t){if(n)throw TypeError("Decoder error");return t||65533}var Vc="utf-8";function Gc(n,t){if(!(this instanceof Gc))return new Gc(n,t);if(n=n!==void 0?String(n).toLowerCase():Vc,n!==Vc)throw new Error("Encoding not supported. Only utf-8 is supported");t=ju(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Gc.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=ju(e),this._streaming||(this._decoder=new tx({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var o=new zh(r),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==Ns);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===Ns)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Xv(i)}};function Yc(n,t){if(!(this instanceof Yc))return new Yc(n,t);if(n=n!==void 0?String(n).toLowerCase():Vc,n!==Vc)throw new Error("Encoding not supported. Only utf-8 is supported");t=ju(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Yc.prototype={encode:function(t,e){t=t?String(t):"",e=ju(e),this._streaming||(this._encoder=new ex(this._options)),this._streaming=!!e.stream;for(var r=[],o=new zh(Jv(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Ns);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Ns;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function tx(n){var t=n.fatal,e=0,r=0,o=0,i=128,s=191;this.handler=function(a,u){if(u===Hc&&o!==0)return o=0,Sl(t);if(u===Hc)return Ns;if(o===0){if(ii(u,0,127))return u;if(ii(u,194,223))o=1,e=u-192;else if(ii(u,224,239))u===224&&(i=160),u===237&&(s=159),o=2,e=u-224;else if(ii(u,240,244))u===240&&(i=144),u===244&&(s=143),o=3,e=u-240;else return Sl(t);return e=e<<6*o,null}if(!ii(u,i,s))return e=o=r=0,i=128,s=191,a.prepend(u),Sl(t);if(i=128,s=191,r+=1,e+=u-128<<6*(o-r),r!==o)return null;var g=e;return e=o=r=0,g}}function ex(n){n.fatal,this.handler=function(t,e){if(e===Hc)return Ns;if(ii(e,0,127))return e;var r,o;ii(e,128,2047)?(r=1,o=192):ii(e,2048,65535)?(r=2,o=224):ii(e,65536,1114111)&&(r=3,o=240);for(var i=[(e>>6*r)+o];r>0;){var s=e>>6*(r-1);i.push(128|s&63),r-=1}return i}}const nx=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Gc,TextEncoder:Yc},Symbol.toStringTag,{value:"Module"})),rx=qa(nx);var ix=Ke&&Ke.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),ox=Ke&&Ke.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),Fr=Ke&&Ke.__decorate||function(n,t,e,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},sx=Ke&&Ke.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.hasOwnProperty.call(n,e)&&ix(t,n,e);return ox(t,n),t},mg=Ke&&Ke.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gn,"__esModule",{value:!0});var wg=gn.deserializeUnchecked=Eg=gn.deserialize=Mg=gn.serialize=gn.BinaryReader=gn.BinaryWriter=gn.BorshError=gn.baseDecode=gn.baseEncode=void 0;const Di=mg(pg),yg=mg(Qv),ax=sx(rx),cx=typeof TextDecoder!="function"?ax.TextDecoder:TextDecoder,ux=new cx("utf-8",{fatal:!0});function lx(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),yg.default.encode(Buffer.from(n))}gn.baseEncode=lx;function fx(n){return Buffer.from(yg.default.decode(n))}gn.baseDecode=fx;const Al=1024;let Cn=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};gn.BorshError=Cn;let bg=class{constructor(){this.buf=Buffer.alloc(Al),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Al)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Di.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Di.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Di.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Di.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Al)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}};gn.BinaryWriter=bg;function $r(n,t,e){const r=e.value;e.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){const s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Cn("Reached the end of buffer when deserializing")}throw i}}}let cr=class{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Di.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Di.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Di.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Di.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Cn(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return ux.decode(e)}catch(r){throw new Cn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let o=0;o<e;++o)r.push(t());return r}};Fr([$r],cr.prototype,"readU8",null);Fr([$r],cr.prototype,"readU16",null);Fr([$r],cr.prototype,"readU32",null);Fr([$r],cr.prototype,"readU64",null);Fr([$r],cr.prototype,"readU128",null);Fr([$r],cr.prototype,"readU256",null);Fr([$r],cr.prototype,"readU512",null);Fr([$r],cr.prototype,"readString",null);Fr([$r],cr.prototype,"readFixedArray",null);Fr([$r],cr.prototype,"readArray",null);gn.BinaryReader=cr;function vg(n){return n.charAt(0).toUpperCase()+n.slice(1)}function wo(n,t,e,r,o){try{if(typeof r=="string")o[`write${vg(r)}`](e);else if(r instanceof Array)if(typeof r[0]=="number"){if(e.length!==r[0])throw new Cn(`Expecting byte array of length ${r[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(r.length===2&&typeof r[1]=="number"){if(e.length!==r[1])throw new Cn(`Expecting byte array of length ${r[1]}, but got ${e.length} bytes`);for(let i=0;i<r[1];i++)wo(n,null,e[i],r[0],o)}else o.writeArray(e,i=>{wo(n,t,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),wo(n,t,e,r.type,o));break}case"map":{o.writeU32(e.size),e.forEach((i,s)=>{wo(n,t,s,r.key,o),wo(n,t,i,r.value,o)});break}default:throw new Cn(`FieldType ${r} unrecognized`)}else xg(n,e,o)}catch(i){throw i instanceof Cn&&i.addToFieldPath(t),i}}function xg(n,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const r=n.get(t.constructor);if(!r)throw new Cn(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{wo(n,o,t[o],i,e)});else if(r.kind==="enum"){const o=t[r.field];for(let i=0;i<r.values.length;++i){const[s,a]=r.values[i];if(s===o){e.writeU8(i),wo(n,s,t[s],a,e);break}}}else throw new Cn(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function hx(n,t,e=bg){const r=new e;return xg(n,t,r),r.toArray()}var Mg=gn.serialize=hx;function yo(n,t,e,r){try{if(typeof e=="string")return r[`read${vg(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return r.readFixedArray(e[0]);if(typeof e[1]=="number"){const o=[];for(let i=0;i<e[1];i++)o.push(yo(n,null,e[0],r));return o}else return r.readArray(()=>yo(n,t,e[0],r))}if(e.kind==="option")return r.readU8()?yo(n,t,e.type,r):void 0;if(e.kind==="map"){let o=new Map;const i=r.readU32();for(let s=0;s<i;s++){const a=yo(n,t,e.key,r),u=yo(n,t,e.value,r);o.set(a,u)}return o}return jh(n,e,r)}catch(o){throw o instanceof Cn&&o.addToFieldPath(t),o}}function jh(n,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const r=n.get(t);if(!r)throw new Cn(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[i,s]of n.get(t).fields)o[i]=yo(n,i,s,e);return new t(o)}if(r.kind==="enum"){const o=e.readU8();if(o>=r.values.length)throw new Cn(`Enum index: ${o} is out of range`);const[i,s]=r.values[o],a=yo(n,i,s,e);return new t({[i]:a})}throw new Cn(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function dx(n,t,e,r=cr){const o=new r(e),i=jh(n,t,o);if(o.offset<e.length)throw new Cn(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return i}var Eg=gn.deserialize=dx;function px(n,t,e,r=cr){const o=new r(e);return jh(n,t,o)}wg=gn.deserializeUnchecked=px;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=hn=Z.nu64=Z.u48=Z.u40=kt=Z.u32=Z.u24=dr=Z.u16=ye=Z.u8=Ro=Z.offset=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0;Z.constant=Z.utf8=Z.cstr=_e=Z.blob=Z.unionLayoutDiscriminator=Z.union=Tn=Z.seq=Z.bits=Et=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=Qn=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const Ph=qt;function Qs(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=Qs;function ge(n){return Qs(n),Ph.Buffer.from(n.buffer,n.byteOffset,n.length)}Z.uint8ArrayToBuffer=ge;let xe=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};Z.Layout=xe;function Fh(n,t){return t.property?n+"["+t.property+"]":n}Z.nameWithProperty=Fh;function gx(n,t){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof xe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=t,t.boundConstructor_=n,t.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(n,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}Z.bindConstructorLayout=gx;let Kn=class extends xe{isCount(){throw new Error("ExternalLayout is abstract")}};Z.ExternalLayout=Kn;let Sg=class extends Kn{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Qs(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}};Z.GreedyCount=Sg;let $h=class extends Kn{constructor(t,e=0,r){if(!(t instanceof xe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof mr||this.layout instanceof Mr}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}};Z.OffsetLayout=$h;let mr=class extends xe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ge(t).readUIntLE(e,this.span)}encode(t,e,r=0){return ge(e).writeUIntLE(t,r,this.span),this.span}};Z.UInt=mr;let Mr=class extends xe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ge(t).readUIntBE(e,this.span)}encode(t,e,r=0){return ge(e).writeUIntBE(t,r,this.span),this.span}};Z.UIntBE=Mr;let Fo=class extends xe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ge(t).readIntLE(e,this.span)}encode(t,e,r=0){return ge(e).writeIntLE(t,r,this.span),this.span}};Z.Int=Fo;let Js=class extends xe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ge(t).readIntBE(e,this.span)}encode(t,e,r=0){return ge(e).writeIntBE(t,r,this.span),this.span}};Z.IntBE=Js;const vf=Math.pow(2,32);function Pu(n){const t=Math.floor(n/vf),e=n-t*vf;return{hi32:t,lo32:e}}function Fu(n,t){return n*vf+t}let Ag=class extends xe{constructor(t){super(8,t)}decode(t,e=0){const r=ge(t),o=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return Fu(i,o)}encode(t,e,r=0){const o=Pu(t),i=ge(e);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}};Z.NearUInt64=Ag;let Ig=class extends xe{constructor(t){super(8,t)}decode(t,e=0){const r=ge(t),o=r.readUInt32BE(e),i=r.readUInt32BE(e+4);return Fu(o,i)}encode(t,e,r=0){const o=Pu(t),i=ge(e);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};Z.NearUInt64BE=Ig;let _g=class extends xe{constructor(t){super(8,t)}decode(t,e=0){const r=ge(t),o=r.readUInt32LE(e),i=r.readInt32LE(e+4);return Fu(i,o)}encode(t,e,r=0){const o=Pu(t),i=ge(e);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}};Z.NearInt64=_g;let Bg=class extends xe{constructor(t){super(8,t)}decode(t,e=0){const r=ge(t),o=r.readInt32BE(e),i=r.readUInt32BE(e+4);return Fu(o,i)}encode(t,e,r=0){const o=Pu(t),i=ge(e);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};Z.NearInt64BE=Bg;let Tg=class extends xe{constructor(t){super(4,t)}decode(t,e=0){return ge(t).readFloatLE(e)}encode(t,e,r=0){return ge(e).writeFloatLE(t,r),4}};Z.Float=Tg;let kg=class extends xe{constructor(t){super(4,t)}decode(t,e=0){return ge(t).readFloatBE(e)}encode(t,e,r=0){return ge(e).writeFloatBE(t,r),4}};Z.FloatBE=kg;let Lg=class extends xe{constructor(t){super(8,t)}decode(t,e=0){return ge(t).readDoubleLE(e)}encode(t,e,r=0){return ge(e).writeDoubleLE(t,r),8}};Z.Double=Lg;let Rg=class extends xe{constructor(t){super(8,t)}decode(t,e=0){return ge(t).readDoubleBE(e)}encode(t,e,r=0){return ge(e).writeDoubleBE(t,r),8}};Z.DoubleBE=Rg;let Ng=class extends xe{constructor(t,e,r){if(!(t instanceof xe))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Kn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof Kn)&&0<t.span&&(o=e*t.span),super(o,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof Kn&&(o=o.decode(t,e)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let o=0,i=this.count;for(i instanceof Kn&&(i=i.decode(t,e));o<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return r}encode(t,e,r=0){const o=this.elementLayout,i=t.reduce((s,a)=>s+o.encode(a,e,r+s),0);return this.count instanceof Kn&&this.count.encode(t.length,e,r),i}};Z.Sequence=Ng;let Cg=class extends xe{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((i,s)=>i&&s instanceof xe,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&r===void 0&&(r=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{const s=i.getSpan(t,e);return e+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,e=0){Qs(t);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const o=r;let i=0,s=0;for(const a of this.fields){let u=a.span;if(s=0<u?u:0,a.property!==void 0){const g=t[a.property];g!==void 0&&(s=a.encode(g,e,r),0>u&&(u=a.getSpan(e,r)))}i=r,r+=u}return i+s-o}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}};Z.Structure=Cg;let Wh=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}};Z.UnionDiscriminator=Wh;let Zc=class extends Wh{constructor(t,e){if(!(t instanceof Kn&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}};Z.UnionLayoutDiscriminator=Zc;let Kh=class extends xe{constructor(t,e,r){let o;if(t instanceof mr||t instanceof Mr)o=new Zc(new $h(t));else if(t instanceof Kn&&t.isCount())o=new Zc(t);else if(t instanceof Wh)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof xe))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof mr||t instanceof Mr)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof mr||t instanceof Mr,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const o=this.discriminator,i=o.decode(t,e),s=this.registry[i];if(s===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[a.property]=a.decode(t,e+u)}else r=s.decode(t,e);return r}encode(t,e,r=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,r),a+s.encode(t[s.property],e,r+a)}return o.encode(t,e,r)}addVariant(t,e,r){const o=new Og(this,t,e,r);return this.registry[t]=o,o}getVariant(t,e=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,e):r=t,this.registry[r]}};Z.Union=Kh;let Og=class extends xe{constructor(t,e,r,o){if(!(t instanceof Kh))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof xe))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+r)),r+o}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=o;if(this.layout&&(this.layout.encode(t[this.property],e,r+o),i+=this.layout.getSpan(e,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};Z.VariantLayout=Og;function os(n){return 0>n&&(n+=4294967296),n}let qh=class extends xe{constructor(t,e,r){if(!(t instanceof mr||t instanceof Mr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&r===void 0&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(i){return o=os(i),this},this._packedGetValue=function(){return o}}decode(t,e=0){const r=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,e,r=0){const o=this.word.decode(e,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const s=t[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new Hh(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new Dg(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}};Z.BitStructure=qh;let Hh=class{constructor(t,e,r){if(!(t instanceof qh))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((s,a)=>s+a.bits,0);if(e+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-e),this.wordMask=os(this.valueMask<<this.start),this.property=r}decode(t,e){const r=this.container._packedGetValue();return os(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==os(t&this.valueMask))throw new TypeError(Fh("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=os(t<<this.start);this.container._packedSetValue(os(e&~this.wordMask)|r)}};Z.BitField=Hh;let Dg=class extends Hh{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Z.Boolean=Dg;let Ug=class extends xe{constructor(t,e){if(!(t instanceof Kn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Kn||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),ge(t).slice(e,e+r)}encode(t,e,r){let o=this.length;if(this.length instanceof Kn&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(Fh("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>e.length)throw new RangeError("encoding overruns Uint8Array");const i=ge(t);return ge(e).write(i.toString("hex"),r,o,"hex"),this.length instanceof Kn&&this.length.encode(o,e,r),o}};Z.Blob=Ug;let zg=class extends xe{constructor(t){super(-1,t)}getSpan(t,e=0){Qs(t);let r=e;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return ge(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const o=Ph.Buffer.from(t,"utf8"),i=o.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");const s=ge(e);return o.copy(s,r),s[r+i]=0,i+1}};Z.CString=zg;let jg=class extends xe{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Qs(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return ge(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const o=Ph.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(ge(e),r),i}};Z.UTF8=jg;let Pg=class extends xe{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}};Z.Constant=Pg;Z.greedy=(n,t)=>new Sg(n,t);var Ro=Z.offset=(n,t,e)=>new $h(n,t,e),ye=Z.u8=n=>new mr(1,n),dr=Z.u16=n=>new mr(2,n);Z.u24=n=>new mr(3,n);var kt=Z.u32=n=>new mr(4,n);Z.u40=n=>new mr(5,n);Z.u48=n=>new mr(6,n);var hn=Z.nu64=n=>new Ag(n);Z.u16be=n=>new Mr(2,n);Z.u24be=n=>new Mr(3,n);Z.u32be=n=>new Mr(4,n);Z.u40be=n=>new Mr(5,n);Z.u48be=n=>new Mr(6,n);Z.nu64be=n=>new Ig(n);Z.s8=n=>new Fo(1,n);Z.s16=n=>new Fo(2,n);Z.s24=n=>new Fo(3,n);Z.s32=n=>new Fo(4,n);Z.s40=n=>new Fo(5,n);Z.s48=n=>new Fo(6,n);var Qn=Z.ns64=n=>new _g(n);Z.s16be=n=>new Js(2,n);Z.s24be=n=>new Js(3,n);Z.s32be=n=>new Js(4,n);Z.s40be=n=>new Js(5,n);Z.s48be=n=>new Js(6,n);Z.ns64be=n=>new Bg(n);Z.f32=n=>new Tg(n);Z.f32be=n=>new kg(n);Z.f64=n=>new Lg(n);Z.f64be=n=>new Rg(n);var Et=Z.struct=(n,t,e)=>new Cg(n,t,e);Z.bits=(n,t,e)=>new qh(n,t,e);var Tn=Z.seq=(n,t,e)=>new Ng(n,t,e);Z.union=(n,t,e)=>new Kh(n,t,e);Z.unionLayoutDiscriminator=(n,t)=>new Zc(n,t);var _e=Z.blob=(n,t)=>new Ug(n,t);Z.cstr=n=>new zg(n);Z.utf8=(n,t)=>new jg(n,t);Z.constant=(n,t)=>new Pg(n,t);var mx=8078e3,wx=8078001,yx=8078004,bx=8078005,vx=8078006,xx=8078011;function Fg(n){return Array.isArray(n)?"%5B"+n.map(Fg).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function Mx([n,t]){return`${n}=${Fg(t)}`}function Ex(n){const t=Object.entries(n).map(Mx).join("&");return btoa(t)}function Sx(n,t={}){{let e=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(t).length&&(e+=` '${Ex(t)}'`),`${e}\``}}var xs=class extends Error{constructor(...[e,r]){let o,i;if(r){const{cause:a,...u}=r;a&&(i={cause:a}),Object.keys(u).length>0&&(o=u)}const s=Sx(e,o);super(s,i);je(this,"cause",this.cause);je(this,"context");this.context={__code:e,...o},this.name="SolanaError"}};function Ax(n,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(n)}function Ix(n){return Object.freeze({...n,encode:t=>{const e=new Uint8Array(Ax(t,n));return n.write(t,e,0),e}})}function _x(n){return Object.freeze({...n,decode:(t,e=0)=>n.read(t,e)[0]})}function Xo(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function Bx(n,t){if(Xo(n)!==Xo(t))throw new xs(yx);if(Xo(n)&&Xo(t)&&n.fixedSize!==t.fixedSize)throw new xs(bx,{decoderFixedSize:t.fixedSize,encoderFixedSize:n.fixedSize});if(!Xo(n)&&!Xo(t)&&n.maxSize!==t.maxSize)throw new xs(vx,{decoderMaxSize:t.maxSize,encoderMaxSize:n.maxSize});return{...t,...n,decode:t.decode,encode:n.encode,read:t.read,write:n.write}}function Tx(n,t,e=0){if(t.length-e<=0)throw new xs(mx,{codecDescription:n})}function kx(n,t,e,r=0){const o=e.length-r;if(o<t)throw new xs(wx,{bytesLength:o,codecDescription:n,expected:t})}function Lx(n,t,e,r){if(r<t||r>e)throw new xs(xx,{codecDescription:n,max:e,min:t,value:r})}function $g(n){return(n==null?void 0:n.endian)!==1}function Rx(n){return Ix({fixedSize:n.size,write(t,e,r){n.range&&Lx(n.name,n.range[0],n.range[1],t);const o=new ArrayBuffer(n.size);return n.set(new DataView(o),t,$g(n.config)),e.set(new Uint8Array(o),r),r+n.size}})}function Nx(n){return _x({fixedSize:n.size,read(t,e=0){Tx(n.name,t,e),kx(n.name,n.size,t,e);const r=new DataView(Cx(t,e,n.size));return[n.get(r,$g(n.config)),e+n.size]}})}function Cx(n,t,e){const r=n.byteOffset+(t??0),o=e??n.byteLength;return n.buffer.slice(r,r+o)}var Ox=(n={})=>Rx({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,r)=>t.setBigUint64(0,BigInt(e),r),size:8}),Dx=(n={})=>Nx({config:n,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}),Ux=(n={})=>Bx(Ox(n),Dx(n));let zx=class extends TypeError{constructor(t,e){let r;const{message:o,explanation:i,...s}=t,{path:a}=t,u=a.length===0?o:`At path: ${a.join(".")} -- ${o}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}};function jx(n){return Va(n)&&typeof n[Symbol.iterator]=="function"}function Va(n){return typeof n=="object"&&n!=null}function Qc(n){return Va(n)&&!Array.isArray(n)}function Sr(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Px(n){const{done:t,value:e}=n.next();return t?void 0:e}function Fx(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:i}=t,{type:s}=e,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Sr(r)}\``}=n;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...n,message:u}}function*S0(n,t,e,r){jx(n)||(n=[n]);for(const o of n){const i=Fx(o,t,e,r);i&&(yield i)}}function*Vh(n,t,e={}){const{path:r=[],branch:o=[n],coerce:i=!1,mask:s=!1}=e,a={path:r,branch:o,mask:s};i&&(n=t.coercer(n,a));let u="valid";for(const g of t.validator(n,a))g.explanation=e.message,u="not_valid",yield[g,void 0];for(let[g,m,x]of t.entries(n,a)){const B=Vh(m,x,{path:g===void 0?r:[...r,g],branch:g===void 0?o:[...o,m],coerce:i,mask:s,message:e.message});for(const S of B)S[0]?(u=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):i&&(m=S[1],g===void 0?n=m:n instanceof Map?n.set(g,m):n instanceof Set?n.add(m):Va(n)&&(m!==void 0||g in n)&&(n[g]=m))}if(u!=="not_valid")for(const g of t.refiner(n,a))g.explanation=e.message,u="not_refined",yield[g,void 0];u==="valid"&&(yield[void 0,n])}let Wr=class{constructor(t){const{type:e,schema:r,validator:o,refiner:i,coercer:s=u=>u,entries:a=function*(){}}=t;this.type=e,this.schema=r,this.entries=a,this.coercer=s,o?this.validator=(u,g)=>{const m=o(u,g);return S0(m,g,this,u)}:this.validator=()=>[],i?this.refiner=(u,g)=>{const m=i(u,g);return S0(m,g,this,u)}:this.refiner=()=>[]}assert(t,e){return $x(t,this,e)}create(t,e){return mt(t,this,e)}is(t){return Wg(t,this)}mask(t,e){return Wx(t,this,e)}validate(t,e={}){return Ga(t,this,e)}};function $x(n,t,e){const r=Ga(n,t,{message:e});if(r[0])throw r[0]}function mt(n,t,e){const r=Ga(n,t,{coerce:!0,message:e});if(r[0])throw r[0];return r[1]}function Wx(n,t,e){const r=Ga(n,t,{coerce:!0,mask:!0,message:e});if(r[0])throw r[0];return r[1]}function Wg(n,t){return!Ga(n,t)[0]}function Ga(n,t,e={}){const r=Vh(n,t,e),o=Px(r);return o[0]?[new zx(o[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function $o(n,t){return new Wr({type:n,schema:null,validator:t})}function Kx(){return $o("any",()=>!0)}function yt(n){return new Wr({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Sr(t)}`}})}function zr(){return $o("boolean",n=>typeof n=="boolean")}function Gh(n){return $o("instance",t=>t instanceof n||`Expected a \`${n.name}\` instance, but received: ${Sr(t)}`)}function Oe(n){const t=Sr(n),e=typeof n;return new Wr({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${t}\`, but received: ${Sr(r)}`}})}function qx(){return $o("never",()=>!1)}function bt(n){return new Wr({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function V(){return $o("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Sr(n)}`)}function Ot(n){return new Wr({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function Kg(n,t){return new Wr({type:"record",schema:null,*entries(e){if(Va(e))for(const r in e){const o=e[r];yield[r,r,n],yield[r,o,t]}},validator(e){return Qc(e)||`Expected an object, but received: ${Sr(e)}`},coercer(e){return Qc(e)?{...e}:e}})}function ft(){return $o("string",n=>typeof n=="string"||`Expected a string, but received: ${Sr(n)}`)}function Yh(n){const t=qx();return new Wr({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let o=0;o<r;o++)yield[o,e[o],n[o]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${Sr(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function it(n){const t=Object.keys(n);return new Wr({type:"type",schema:n,*entries(e){if(Va(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return Qc(e)||`Expected an object, but received: ${Sr(e)}`},coercer(e){return Qc(e)?{...e}:e}})}function Un(n){const t=n.map(e=>e.type).join(" | ");return new Wr({type:"union",schema:null,coercer(e,r){for(const o of n){const[i,s]=o.validate(e,{coerce:!0,mask:r.mask});if(!i)return s}return e},validator(e,r){const o=[];for(const i of n){const[...s]=Vh(e,i,r),[a]=s;if(a[0])for(const[u]of s)u&&o.push(u);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Sr(e)}`,...o]}})}function Xs(){return $o("unknown",()=>!0)}function Ya(n,t,e){return new Wr({...n,coercer:(r,o)=>Wg(r,t)?n.coercer(e(r,o),o):n.coercer(r,o)})}var dc,Hx=new Uint8Array(16);function qg(){if(!dc&&(dc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dc(Hx)}const Vx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $u(n){return typeof n=="string"&&Vx.test(n)}var ln=[];for(var Il=0;Il<256;++Il)ln.push((Il+256).toString(16).substr(1));function Wu(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(ln[n[t+0]]+ln[n[t+1]]+ln[n[t+2]]+ln[n[t+3]]+"-"+ln[n[t+4]]+ln[n[t+5]]+"-"+ln[n[t+6]]+ln[n[t+7]]+"-"+ln[n[t+8]]+ln[n[t+9]]+"-"+ln[n[t+10]]+ln[n[t+11]]+ln[n[t+12]]+ln[n[t+13]]+ln[n[t+14]]+ln[n[t+15]]).toLowerCase();if(!$u(e))throw TypeError("Stringified UUID is invalid");return e}var A0,_l,Bl=0,Tl=0;function Gx(n,t,e){var r=t&&e||0,o=t||new Array(16);n=n||{};var i=n.node||A0,s=n.clockseq!==void 0?n.clockseq:_l;if(i==null||s==null){var a=n.random||(n.rng||qg)();i==null&&(i=A0=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=_l=(a[6]<<8|a[7])&16383)}var u=n.msecs!==void 0?n.msecs:Date.now(),g=n.nsecs!==void 0?n.nsecs:Tl+1,m=u-Bl+(g-Tl)/1e4;if(m<0&&n.clockseq===void 0&&(s=s+1&16383),(m<0||u>Bl)&&n.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Bl=u,Tl=g,_l=s,u+=122192928e5;var x=((u&268435455)*1e4+g)%4294967296;o[r++]=x>>>24&255,o[r++]=x>>>16&255,o[r++]=x>>>8&255,o[r++]=x&255;var B=u/4294967296*1e4&268435455;o[r++]=B>>>8&255,o[r++]=B&255,o[r++]=B>>>24&15|16,o[r++]=B>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var S=0;S<6;++S)o[r+S]=i[S];return t||Wu(o)}function Hg(n){if(!$u(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function Yx(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var Zx="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Qx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Vg(n,t,e){function r(o,i,s,a){if(typeof o=="string"&&(o=Yx(o)),typeof i=="string"&&(i=Hg(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=e(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,s){a=a||0;for(var g=0;g<16;++g)s[a+g]=u[g];return s}return Wu(u)}try{r.name=n}catch{}return r.DNS=Zx,r.URL=Qx,r}function Jx(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return Xx(tM(eM(n),n.length*8))}function Xx(n){for(var t=[],e=n.length*32,r="0123456789abcdef",o=0;o<e;o+=8){var i=n[o>>5]>>>o%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(s)}return t}function Gg(n){return(n+64>>>9<<4)+14+1}function tM(n,t){n[t>>5]|=128<<t%32,n[Gg(t)-1]=t;for(var e=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<n.length;s+=16){var a=e,u=r,g=o,m=i;e=bn(e,r,o,i,n[s],7,-680876936),i=bn(i,e,r,o,n[s+1],12,-389564586),o=bn(o,i,e,r,n[s+2],17,606105819),r=bn(r,o,i,e,n[s+3],22,-1044525330),e=bn(e,r,o,i,n[s+4],7,-176418897),i=bn(i,e,r,o,n[s+5],12,1200080426),o=bn(o,i,e,r,n[s+6],17,-1473231341),r=bn(r,o,i,e,n[s+7],22,-45705983),e=bn(e,r,o,i,n[s+8],7,1770035416),i=bn(i,e,r,o,n[s+9],12,-1958414417),o=bn(o,i,e,r,n[s+10],17,-42063),r=bn(r,o,i,e,n[s+11],22,-1990404162),e=bn(e,r,o,i,n[s+12],7,1804603682),i=bn(i,e,r,o,n[s+13],12,-40341101),o=bn(o,i,e,r,n[s+14],17,-1502002290),r=bn(r,o,i,e,n[s+15],22,1236535329),e=vn(e,r,o,i,n[s+1],5,-165796510),i=vn(i,e,r,o,n[s+6],9,-1069501632),o=vn(o,i,e,r,n[s+11],14,643717713),r=vn(r,o,i,e,n[s],20,-373897302),e=vn(e,r,o,i,n[s+5],5,-701558691),i=vn(i,e,r,o,n[s+10],9,38016083),o=vn(o,i,e,r,n[s+15],14,-660478335),r=vn(r,o,i,e,n[s+4],20,-405537848),e=vn(e,r,o,i,n[s+9],5,568446438),i=vn(i,e,r,o,n[s+14],9,-1019803690),o=vn(o,i,e,r,n[s+3],14,-187363961),r=vn(r,o,i,e,n[s+8],20,1163531501),e=vn(e,r,o,i,n[s+13],5,-1444681467),i=vn(i,e,r,o,n[s+2],9,-51403784),o=vn(o,i,e,r,n[s+7],14,1735328473),r=vn(r,o,i,e,n[s+12],20,-1926607734),e=xn(e,r,o,i,n[s+5],4,-378558),i=xn(i,e,r,o,n[s+8],11,-2022574463),o=xn(o,i,e,r,n[s+11],16,1839030562),r=xn(r,o,i,e,n[s+14],23,-35309556),e=xn(e,r,o,i,n[s+1],4,-1530992060),i=xn(i,e,r,o,n[s+4],11,1272893353),o=xn(o,i,e,r,n[s+7],16,-155497632),r=xn(r,o,i,e,n[s+10],23,-1094730640),e=xn(e,r,o,i,n[s+13],4,681279174),i=xn(i,e,r,o,n[s],11,-358537222),o=xn(o,i,e,r,n[s+3],16,-722521979),r=xn(r,o,i,e,n[s+6],23,76029189),e=xn(e,r,o,i,n[s+9],4,-640364487),i=xn(i,e,r,o,n[s+12],11,-421815835),o=xn(o,i,e,r,n[s+15],16,530742520),r=xn(r,o,i,e,n[s+2],23,-995338651),e=Mn(e,r,o,i,n[s],6,-198630844),i=Mn(i,e,r,o,n[s+7],10,1126891415),o=Mn(o,i,e,r,n[s+14],15,-1416354905),r=Mn(r,o,i,e,n[s+5],21,-57434055),e=Mn(e,r,o,i,n[s+12],6,1700485571),i=Mn(i,e,r,o,n[s+3],10,-1894986606),o=Mn(o,i,e,r,n[s+10],15,-1051523),r=Mn(r,o,i,e,n[s+1],21,-2054922799),e=Mn(e,r,o,i,n[s+8],6,1873313359),i=Mn(i,e,r,o,n[s+15],10,-30611744),o=Mn(o,i,e,r,n[s+6],15,-1560198380),r=Mn(r,o,i,e,n[s+13],21,1309151649),e=Mn(e,r,o,i,n[s+4],6,-145523070),i=Mn(i,e,r,o,n[s+11],10,-1120210379),o=Mn(o,i,e,r,n[s+2],15,718787259),r=Mn(r,o,i,e,n[s+9],21,-343485551),e=Ui(e,a),r=Ui(r,u),o=Ui(o,g),i=Ui(i,m)}return[e,r,o,i]}function eM(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(Gg(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function Ui(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function nM(n,t){return n<<t|n>>>32-t}function Ku(n,t,e,r,o,i){return Ui(nM(Ui(Ui(t,n),Ui(r,i)),o),e)}function bn(n,t,e,r,o,i,s){return Ku(t&e|~t&r,n,t,o,i,s)}function vn(n,t,e,r,o,i,s){return Ku(t&r|e&~r,n,t,o,i,s)}function xn(n,t,e,r,o,i,s){return Ku(t^e^r,n,t,o,i,s)}function Mn(n,t,e,r,o,i,s){return Ku(e^(t|~r),n,t,o,i,s)}var rM=Vg("v3",48,Jx);function iM(n,t,e){n=n||{};var r=n.random||(n.rng||qg)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=r[o];return t}return Wu(r)}function oM(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function kl(n,t){return n<<t|n>>>32-t}function sM(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var o=0;o<r.length;++o)n.push(r.charCodeAt(o))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,s=Math.ceil(i/16),a=new Array(s),u=0;u<s;++u){for(var g=new Uint32Array(16),m=0;m<16;++m)g[m]=n[u*64+m*4]<<24|n[u*64+m*4+1]<<16|n[u*64+m*4+2]<<8|n[u*64+m*4+3];a[u]=g}a[s-1][14]=(n.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(n.length-1)*8&4294967295;for(var x=0;x<s;++x){for(var B=new Uint32Array(80),S=0;S<16;++S)B[S]=a[x][S];for(var k=16;k<80;++k)B[k]=kl(B[k-3]^B[k-8]^B[k-14]^B[k-16],1);for(var T=e[0],I=e[1],N=e[2],O=e[3],R=e[4],U=0;U<80;++U){var P=Math.floor(U/20),j=kl(T,5)+oM(P,I,N,O)+R+t[P]+B[U]>>>0;R=O,O=N,N=kl(I,30)>>>0,I=T,T=j}e[0]=e[0]+T>>>0,e[1]=e[1]+I>>>0,e[2]=e[2]+N>>>0,e[3]=e[3]+O>>>0,e[4]=e[4]+R>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var aM=Vg("v5",80,sM);const cM="00000000-0000-0000-0000-000000000000";function uM(n){if(!$u(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const lM=Object.freeze(Object.defineProperty({__proto__:null,NIL:cM,parse:Hg,stringify:Wu,v1:Gx,v3:rM,v4:iM,v5:aM,validate:$u,version:uM},Symbol.toStringTag,{value:"Module"})),Yg=qa(lM),fM=Yg.v4,hM=function(n,t,e,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:n};if(o===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const s=typeof r.generator=="function"?r.generator:function(){return fM()};i.id=s(i,r)}else o===2&&e===null?r.notificationIdNull&&(i.id=null):i.id=e;return i};var dM=hM;const pM=Yg.v4,gM=dM,Ra=function(n,t){if(!(this instanceof Ra))return new Ra(n,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return pM()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=n};var mM=Ra;Ra.prototype.request=function(n,t,e,r){const o=this;let i=null;const s=Array.isArray(n)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&n&&typeof n=="object"&&typeof t=="function")r=t,i=n;else{typeof e=="function"&&(r=e,e=void 0);const g=typeof r=="function";try{i=gM(n,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(g)return r(m);throw m}if(!g)return i}let u;try{u=JSON.stringify(i,this.options.replacer)}catch(g){return r(g)}return this.callServer(u,function(g,m){o._parseResponse(g,m,r)}),i};Ra.prototype._parseResponse=function(n,t,e){if(n){e(n);return}if(!t)return e();let r;try{r=JSON.parse(t,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(r)){const o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return e(null,r.filter(o),r.filter(i))}else return e(null,r.error,r.result);e(null,r)};const wM=yi(mM);var Zg={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function o(u,g,m){this.fn=u,this.context=g,this.once=m||!1}function i(u,g,m,x,B){if(typeof m!="function")throw new TypeError("The listener must be a function");var S=new o(m,x||u,B),k=e?e+g:g;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],S]:u._events[k].push(S):(u._events[k]=S,u._eventsCount++),u}function s(u,g){--u._eventsCount===0?u._events=new r:delete u._events[g]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var g=[],m,x;if(this._eventsCount===0)return g;for(x in m=this._events)t.call(m,x)&&g.push(e?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(m)):g},a.prototype.listeners=function(g){var m=e?e+g:g,x=this._events[m];if(!x)return[];if(x.fn)return[x.fn];for(var B=0,S=x.length,k=new Array(S);B<S;B++)k[B]=x[B].fn;return k},a.prototype.listenerCount=function(g){var m=e?e+g:g,x=this._events[m];return x?x.fn?1:x.length:0},a.prototype.emit=function(g,m,x,B,S,k){var T=e?e+g:g;if(!this._events[T])return!1;var I=this._events[T],N=arguments.length,O,R;if(I.fn){switch(I.once&&this.removeListener(g,I.fn,void 0,!0),N){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,m),!0;case 3:return I.fn.call(I.context,m,x),!0;case 4:return I.fn.call(I.context,m,x,B),!0;case 5:return I.fn.call(I.context,m,x,B,S),!0;case 6:return I.fn.call(I.context,m,x,B,S,k),!0}for(R=1,O=new Array(N-1);R<N;R++)O[R-1]=arguments[R];I.fn.apply(I.context,O)}else{var U=I.length,P;for(R=0;R<U;R++)switch(I[R].once&&this.removeListener(g,I[R].fn,void 0,!0),N){case 1:I[R].fn.call(I[R].context);break;case 2:I[R].fn.call(I[R].context,m);break;case 3:I[R].fn.call(I[R].context,m,x);break;case 4:I[R].fn.call(I[R].context,m,x,B);break;default:if(!O)for(P=1,O=new Array(N-1);P<N;P++)O[P-1]=arguments[P];I[R].fn.apply(I[R].context,O)}}return!0},a.prototype.on=function(g,m,x){return i(this,g,m,x,!1)},a.prototype.once=function(g,m,x){return i(this,g,m,x,!0)},a.prototype.removeListener=function(g,m,x,B){var S=e?e+g:g;if(!this._events[S])return this;if(!m)return s(this,S),this;var k=this._events[S];if(k.fn)k.fn===m&&(!B||k.once)&&(!x||k.context===x)&&s(this,S);else{for(var T=0,I=[],N=k.length;T<N;T++)(k[T].fn!==m||B&&!k[T].once||x&&k[T].context!==x)&&I.push(k[T]);I.length?this._events[S]=I.length===1?I[0]:I:s(this,S)}return this},a.prototype.removeAllListeners=function(g){var m;return g?(m=e?e+g:g,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(Zg);var yM=Zg.exports;const Zh=yi(yM);var bM=class extends Zh{constructor(t,e,r){super();je(this,"socket");this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(t,e,r){const o=r||e;try{this.socket.send(t),o()}catch(i){o(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function vM(n,t){return new bM(n,t)}var xM=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},MM=class extends Zh{constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:o=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},u,g){super();je(this,"address");je(this,"rpc_id");je(this,"queue");je(this,"options");je(this,"autoconnect");je(this,"ready");je(this,"reconnect");je(this,"reconnect_timer_id");je(this,"reconnect_interval");je(this,"max_reconnects");je(this,"rest_options");je(this,"current_reconnects");je(this,"generate_request_id");je(this,"socket");je(this,"webSocketFactory");je(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=u||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),g?this.dataPack=g:this.dataPack=new xM,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,o){return!o&&typeof r=="object"&&(o=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(t,e),u={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(u),o,g=>{if(g)return s(g);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,o)=>{if(!this.ready)return o(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return o(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=qt.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const o=[r.notification];if(r.params.constructor===Object)o.push(r.params);else for(let i=0;i<r.params.length;i++)o.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",r,o),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};let Qg=class extends Xp{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ib(t);const r=Lh(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return qc(this),this.iHash.update(t),this}digestInto(t){qc(this),Cu(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Jg=(n,t,e)=>new Qg(n,t).update(e).digest();Jg.create=(n,t)=>new Qg(n,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I0(n){n.lowS!==void 0&&hi("lowS",n.lowS),n.prehash!==void 0&&hi("prehash",n.prehash)}function EM(n){const t=Ch(n);Zs(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:r,a:o}=t;if(e){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:SM,hexToBytes:AM}=dv;let IM=class extends Error{constructor(t=""){super(t)}};const ti={Err:IM,_tlv:{encode:(n,t)=>{const{Err:e}=ti;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const r=t.length/2,o=gs(r);if(o.length/2&128)throw new e("tlv.encode: long form length too big");const i=r>127?gs(o.length/2|128):"";return gs(n)+i+o+t},decode(n,t){const{Err:e}=ti;let r=0;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[r++]!==n)throw new e("tlv.decode: wrong tlv");const o=t[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const u=o&127;if(!u)throw new e("tlv.decode(long): indefinite length not supported");if(u>4)throw new e("tlv.decode(long): byte length is too big");const g=t.subarray(r,r+u);if(g.length!==u)throw new e("tlv.decode: length bytes not complete");if(g[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const m of g)s=s<<8|m;if(r+=u,s<128)throw new e("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new e("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(n){const{Err:t}=ti;if(n<oi)throw new t("integer: negative integers are not allowed");let e=gs(n);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(n){const{Err:t}=ti;if(n[0]&128)throw new t("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return SM(n)}},toSig(n){const{Err:t,_int:e,_tlv:r}=ti,o=typeof n=="string"?AM(n):n;Ha(o);const{v:i,l:s}=r.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,i),{v:g,l:m}=r.decode(2,u);if(m.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(a),s:e.decode(g)}},hexFromSig(n){const{_tlv:t,_int:e}=ti,r=t.encode(2,e.encode(n.r)),o=t.encode(2,e.encode(n.s)),i=r+o;return t.encode(48,i)}},oi=BigInt(0),on=BigInt(1);BigInt(2);const _0=BigInt(3);BigInt(4);function _M(n){const t=EM(n),{Fp:e}=t,r=zu(t.n,t.nBitLength),o=t.toBytes||((T,I,N)=>{const O=I.toAffine();return zo(Uint8Array.from([4]),e.toBytes(O.x),e.toBytes(O.y))}),i=t.fromBytes||(T=>{const I=T.subarray(1),N=e.fromBytes(I.subarray(0,e.BYTES)),O=e.fromBytes(I.subarray(e.BYTES,2*e.BYTES));return{x:N,y:O}});function s(T){const{a:I,b:N}=t,O=e.sqr(T),R=e.mul(O,T);return e.add(e.add(R,e.mul(T,I)),N)}if(!e.eql(e.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(T){return Uu(T,on,t.n)}function u(T){const{allowedPrivateKeyLengths:I,nByteLength:N,wrapPrivateKey:O,n:R}=t;if(I&&typeof T!="bigint"){if(Do(T)&&(T=Uo(T)),typeof T!="string"||!I.includes(T.length))throw new Error("invalid private key");T=T.padStart(N*2,"0")}let U;try{U=typeof T=="bigint"?T:Lo(Qe("private key",T,N))}catch{throw new Error("invalid private key, expected hex or "+N+" bytes, got "+typeof T)}return O&&(U=Re(U,R)),gr("private key",U,on,R),U}function g(T){if(!(T instanceof B))throw new Error("ProjectivePoint expected")}const m=La((T,I)=>{const{px:N,py:O,pz:R}=T;if(e.eql(R,e.ONE))return{x:N,y:O};const U=T.is0();I==null&&(I=U?e.ONE:e.inv(R));const P=e.mul(N,I),j=e.mul(O,I),F=e.mul(R,I);if(U)return{x:e.ZERO,y:e.ZERO};if(!e.eql(F,e.ONE))throw new Error("invZ was invalid");return{x:P,y:j}}),x=La(T=>{if(T.is0()){if(t.allowInfinityPoint&&!e.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:I,y:N}=T.toAffine();if(!e.isValid(I)||!e.isValid(N))throw new Error("bad point: x or y not FE");const O=e.sqr(N),R=s(I);if(!e.eql(O,R))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class B{constructor(I,N,O){if(this.px=I,this.py=N,this.pz=O,I==null||!e.isValid(I))throw new Error("x required");if(N==null||!e.isValid(N))throw new Error("y required");if(O==null||!e.isValid(O))throw new Error("z required");Object.freeze(this)}static fromAffine(I){const{x:N,y:O}=I||{};if(!I||!e.isValid(N)||!e.isValid(O))throw new Error("invalid affine point");if(I instanceof B)throw new Error("projective point not allowed");const R=U=>e.eql(U,e.ZERO);return R(N)&&R(O)?B.ZERO:new B(N,O,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const N=e.invertBatch(I.map(O=>O.pz));return I.map((O,R)=>O.toAffine(N[R])).map(B.fromAffine)}static fromHex(I){const N=B.fromAffine(i(Qe("pointHex",I)));return N.assertValidity(),N}static fromPrivateKey(I){return B.BASE.multiply(u(I))}static msm(I,N){return hg(B,r,I,N)}_setWindowSize(I){k.setWindowSize(this,I)}assertValidity(){x(this)}hasEvenY(){const{y:I}=this.toAffine();if(e.isOdd)return!e.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){g(I);const{px:N,py:O,pz:R}=this,{px:U,py:P,pz:j}=I,F=e.eql(e.mul(N,j),e.mul(U,R)),$=e.eql(e.mul(O,j),e.mul(P,R));return F&&$}negate(){return new B(this.px,e.neg(this.py),this.pz)}double(){const{a:I,b:N}=t,O=e.mul(N,_0),{px:R,py:U,pz:P}=this;let j=e.ZERO,F=e.ZERO,$=e.ZERO,K=e.mul(R,R),nt=e.mul(U,U),J=e.mul(P,P),X=e.mul(R,U);return X=e.add(X,X),$=e.mul(R,P),$=e.add($,$),j=e.mul(I,$),F=e.mul(O,J),F=e.add(j,F),j=e.sub(nt,F),F=e.add(nt,F),F=e.mul(j,F),j=e.mul(X,j),$=e.mul(O,$),J=e.mul(I,J),X=e.sub(K,J),X=e.mul(I,X),X=e.add(X,$),$=e.add(K,K),K=e.add($,K),K=e.add(K,J),K=e.mul(K,X),F=e.add(F,K),J=e.mul(U,P),J=e.add(J,J),K=e.mul(J,X),j=e.sub(j,K),$=e.mul(J,nt),$=e.add($,$),$=e.add($,$),new B(j,F,$)}add(I){g(I);const{px:N,py:O,pz:R}=this,{px:U,py:P,pz:j}=I;let F=e.ZERO,$=e.ZERO,K=e.ZERO;const nt=t.a,J=e.mul(t.b,_0);let X=e.mul(N,U),_=e.mul(O,P),c=e.mul(R,j),d=e.add(N,O),p=e.add(U,P);d=e.mul(d,p),p=e.add(X,_),d=e.sub(d,p),p=e.add(N,R);let w=e.add(U,j);return p=e.mul(p,w),w=e.add(X,c),p=e.sub(p,w),w=e.add(O,R),F=e.add(P,j),w=e.mul(w,F),F=e.add(_,c),w=e.sub(w,F),K=e.mul(nt,p),F=e.mul(J,c),K=e.add(F,K),F=e.sub(_,K),K=e.add(_,K),$=e.mul(F,K),_=e.add(X,X),_=e.add(_,X),c=e.mul(nt,c),p=e.mul(J,p),_=e.add(_,c),c=e.sub(X,c),c=e.mul(nt,c),p=e.add(p,c),X=e.mul(_,p),$=e.add($,X),X=e.mul(w,p),F=e.mul(d,F),F=e.sub(F,X),X=e.mul(d,_),K=e.mul(w,K),K=e.add(K,X),new B(F,$,K)}subtract(I){return this.add(I.negate())}is0(){return this.equals(B.ZERO)}wNAF(I){return k.wNAFCached(this,I,B.normalizeZ)}multiplyUnsafe(I){const{endo:N,n:O}=t;gr("scalar",I,oi,O);const R=B.ZERO;if(I===oi)return R;if(this.is0()||I===on)return this;if(!N||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,I,B.normalizeZ);let{k1neg:U,k1:P,k2neg:j,k2:F}=N.splitScalar(I),$=R,K=R,nt=this;for(;P>oi||F>oi;)P&on&&($=$.add(nt)),F&on&&(K=K.add(nt)),nt=nt.double(),P>>=on,F>>=on;return U&&($=$.negate()),j&&(K=K.negate()),K=new B(e.mul(K.px,N.beta),K.py,K.pz),$.add(K)}multiply(I){const{endo:N,n:O}=t;gr("scalar",I,on,O);let R,U;if(N){const{k1neg:P,k1:j,k2neg:F,k2:$}=N.splitScalar(I);let{p:K,f:nt}=this.wNAF(j),{p:J,f:X}=this.wNAF($);K=k.constTimeNegate(P,K),J=k.constTimeNegate(F,J),J=new B(e.mul(J.px,N.beta),J.py,J.pz),R=K.add(J),U=nt.add(X)}else{const{p:P,f:j}=this.wNAF(I);R=P,U=j}return B.normalizeZ([R,U])[0]}multiplyAndAddUnsafe(I,N,O){const R=B.BASE,U=(j,F)=>F===oi||F===on||!j.equals(R)?j.multiplyUnsafe(F):j.multiply(F),P=U(this,N).add(U(I,O));return P.is0()?void 0:P}toAffine(I){return m(this,I)}isTorsionFree(){const{h:I,isTorsionFree:N}=t;if(I===on)return!0;if(N)return N(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:N}=t;return I===on?this:N?N(B,this):this.multiplyUnsafe(t.h)}toRawBytes(I=!0){return hi("isCompressed",I),this.assertValidity(),o(B,this,I)}toHex(I=!0){return hi("isCompressed",I),Uo(this.toRawBytes(I))}}B.BASE=new B(t.Gx,t.Gy,e.ONE),B.ZERO=new B(e.ZERO,e.ONE,e.ZERO);const S=t.nBitLength,k=fg(B,t.endo?Math.ceil(S/2):S);return{CURVE:t,ProjectivePoint:B,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:a}}function BM(n){const t=Ch(n);return Zs(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function TM(n){const t=BM(n),{Fp:e,n:r}=t,o=e.BYTES+1,i=2*e.BYTES+1;function s(c){return Re(c,r)}function a(c){return wf(c,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:x}=_M({...t,toBytes(c,d,p){const w=d.toAffine(),b=e.toBytes(w.x),M=zo;return hi("isCompressed",p),p?M(Uint8Array.from([d.hasEvenY()?2:3]),b):M(Uint8Array.from([4]),b,e.toBytes(w.y))},fromBytes(c){const d=c.length,p=c[0],w=c.subarray(1);if(d===o&&(p===2||p===3)){const b=Lo(w);if(!Uu(b,on,e.ORDER))throw new Error("Point is not on curve");const M=m(b);let L;try{L=e.sqrt(M)}catch(A){const W=A instanceof Error?": "+A.message:"";throw new Error("Point is not on curve"+W)}const v=(L&on)===on;return(p&1)===1!==v&&(L=e.neg(L)),{x:b,y:L}}else if(d===i&&p===4){const b=e.fromBytes(w.subarray(0,e.BYTES)),M=e.fromBytes(w.subarray(e.BYTES,2*e.BYTES));return{x:b,y:M}}else{const b=o,M=i;throw new Error("invalid Point, expected length of "+b+", or uncompressed "+M+", got "+d)}}}),B=c=>Uo(Rs(c,t.nByteLength));function S(c){const d=r>>on;return c>d}function k(c){return S(c)?s(-c):c}const T=(c,d,p)=>Lo(c.slice(d,p));class I{constructor(d,p,w){this.r=d,this.s=p,this.recovery=w,this.assertValidity()}static fromCompact(d){const p=t.nByteLength;return d=Qe("compactSignature",d,p*2),new I(T(d,0,p),T(d,p,2*p))}static fromDER(d){const{r:p,s:w}=ti.toSig(Qe("DER",d));return new I(p,w)}assertValidity(){gr("r",this.r,on,r),gr("s",this.s,on,r)}addRecoveryBit(d){return new I(this.r,this.s,d)}recoverPublicKey(d){const{r:p,s:w,recovery:b}=this,M=j(Qe("msgHash",d));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");const L=b===2||b===3?p+t.n:p;if(L>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const v=b&1?"03":"02",f=u.fromHex(v+B(L)),A=a(L),W=s(-M*A),q=s(w*A),H=u.BASE.multiplyAndAddUnsafe(f,W,q);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Ls(this.toDERHex())}toDERHex(){return ti.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ls(this.toCompactHex())}toCompactHex(){return B(this.r)+B(this.s)}}const N={isValidPrivateKey(c){try{return g(c),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const c=cg(t.n);return Ev(t.randomBytes(c),t.n)},precompute(c=8,d=u.BASE){return d._setWindowSize(c),d.multiply(BigInt(3)),d}};function O(c,d=!0){return u.fromPrivateKey(c).toRawBytes(d)}function R(c){const d=Do(c),p=typeof c=="string",w=(d||p)&&c.length;return d?w===o||w===i:p?w===2*o||w===2*i:c instanceof u}function U(c,d,p=!0){if(R(c))throw new Error("first arg must be private key");if(!R(d))throw new Error("second arg must be public key");return u.fromHex(d).multiply(g(c)).toRawBytes(p)}const P=t.bits2int||function(c){if(c.length>8192)throw new Error("input is too large");const d=Lo(c),p=c.length*8-t.nBitLength;return p>0?d>>BigInt(p):d},j=t.bits2int_modN||function(c){return s(P(c))},F=Nh(t.nBitLength);function $(c){return gr("num < 2^"+t.nBitLength,c,oi,F),Rs(c,t.nByteLength)}function K(c,d,p=nt){if(["recovered","canonical"].some(et=>et in p))throw new Error("sign() legacy options not supported");const{hash:w,randomBytes:b}=t;let{lowS:M,prehash:L,extraEntropy:v}=p;M==null&&(M=!0),c=Qe("msgHash",c),I0(p),L&&(c=Qe("prehashed msgHash",w(c)));const f=j(c),A=g(d),W=[$(A),$(f)];if(v!=null&&v!==!1){const et=v===!0?b(e.BYTES):v;W.push(Qe("extraEntropy",et))}const q=zo(...W),H=f;function ut(et){const rt=P(et);if(!x(rt))return;const Pt=a(rt),pt=u.BASE.multiply(rt).toAffine(),ht=s(pt.x);if(ht===oi)return;const jt=s(Pt*s(H+ht*A));if(jt===oi)return;let wt=(pt.x===ht?0:2)|Number(pt.y&on),Mt=jt;return M&&S(jt)&&(Mt=k(jt),wt^=1),new I(ht,Mt,wt)}return{seed:q,k2sig:ut}}const nt={lowS:t.lowS,prehash:!1},J={lowS:t.lowS,prehash:!1};function X(c,d,p=nt){const{seed:w,k2sig:b}=K(c,d,p),M=t;return og(M.hash.outputLen,M.nByteLength,M.hmac)(w,b)}u.BASE._setWindowSize(8);function _(c,d,p,w=J){var wt;const b=c;d=Qe("msgHash",d),p=Qe("publicKey",p);const{lowS:M,prehash:L,format:v}=w;if(I0(w),"strict"in w)throw new Error("options.strict was renamed to lowS");if(v!==void 0&&v!=="compact"&&v!=="der")throw new Error("format must be compact or der");const f=typeof b=="string"||Do(b),A=!f&&!v&&typeof b=="object"&&b!==null&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!f&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,q;try{if(A&&(W=new I(b.r,b.s)),f){try{v!=="compact"&&(W=I.fromDER(b))}catch(Mt){if(!(Mt instanceof ti.Err))throw Mt}!W&&v!=="der"&&(W=I.fromCompact(b))}q=u.fromHex(p)}catch{return!1}if(!W||M&&W.hasHighS())return!1;L&&(d=t.hash(d));const{r:H,s:ut}=W,et=j(d),rt=a(ut),Pt=s(et*rt),pt=s(H*rt),ht=(wt=u.BASE.multiplyAndAddUnsafe(q,Pt,pt))==null?void 0:wt.toAffine();return ht?s(ht.x)===H:!1}return{CURVE:t,getPublicKey:O,getSharedSecret:U,sign:X,verify:_,ProjectivePoint:u,Signature:I,utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kM(n){return{hash:n,hmac:(t,...e)=>Jg(n,t,Tb(...e)),randomBytes:eg}}function LM(n,t){const e=r=>TM({...n,...kM(r)});return{...e(t),create:e}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xg=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),B0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),RM=BigInt(1),xf=BigInt(2),T0=(n,t)=>(n+t/xf)/t;function NM(n){const t=Xg,e=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),g=n*n*n%t,m=g*g*n%t,x=Fe(m,e,t)*m%t,B=Fe(x,e,t)*m%t,S=Fe(B,xf,t)*g%t,k=Fe(S,o,t)*S%t,T=Fe(k,i,t)*k%t,I=Fe(T,a,t)*T%t,N=Fe(I,u,t)*I%t,O=Fe(N,a,t)*T%t,R=Fe(O,e,t)*m%t,U=Fe(R,s,t)*k%t,P=Fe(U,r,t)*g%t,j=Fe(P,xf,t);if(!Mf.eql(Mf.sqr(j),n))throw new Error("Cannot find square root");return j}const Mf=zu(Xg,void 0,void 0,{sqrt:NM}),CM=LM({a:BigInt(0),b:BigInt(7),Fp:Mf,n:B0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=B0,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-RM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),a=T0(i*n,t),u=T0(-r*n,t);let g=Re(n-a*e-u*o,t),m=Re(-a*r-u*i,t);const x=g>s,B=m>s;if(x&&(g=t-g),B&&(m=t-m),g>s||m>s)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:x,k1:g,k2neg:B,k2:m}}}},bf);BigInt(0);function k0(n){try{return Dh.ExtendedPoint.fromHex(n),!0}catch{return!1}}const t1=(n,t)=>Dh.sign(n,t.slice(0,32)),OM=Dh.verify,Cs=n=>qt.Buffer.isBuffer(n)?n:n instanceof Uint8Array?qt.Buffer.from(n.buffer,n.byteOffset,n.byteLength):qt.Buffer.from(n);let DM=class{constructor(t){Object.assign(this,t)}encode(){return qt.Buffer.from(Mg(Ac,this))}static decode(t){return Eg(Ac,this,t)}static decodeUnchecked(t){return wg(Ac,this,t)}};const Ac=new Map;var e1;const UM=32,Fi=32;function zM(n){return n._bn!==void 0}let L0=1,Kt=class ss extends DM{constructor(t){if(super({}),this._bn=void 0,zM(t))this._bn=t._bn;else{if(typeof t=="string"){const e=wn.decode(t);if(e.length!=Fi)throw new Error("Invalid public key input");this._bn=new E0(e)}else this._bn=new E0(t);if(this._bn.byteLength()>Fi)throw new Error("Invalid public key input")}}static unique(){const t=new ss(L0);return L0+=1,new ss(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return wn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(qt.Buffer);if(t.length===Fi)return t;const e=qt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const o=qt.Buffer.concat([t.toBuffer(),qt.Buffer.from(e),r.toBuffer()]),i=bf(o);return new ss(i)}static createProgramAddressSync(t,e){let r=qt.Buffer.alloc(0);t.forEach(function(i){if(i.length>UM)throw new TypeError("Max seed length exceeded");r=qt.Buffer.concat([r,Cs(i)])}),r=qt.Buffer.concat([r,e.toBuffer(),qt.Buffer.from("ProgramDerivedAddress")]);const o=bf(r);if(k0(o))throw new Error("Invalid seeds, address must fall off the curve");return new ss(o)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,o;for(;r!=0;){try{const i=t.concat(qt.Buffer.from([r]));o=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new ss(t);return k0(e.toBytes())}};e1=Kt;Kt.default=new e1("11111111111111111111111111111111");Ac.set(Kt,{kind:"struct",fields:[["_bn","u256"]]});new Kt("BPFLoader1111111111111111111111111111111111");const Ms=1232,Qh=127,Na=64;class n1 extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(n1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class r1 extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(r1.prototype,"name",{value:"TransactionExpiredTimeoutError"});class wa extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(wa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Jc=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,s)=>{r.set(i.toBase58(),s)});const o=i=>{const s=r.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}};const he=(n="publicKey")=>_e(32,n),jM=(n="signature")=>_e(64,n),ms=(n="string")=>{const t=Et([kt("length"),kt("lengthPadding"),_e(Ro(kt(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),o=t;return o.decode=(i,s)=>e(i,s).chars.toString(),o.encode=(i,s,a)=>{const u={chars:qt.Buffer.from(i,"utf8")};return r(u,s,a)},o.alloc=i=>kt().span+kt().span+qt.Buffer.from(i,"utf8").length,o},PM=(n="authorized")=>Et([he("staker"),he("withdrawer")],n),FM=(n="lockup")=>Et([Qn("unixTimestamp"),Qn("epoch"),he("custodian")],n),$M=(n="voteInit")=>Et([he("nodePubkey"),he("authorizedVoter"),he("authorizedWithdrawer"),ye("commission")],n),WM=(n="voteAuthorizeWithSeedArgs")=>Et([kt("voteAuthorizationType"),he("currentAuthorityDerivedKeyOwnerPubkey"),ms("currentAuthorityDerivedKeySeed"),he("newAuthorized")],n);function Jn(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function Xn(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function Le(n,t){if(!n)throw new Error(t||"Assertion failed")}let i1=class o1{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,o=s=>{const a=s.toBase58();let u=r.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,u)),u},i=o(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){o(s.programId).isInvoked=!0;for(const a of s.keys){const u=o(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new o1(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Le(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,u])=>u.isSigner&&u.isWritable),r=t.filter(([,u])=>u.isSigner&&!u.isWritable),o=t.filter(([,u])=>!u.isSigner&&u.isWritable),i=t.filter(([,u])=>!u.isSigner&&!u.isWritable),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Le(e.length>0,"Expected at least one writable signer key");const[u]=e[0];Le(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...e.map(([u])=>new Kt(u)),...r.map(([u])=>new Kt(u)),...o.map(([u])=>new Kt(u)),...i.map(([u])=>new Kt(u))];return[s,a]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(e.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,o=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const a=new Kt(i),u=t.findIndex(g=>g.equals(a));u>=0&&(Le(u<256,"Max lookup table index exceeded"),r.push(u),o.push(a),this.keyMetaMap.delete(i))}return[r,o]}};const s1="Reached end of buffer unexpectedly";function si(n){if(n.length===0)throw new Error(s1);return n.shift()}function tr(n,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>n.length:e>=n.length)throw new Error(s1);return n.splice(...t)}let Os=class Ef{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new Kt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:wn.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Jc(this.staticAccountKeys)}static compile(t){const e=i1.compile(t.instructions,t.payerKey),[r,o]=e.getMessageComponents(),s=new Jc(o).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:wn.encode(a.data)}));return new Ef({header:r,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Xn(e,t);const r=this.instructions.map(x=>{const{accounts:B,programIdIndex:S}=x,k=Array.from(wn.decode(x.data));let T=[];Xn(T,B.length);let I=[];return Xn(I,k.length),{programIdIndex:S,keyIndicesCount:qt.Buffer.from(T),keyIndices:B,dataLength:qt.Buffer.from(I),data:k}});let o=[];Xn(o,r.length);let i=qt.Buffer.alloc(Ms);qt.Buffer.from(o).copy(i);let s=o.length;r.forEach(x=>{const S=Et([ye("programIdIndex"),_e(x.keyIndicesCount.length,"keyIndicesCount"),Tn(ye("keyIndex"),x.keyIndices.length,"keyIndices"),_e(x.dataLength.length,"dataLength"),Tn(ye("userdatum"),x.data.length,"data")]).encode(x,i,s);s+=S}),i=i.slice(0,s);const a=Et([_e(1,"numRequiredSignatures"),_e(1,"numReadonlySignedAccounts"),_e(1,"numReadonlyUnsignedAccounts"),_e(e.length,"keyCount"),Tn(he("key"),t,"keys"),he("recentBlockhash")]),u={numRequiredSignatures:qt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:qt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:qt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:qt.Buffer.from(e),keys:this.accountKeys.map(x=>Cs(x.toBytes())),recentBlockhash:wn.decode(this.recentBlockhash)};let g=qt.Buffer.alloc(2048);const m=a.encode(u,g);return i.copy(g,m),g.slice(0,m+i.length)}static from(t){let e=[...t];const r=si(e);if(r!==(r&Qh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=si(e),i=si(e),s=Jn(e);let a=[];for(let B=0;B<s;B++){const S=tr(e,0,Fi);a.push(new Kt(qt.Buffer.from(S)))}const u=tr(e,0,Fi),g=Jn(e);let m=[];for(let B=0;B<g;B++){const S=si(e),k=Jn(e),T=tr(e,0,k),I=Jn(e),N=tr(e,0,I),O=wn.encode(qt.Buffer.from(N));m.push({programIdIndex:S,accounts:T,data:O})}const x={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:wn.encode(qt.Buffer.from(u)),accountKeys:a,instructions:m};return new Ef(x)}},a1=class Sf{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Jc(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const o=t-r,i=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return o<i}else if(t>=this.header.numRequiredSignatures){const o=t-e,s=r-e-this.header.numReadonlyUnsignedAccounts;return o<s}else{const o=e-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=t.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<o.state.addresses.length)e.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<o.state.addresses.length)e.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=i1.compile(t.instructions,t.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const m of i){const x=e.extractTableLookup(m);if(x!==void 0){const[B,{writable:S,readonly:k}]=x;r.push(B),o.writable.push(...S),o.readonly.push(...k)}}const[s,a]=e.getMessageComponents(),g=new Jc(a,o).compileInstructions(t.instructions);return new Sf({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:g,addressTableLookups:r})}serialize(){const t=Array();Xn(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Xn(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();Xn(i,this.addressTableLookups.length);const s=Et([ye("prefix"),Et([ye("numRequiredSignatures"),ye("numReadonlySignedAccounts"),ye("numReadonlyUnsignedAccounts")],"header"),_e(t.length,"staticAccountKeysLength"),Tn(he(),this.staticAccountKeys.length,"staticAccountKeys"),he("recentBlockhash"),_e(r.length,"instructionsLength"),_e(e.length,"serializedInstructions"),_e(i.length,"addressTableLookupsLength"),_e(o.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ms),g=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:wn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},a);return a.slice(0,g)}serializeInstructions(){let t=0;const e=new Uint8Array(Ms);for(const r of this.compiledInstructions){const o=Array();Xn(o,r.accountKeyIndexes.length);const i=Array();Xn(i,r.data.length);const s=Et([ye("programIdIndex"),_e(o.length,"encodedAccountKeyIndexesLength"),Tn(ye(),r.accountKeyIndexes.length,"accountKeyIndexes"),_e(i.length,"encodedDataLength"),_e(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Ms);for(const r of this.addressTableLookups){const o=Array();Xn(o,r.writableIndexes.length);const i=Array();Xn(i,r.readonlyIndexes.length);const s=Et([he("accountKey"),_e(o.length,"encodedWritableIndexesLength"),Tn(ye(),r.writableIndexes.length,"writableIndexes"),_e(i.length,"encodedReadonlyIndexesLength"),Tn(ye(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=si(e),o=r&Qh;Le(r!==o,"Expected versioned message but received legacy message");const i=o;Le(i===0,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:si(e),numReadonlySignedAccounts:si(e),numReadonlyUnsignedAccounts:si(e)},a=[],u=Jn(e);for(let k=0;k<u;k++)a.push(new Kt(tr(e,0,Fi)));const g=wn.encode(tr(e,0,Fi)),m=Jn(e),x=[];for(let k=0;k<m;k++){const T=si(e),I=Jn(e),N=tr(e,0,I),O=Jn(e),R=new Uint8Array(tr(e,0,O));x.push({programIdIndex:T,accountKeyIndexes:N,data:R})}const B=Jn(e),S=[];for(let k=0;k<B;k++){const T=new Kt(tr(e,0,Fi)),I=Jn(e),N=tr(e,0,I),O=Jn(e),R=tr(e,0,O);S.push({accountKey:T,writableIndexes:N,readonlyIndexes:R})}return new Sf({header:s,staticAccountKeys:a,recentBlockhash:g,compiledInstructions:x,addressTableLookups:S})}};const qu={deserializeMessageVersion(n){const t=n[0],e=t&Qh;return e===t?"legacy":e},deserialize:n=>{const t=qu.deserializeMessageVersion(n);if(t==="legacy")return Os.from(n);if(t===0)return a1.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Si=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const KM=qt.Buffer.alloc(Na).fill(0);let R0=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=qt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},ai=class Af{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new R0(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<e.length;T++)if(e[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const o=[],i=[];e.forEach(T=>{T.keys.forEach(N=>{i.push({...N})});const I=T.programId.toString();o.includes(I)||o.push(I)}),o.forEach(T=>{i.push({pubkey:new Kt(T),isSigner:!1,isWritable:!1})});const s=[];i.forEach(T=>{const I=T.pubkey.toString(),N=s.findIndex(O=>O.pubkey.toString()===I);N>-1?(s[N].isWritable=s[N].isWritable||T.isWritable,s[N].isSigner=s[N].isSigner||T.isSigner):s.push(T)}),s.sort(function(T,I){if(T.isSigner!==I.isSigner)return T.isSigner?-1:1;if(T.isWritable!==I.isWritable)return T.isWritable?-1:1;const N={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return T.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",N)});const a=s.findIndex(T=>T.pubkey.equals(r));if(a>-1){const[T]=s.splice(a,1);T.isSigner=!0,T.isWritable=!0,s.unshift(T)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const T of this.signatures){const I=s.findIndex(N=>N.pubkey.equals(T.publicKey));if(I>-1)s[I].isSigner||(s[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let u=0,g=0,m=0;const x=[],B=[];s.forEach(({pubkey:T,isSigner:I,isWritable:N})=>{I?(x.push(T.toString()),u+=1,N||(g+=1)):(B.push(T.toString()),N||(m+=1))});const S=x.concat(B),k=e.map(T=>{const{data:I,programId:N}=T;return{programIdIndex:S.indexOf(N.toString()),accounts:T.keys.map(O=>S.indexOf(O.pubkey.toString())),data:wn.encode(I)}});return k.forEach(T=>{Le(T.programIdIndex>=0),T.accounts.forEach(I=>Le(I>=0))}),new Os({header:{numRequiredSignatures:u,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:m},accountKeys:S,recentBlockhash:t,instructions:k})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((o,i)=>e[i].equals(o.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const o=r.toString();return e.has(o)?!1:(e.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),r.push(i))}const o=this._compile();this._partialSign(o,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(o=>{const i=t1(r,o.secretKey);this._addSignature(o.publicKey,Cs(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Le(e.length===64);const r=this.signatures.findIndex(o=>t.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=qt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:o,publicKey:i}of this.signatures)o===null?e&&(r.missing||(r.missing=[])).push(i):OM(o,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(o,e);if(i){let s="Signature verification failed.";throw i.invalid&&(s+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(s+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(o)}_serialize(t){const{signatures:e}=this,r=[];Xn(r,e.length);const o=r.length+e.length*64+t.length,i=qt.Buffer.alloc(o);return Le(e.length<256),qt.Buffer.from(r).copy(i,0),e.forEach(({signature:s},a)=>{s!==null&&(Le(s.length===64,"signature has invalid length"),qt.Buffer.from(s).copy(i,r.length+a*64))}),t.copy(i,r.length+e.length*64),Le(i.length<=Ms,`Transaction too large: ${i.length} > ${Ms}`),i}get keys(){return Le(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Le(this.instructions.length===1),this.instructions[0].programId}get data(){return Le(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=Jn(e);let o=[];for(let i=0;i<r;i++){const s=tr(e,0,Na);o.push(wn.encode(qt.Buffer.from(s)))}return Af.populate(Os.from(e),o)}static populate(t,e=[]){const r=new Af;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((o,i)=>{const s={signature:o==wn.encode(KM)?null:wn.decode(o),publicKey:t.accountKeys[i]};r.signatures.push(s)}),t.instructions.forEach(o=>{const i=o.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(u=>u.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new R0({keys:i,programId:t.accountKeys[o.programIdIndex],data:wn.decode(o.data)}))}),r._message=t,r._json=r.toJSON(),r}},Ds=class c1{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Le(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const r=[];for(let o=0;o<t.header.numRequiredSignatures;o++)r.push(new Uint8Array(Na));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Xn(e,this.signatures.length);const r=Et([_e(e.length,"encodedSignaturesLength"),Tn(jM(),this.signatures.length,"signatures"),_e(t.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},o);return o.slice(0,i)}static deserialize(t){let e=[...t];const r=[],o=Jn(e);for(let s=0;s<o;s++)r.push(new Uint8Array(tr(e,0,Na)));const i=qu.deserialize(new Uint8Array(e));return new c1(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of t){const i=r.findIndex(s=>s.equals(o.publicKey));Le(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=t1(e,o.secretKey)}}addSignature(t,e){Le(e.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Le(o>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=e}};const qM=160,HM=64,VM=qM/HM,GM=1e3/VM;new Kt("SysvarC1ock11111111111111111111111111111111");new Kt("SysvarEpochSchedu1e111111111111111111111111");new Kt("Sysvar1nstructions1111111111111111111111111");new Kt("SysvarRecentB1ockHashes11111111111111111111");new Kt("SysvarRent111111111111111111111111111111111");new Kt("SysvarRewards111111111111111111111111111111");new Kt("SysvarS1otHashes111111111111111111111111111");new Kt("SysvarS1otHistory11111111111111111111111111");new Kt("SysvarStakeHistory1111111111111111111111111");class N0 extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:o}){const i=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${e} resulted in an error. 
${r}. `+i+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+s;break;default:a=`Unknown action '${(u=>u)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,r)=>{t.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){const i=o.meta.logMessages;this.transactionLogs=i,e(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class It extends Error{constructor({code:t,message:e,data:r},o){super(o!=null?`${o}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function as(n){return new Promise(t=>setTimeout(t,n))}const YM=hn("lamportsPerSignature"),u1=Et([kt("version"),kt("state"),he("authorizedPubkey"),he("nonce"),Et([YM],"feeCalculator")]);u1.span;class Jh{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=u1.decode(Cs(t),0);return new Jh({authorizedPubkey:new Kt(e.authorizedPubkey),nonce:new Kt(e.nonce).toString(),feeCalculator:e.feeCalculator})}}function Us(n){const t=_e(8,n),e=t.decode.bind(t),r=t.encode.bind(t),o=t,i=Ux();return o.decode=(s,a)=>{const u=e(s,a);return i.decode(u)},o.encode=(s,a,u)=>{const g=i.encode(s);return r(g,a,u)},o}Object.freeze({Create:{index:0,layout:Et([kt("instruction"),Qn("lamports"),Qn("space"),he("programId")])},Assign:{index:1,layout:Et([kt("instruction"),he("programId")])},Transfer:{index:2,layout:Et([kt("instruction"),Us("lamports")])},CreateWithSeed:{index:3,layout:Et([kt("instruction"),he("base"),ms("seed"),Qn("lamports"),Qn("space"),he("programId")])},AdvanceNonceAccount:{index:4,layout:Et([kt("instruction")])},WithdrawNonceAccount:{index:5,layout:Et([kt("instruction"),Qn("lamports")])},InitializeNonceAccount:{index:6,layout:Et([kt("instruction"),he("authorized")])},AuthorizeNonceAccount:{index:7,layout:Et([kt("instruction"),he("authorized")])},Allocate:{index:8,layout:Et([kt("instruction"),Qn("space")])},AllocateWithSeed:{index:9,layout:Et([kt("instruction"),he("base"),ms("seed"),Qn("space"),he("programId")])},AssignWithSeed:{index:10,layout:Et([kt("instruction"),he("base"),ms("seed"),he("programId")])},TransferWithSeed:{index:11,layout:Et([kt("instruction"),Us("lamports"),ms("seed"),he("programId")])},UpgradeNonceAccount:{index:12,layout:Et([kt("instruction")])}});new Kt("11111111111111111111111111111111");new Kt("BPFLoader2111111111111111111111111111111111");function ZM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ll,C0;function QM(){if(C0)return Ll;C0=1;var n=Object.prototype.toString,t=Object.keys||function(r){var o=[];for(var i in r)o.push(i);return o};function e(r,o){var i,s,a,u,g,m,x;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return e(r.toJSON(),o);if(x=n.call(r),x==="[object Array]"){for(a="[",s=r.length-1,i=0;i<s;i++)a+=e(r[i],!0)+",";return s>-1&&(a+=e(r[i],!0)),a+"]"}else if(x==="[object Object]"){for(u=t(r).sort(),s=u.length,a="",i=0;i<s;)g=u[i],m=e(r[g],!1),m!==void 0&&(a&&(a+=","),a+=JSON.stringify(g)+":"+m),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Ll=function(r){var o=e(r,!1);if(o!==void 0)return""+o},Ll}var JM=QM(),O0=ZM(JM);const ga=32;function Rl(n){let t=0;for(;n>1;)n/=2,t++;return t}function XM(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class t2{constructor(t,e,r,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Rl(XM(t+ga+1))-Rl(ga)-1,r=this.getSlotsInEpoch(e),o=t-(r-ga);return[e,o]}else{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),o=this.firstNormalEpoch+r,i=e%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*ga:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Rl(ga)):this.slotsPerEpoch}}var e2=globalThis.fetch;class n2 extends MM{constructor(t,e,r){const o=i=>{const s=vM(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(o,t,e,r),this.underlyingSocket=void 0}call(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function r2(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}const D0=56;class U0{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=r2(i2,t),r=t.length-D0;Le(r>=0,"lookup table is invalid"),Le(r%32===0,"lookup table is invalid");const o=r/32,{addresses:i}=Et([Tn(he(),o,"addresses")]).decode(t.slice(D0));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new Kt(e.authority[0]):void 0,addresses:i.map(s=>new Kt(s))}}}const i2={index:1,layout:Et([kt("typeIndex"),Us("deactivationSlot"),hn("lastExtendedSlot"),ye("lastExtendedStartIndex"),ye(),Tn(he(),Ro(ye(),-1),"authority")])},o2=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function s2(n){const t=n.match(o2);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[e,r,o,i]=t,s=n.startsWith("https:")?"wss:":"ws:",a=o==null?null:parseInt(o.slice(1),10),u=a==null?"":`:${a+1}`;return`${s}//${r}${u}${i}`}const ze=Ya(Gh(Kt),ft(),n=>new Kt(n)),l1=Yh([ft(),Oe("base64")]),Xh=Ya(Gh(qt.Buffer),l1,n=>qt.Buffer.from(n[0],"base64")),a2=30*1e3;function c2(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Se(n){let t,e;if(typeof n=="string")t=n;else if(n){const{commitment:r,...o}=n;t=r,e=o}return{commitment:t,config:e}}function z0(n){return n.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function f1(n){return Un([it({jsonrpc:Oe("2.0"),id:ft(),result:n}),it({jsonrpc:Oe("2.0"),id:ft(),error:it({code:Xs(),message:ft(),data:Ot(Kx())})})])}const u2=f1(Xs());function le(n){return Ya(f1(n),u2,t=>"error"in t?t:{...t,result:mt(t.result,n)})}function He(n){return le(it({context:it({slot:V()}),value:n}))}function Hu(n){return it({context:it({slot:V()}),value:n})}function Nl(n,t){return n===0?new a1({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new Kt(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:wn.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new Os(t)}const l2=it({foundation:V(),foundationTerm:V(),initial:V(),taper:V(),terminal:V()}),f2=le(yt(bt(it({epoch:V(),effectiveSlot:V(),amount:V(),postBalance:V(),commission:Ot(bt(V()))})))),h2=yt(it({slot:V(),prioritizationFee:V()})),d2=it({total:V(),validator:V(),foundation:V(),epoch:V()}),p2=it({epoch:V(),slotIndex:V(),slotsInEpoch:V(),absoluteSlot:V(),blockHeight:Ot(V()),transactionCount:Ot(V())}),g2=it({slotsPerEpoch:V(),leaderScheduleSlotOffset:V(),warmup:zr(),firstNormalEpoch:V(),firstNormalSlot:V()}),m2=Kg(ft(),yt(V())),Wo=bt(Un([it({}),ft()])),w2=it({err:Wo}),y2=Oe("receivedSignature"),b2=it({"solana-core":ft(),"feature-set":Ot(V())}),v2=it({program:ft(),programId:ze,parsed:Xs()}),x2=it({programId:ze,accounts:yt(ze),data:ft()}),j0=He(it({err:bt(Un([it({}),ft()])),logs:bt(yt(ft())),accounts:Ot(bt(yt(bt(it({executable:zr(),owner:ft(),lamports:V(),data:yt(ft()),rentEpoch:Ot(V())}))))),unitsConsumed:Ot(V()),returnData:Ot(bt(it({programId:ft(),data:Yh([ft(),Oe("base64")])}))),innerInstructions:Ot(bt(yt(it({index:V(),instructions:yt(Un([v2,x2]))}))))})),M2=He(it({byIdentity:Kg(ft(),yt(V())),range:it({firstSlot:V(),lastSlot:V()})}));function E2(n,t,e,r,o,i){const s=e||e2;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(m,x)=>{const B=await new Promise((S,k)=>{try{r(m,x,(T,I)=>S([T,I]))}catch(T){k(T)}});return await s(...B)}),new wM(async(m,x)=>{const B={method:"POST",body:m,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},EE)};try{let S=5,k,T=500;for(;u?k=await u(n,B):k=await s(n,B),!(k.status!==429||o===!0||(S-=1,S===0));)console.error(`Server responded with ${k.status} ${k.statusText}.  Retrying after ${T}ms delay...`),await as(T),T*=2;const I=await k.text();k.ok?x(null,I):x(new Error(`${k.status} ${k.statusText}: ${I}`))}catch(S){S instanceof Error&&x(S)}},{})}function S2(n){return(t,e)=>new Promise((r,o)=>{n.request(t,e,(i,s)=>{if(i){o(i);return}r(s)})})}function A2(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);const o=t.map(i=>n.request(i.methodName,i.args));n.request(o,(i,s)=>{if(i){r(i);return}e(s)})})}const I2=le(l2),_2=le(d2),B2=le(h2),T2=le(p2),k2=le(g2),L2=le(m2),R2=le(V()),N2=He(it({total:V(),circulating:V(),nonCirculating:V(),nonCirculatingAccounts:yt(ze)})),If=it({amount:ft(),uiAmount:bt(V()),decimals:V(),uiAmountString:Ot(ft())}),C2=He(yt(it({address:ze,amount:ft(),uiAmount:bt(V()),decimals:V(),uiAmountString:Ot(ft())}))),O2=He(yt(it({pubkey:ze,account:it({executable:zr(),owner:ze,lamports:V(),data:Xh,rentEpoch:V()})}))),_f=it({program:ft(),parsed:Xs(),space:V()}),D2=He(yt(it({pubkey:ze,account:it({executable:zr(),owner:ze,lamports:V(),data:_f,rentEpoch:V()})}))),U2=He(yt(it({lamports:V(),address:ze}))),Ca=it({executable:zr(),owner:ze,lamports:V(),data:Xh,rentEpoch:V()}),z2=it({pubkey:ze,account:Ca}),j2=Ya(Un([Gh(qt.Buffer),_f]),Un([l1,_f]),n=>Array.isArray(n)?mt(n,Xh):n),Bf=it({executable:zr(),owner:ze,lamports:V(),data:j2,rentEpoch:V()}),P2=it({pubkey:ze,account:Bf}),F2=it({state:Un([Oe("active"),Oe("inactive"),Oe("activating"),Oe("deactivating")]),active:V(),inactive:V()}),$2=le(yt(it({signature:ft(),slot:V(),err:Wo,memo:bt(ft()),blockTime:Ot(bt(V()))}))),W2=le(yt(it({signature:ft(),slot:V(),err:Wo,memo:bt(ft()),blockTime:Ot(bt(V()))}))),K2=it({subscription:V(),result:Hu(Ca)}),q2=it({pubkey:ze,account:Ca}),H2=it({subscription:V(),result:Hu(q2)}),V2=it({parent:V(),slot:V(),root:V()}),G2=it({subscription:V(),result:V2}),Y2=Un([it({type:Un([Oe("firstShredReceived"),Oe("completed"),Oe("optimisticConfirmation"),Oe("root")]),slot:V(),timestamp:V()}),it({type:Oe("createdBank"),parent:V(),slot:V(),timestamp:V()}),it({type:Oe("frozen"),slot:V(),timestamp:V(),stats:it({numTransactionEntries:V(),numSuccessfulTransactions:V(),numFailedTransactions:V(),maxTransactionsPerEntry:V()})}),it({type:Oe("dead"),slot:V(),timestamp:V(),err:ft()})]),Z2=it({subscription:V(),result:Y2}),Q2=it({subscription:V(),result:Hu(Un([w2,y2]))}),J2=it({subscription:V(),result:V()}),X2=it({pubkey:ft(),gossip:bt(ft()),tpu:bt(ft()),rpc:bt(ft()),version:bt(ft())}),P0=it({votePubkey:ft(),nodePubkey:ft(),activatedStake:V(),epochVoteAccount:zr(),epochCredits:yt(Yh([V(),V(),V()])),commission:V(),lastVote:V(),rootSlot:bt(V())}),tE=le(it({current:yt(P0),delinquent:yt(P0)})),eE=Un([Oe("processed"),Oe("confirmed"),Oe("finalized")]),nE=it({slot:V(),confirmations:bt(V()),err:Wo,confirmationStatus:Ot(eE)}),rE=He(yt(bt(nE))),iE=le(V()),h1=it({accountKey:ze,writableIndexes:yt(V()),readonlyIndexes:yt(V())}),td=it({signatures:yt(ft()),message:it({accountKeys:yt(ft()),header:it({numRequiredSignatures:V(),numReadonlySignedAccounts:V(),numReadonlyUnsignedAccounts:V()}),instructions:yt(it({accounts:yt(V()),data:ft(),programIdIndex:V()})),recentBlockhash:ft(),addressTableLookups:Ot(yt(h1))})}),d1=it({pubkey:ze,signer:zr(),writable:zr(),source:Ot(Un([Oe("transaction"),Oe("lookupTable")]))}),p1=it({accountKeys:yt(d1),signatures:yt(ft())}),g1=it({parsed:Xs(),program:ft(),programId:ze}),m1=it({accounts:yt(ze),data:ft(),programId:ze}),oE=Un([m1,g1]),sE=Un([it({parsed:Xs(),program:ft(),programId:ft()}),it({accounts:yt(ft()),data:ft(),programId:ft()})]),w1=Ya(oE,sE,n=>"accounts"in n?mt(n,m1):mt(n,g1)),y1=it({signatures:yt(ft()),message:it({accountKeys:yt(d1),instructions:yt(w1),recentBlockhash:ft(),addressTableLookups:Ot(bt(yt(h1)))})}),Xc=it({accountIndex:V(),mint:ft(),owner:Ot(ft()),programId:Ot(ft()),uiTokenAmount:If}),b1=it({writable:yt(ze),readonly:yt(ze)}),Vu=it({err:Wo,fee:V(),innerInstructions:Ot(bt(yt(it({index:V(),instructions:yt(it({accounts:yt(V()),data:ft(),programIdIndex:V()}))})))),preBalances:yt(V()),postBalances:yt(V()),logMessages:Ot(bt(yt(ft()))),preTokenBalances:Ot(bt(yt(Xc))),postTokenBalances:Ot(bt(yt(Xc))),loadedAddresses:Ot(b1),computeUnitsConsumed:Ot(V())}),ed=it({err:Wo,fee:V(),innerInstructions:Ot(bt(yt(it({index:V(),instructions:yt(w1)})))),preBalances:yt(V()),postBalances:yt(V()),logMessages:Ot(bt(yt(ft()))),preTokenBalances:Ot(bt(yt(Xc))),postTokenBalances:Ot(bt(yt(Xc))),loadedAddresses:Ot(b1),computeUnitsConsumed:Ot(V())}),ta=Un([Oe(0),Oe("legacy")]),Ko=it({pubkey:ft(),lamports:V(),postBalance:bt(V()),rewardType:bt(ft()),commission:Ot(bt(V()))}),aE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),transactions:yt(it({transaction:td,meta:bt(Vu),version:Ot(ta)})),rewards:Ot(yt(Ko)),blockTime:bt(V()),blockHeight:bt(V())}))),cE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),rewards:Ot(yt(Ko)),blockTime:bt(V()),blockHeight:bt(V())}))),uE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),transactions:yt(it({transaction:p1,meta:bt(Vu),version:Ot(ta)})),rewards:Ot(yt(Ko)),blockTime:bt(V()),blockHeight:bt(V())}))),lE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),transactions:yt(it({transaction:y1,meta:bt(ed),version:Ot(ta)})),rewards:Ot(yt(Ko)),blockTime:bt(V()),blockHeight:bt(V())}))),fE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),transactions:yt(it({transaction:p1,meta:bt(ed),version:Ot(ta)})),rewards:Ot(yt(Ko)),blockTime:bt(V()),blockHeight:bt(V())}))),hE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),rewards:Ot(yt(Ko)),blockTime:bt(V()),blockHeight:bt(V())}))),dE=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),transactions:yt(it({transaction:td,meta:bt(Vu)})),rewards:Ot(yt(Ko)),blockTime:bt(V())}))),F0=le(bt(it({blockhash:ft(),previousBlockhash:ft(),parentSlot:V(),signatures:yt(ft()),blockTime:bt(V())}))),Cl=le(bt(it({slot:V(),meta:bt(Vu),blockTime:Ot(bt(V())),transaction:td,version:Ot(ta)}))),pc=le(bt(it({slot:V(),transaction:y1,meta:bt(ed),blockTime:Ot(bt(V())),version:Ot(ta)}))),pE=He(it({blockhash:ft(),lastValidBlockHeight:V()})),gE=He(zr()),mE=it({slot:V(),numTransactions:V(),numSlots:V(),samplePeriodSecs:V()}),wE=le(yt(mE)),yE=He(bt(it({feeCalculator:it({lamportsPerSignature:V()})}))),bE=le(ft()),vE=le(ft()),xE=it({err:Wo,logs:yt(ft()),signature:ft()}),ME=it({result:Hu(xE),subscription:V()}),EE={"solana-client":"js/1.0.0-maintenance"};class SE{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const g={};return async m=>{const{commitment:x,config:B}=Se(m),S=this._buildArgs([],x,void 0,B),k=O0(S);return g[k]=g[k]??(async()=>{try{const T=await this._rpcRequest("getBlockHeight",S),I=mt(T,le(V()));if("error"in I)throw new It(I.error,"failed to get block height information");return I.result}finally{delete g[k]}})(),await g[k]}})();let r,o,i,s,a,u;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,o=e.httpHeaders,i=e.fetch,s=e.fetchMiddleware,a=e.disableRetryOnRateLimit,u=e.httpAgent),this._rpcEndpoint=c2(t),this._rpcWsEndpoint=r||s2(t),this._rpcClient=E2(t,o,i,s,a,u),this._rpcRequest=S2(this._rpcClient),this._rpcBatchRequest=A2(this._rpcClient),this._rpcWebSocket=new n2(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgs([t.toBase58()],r,void 0,o),s=await this._rpcRequest("getBalance",i),a=mt(s,He(V()));if("error"in a)throw new It(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=mt(e,le(bt(V())));if("error"in r)throw new It(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=mt(t,le(V()));if("error"in e)throw new It(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=mt(t,R2);if("error"in e)throw new It(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),o=mt(r,N2);if("error"in o)throw new It(o.error,"failed to get supply");return o.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenSupply",r),i=mt(o,He(If));if("error"in i)throw new It(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenAccountBalance",r),i=mt(o,He(If));if("error"in i)throw new It(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){const{commitment:o,config:i}=Se(r);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const a=this._buildArgs(s,o,"base64",i),u=await this._rpcRequest("getTokenAccountsByOwner",a),g=mt(u,O2);if("error"in g)throw new It(g.error,`failed to get token accounts owned by account ${t.toBase58()}`);return g.result}async getParsedTokenAccountsByOwner(t,e,r){let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const i=this._buildArgs(o,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),a=mt(s,D2);if("error"in a)throw new It(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],o=await this._rpcRequest("getLargestAccounts",r),i=mt(o,U2);if("error"in i)throw new It(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenLargestAccounts",r),i=mt(o,C2);if("error"in i)throw new It(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgs([t.toBase58()],r,"base64",o),s=await this._rpcRequest("getAccountInfo",i),a=mt(s,He(bt(Ca)));if("error"in a)throw new It(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",o),s=await this._rpcRequest("getAccountInfo",i),a=mt(s,He(bt(Bf)));if("error"in a)throw new It(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:o}=Se(e),i=t.map(g=>g.toBase58()),s=this._buildArgs([i],r,"jsonParsed",o),a=await this._rpcRequest("getMultipleAccounts",s),u=mt(a,He(yt(bt(Bf))));if("error"in u)throw new It(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:o}=Se(e),i=t.map(g=>g.toBase58()),s=this._buildArgs([i],r,"base64",o),a=await this._rpcRequest("getMultipleAccounts",s),u=mt(a,He(yt(bt(Ca))));if("error"in u)throw new It(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:o,config:i}=Se(e),s=this._buildArgs([t.toBase58()],o,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",s),u=mt(a,le(F2));if("error"in u)throw new It(u.error,`failed to get Stake Activation ${t.toBase58()}`);return u.result}async getProgramAccounts(t,e){const{commitment:r,config:o}=Se(e),{encoding:i,...s}=o||{},a=this._buildArgs([t.toBase58()],r,i||"base64",{...s,...s.filters?{filters:z0(s.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),g=yt(z2),m=s.withContext===!0?mt(u,He(g)):mt(u,le(g));if("error"in m)throw new It(m.error,`failed to get accounts owned by program ${t.toBase58()}`);return m.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",o),s=await this._rpcRequest("getProgramAccounts",i),a=mt(s,le(yt(P2)));if("error"in a)throw new It(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,e){var i;let r;if(typeof t=="string")r=t;else{const s=t;if((i=s.abortSignal)!=null&&i.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let o;try{o=wn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Le(o.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,o,i=!1;const s=new Promise((u,g)=>{try{r=this.onSignature(e,(x,B)=>{r=void 0;const S={context:B,value:x};u({__type:Si.PROCESSED,response:S})},t);const m=new Promise(x=>{r==null?x():o=this._onSubscriptionStateChange(r,B=>{B==="subscribed"&&x()})});(async()=>{if(await m,i)return;const x=await this.getSignatureStatus(e);if(i||x==null)return;const{context:B,value:S}=x;if(S!=null)if(S!=null&&S.err)g(S.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(S.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(S.confirmationStatus==="processed"||S.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,u({__type:Si.PROCESSED,response:{context:B,value:S}})}})()}catch(m){g(m)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:o}}){let i=!1;const s=new Promise(x=>{const B=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let S=await B();if(!i){for(;S<=r;)if(await as(1e3),i||(S=await B(),i))return;x({__type:Si.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),g=this.getCancellationPromise(e);let m;try{const x=await Promise.race([g,u,s]);if(x.__type===Si.PROCESSED)m=x.response;else throw new n1(o)}finally{i=!0,a()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:o,nonceValue:i,signature:s}}){let a=!1;const u=new Promise(S=>{let k=i,T=null;const I=async()=>{try{const{context:N,value:O}=await this.getNonceAndContext(o,{commitment:t,minContextSlot:r});return T=N.slot,O==null?void 0:O.nonce}catch{return k}};(async()=>{if(k=await I(),!a)for(;;){if(i!==k){S({__type:Si.NONCE_INVALID,slotInWhichNonceDidAdvance:T});return}if(await as(2e3),a||(k=await I(),a))return}})()}),{abortConfirmation:g,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),x=this.getCancellationPromise(e);let B;try{const S=await Promise.race([x,m,u]);if(S.__type===Si.PROCESSED)B=S.response;else{let k;for(;;){const T=await this.getSignatureStatus(s);if(T==null)break;if(T.context.slot<(S.slotInWhichNonceDidAdvance??r)){await as(400);continue}k=T;break}if(k!=null&&k.value){const T=t||"finalized",{confirmationStatus:I}=k.value;switch(T){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new wa(s);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new wa(s);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new wa(s);break;default:}B={context:k.context,value:{err:k.value.err}}}else throw new wa(s)}}finally{a=!0,g()}return B}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const o=new Promise(u=>{let g=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{g=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:Si.TIMED_OUT,timeoutMs:g}),g)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let a;try{const u=await Promise.race([s,o]);if(u.__type===Si.PROCESSED)a=u.response;else throw new r1(e,u.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=mt(t,le(yt(X2)));if("error"in e)throw new It(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),o=mt(r,tE);if("error"in o)throw new It(o.error,"failed to get vote accounts");return o.result}async getSlot(t){const{commitment:e,config:r}=Se(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlot",o),s=mt(i,le(V()));if("error"in s)throw new It(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:e,config:r}=Se(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlotLeader",o),s=mt(i,le(ft()));if("error"in s)throw new It(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,e){const r=[t,e],o=await this._rpcRequest("getSlotLeaders",r),i=mt(o,le(yt(ze)));if("error"in i)throw new It(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:r,value:o}=await this.getSignatureStatuses([t],e);Le(o.length===1);const i=o[0];return{context:r,value:i}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const o=await this._rpcRequest("getSignatureStatuses",r),i=mt(o,rE);if("error"in i)throw new It(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:r}=Se(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getTransactionCount",o),s=mt(i,le(V()));if("error"in s)throw new It(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),o=mt(r,I2);if("error"in o)throw new It(o.error,"failed to get inflation");return o.result}async getInflationReward(t,e,r){const{commitment:o,config:i}=Se(r),s=this._buildArgs([t.map(g=>g.toBase58())],o,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",s),u=mt(a,f2);if("error"in u)throw new It(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=mt(t,_2);if("error"in e)throw new It(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:r}=Se(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getEpochInfo",o),s=mt(i,T2);if("error"in s)throw new It(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=mt(t,k2);if("error"in e)throw new It(e.error,"failed to get epoch schedule");const r=e.result;return new t2(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=mt(t,L2);if("error"in e)throw new It(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=mt(o,iE);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=mt(e,wE);if("error"in r)throw new It(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=mt(o,yE);if("error"in i)throw new It(i.error,"failed to get fee calculator");const{context:s,value:a}=i.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,e){const r=Cs(t.serialize()).toString("base64"),o=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",o),s=mt(i,He(bt(V())));if("error"in s)throw new It(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const e=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=e!=null&&e.length?[e]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),i=mt(o,B2);if("error"in i)throw new It(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=Se(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getLatestBlockhash",o),s=mt(i,pE);if("error"in s)throw new It(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgs([t],r,void 0,o),s=await this._rpcRequest("isBlockhashValid",i),a=mt(s,gE);if("error"in a)throw new It(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=mt(t,le(b2));if("error"in e)throw new It(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=mt(t,le(ft()));if("error"in e)throw new It(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,o),s=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const a=mt(s,uE);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(s,cE);if("error"in a)throw a.error;return a.result}default:{const a=mt(s,aE);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:g,meta:m,version:x})=>({meta:m,transaction:{...g,message:Nl(x,g.message)},version:x}))}:null}}}catch(a){throw new It(a,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",o),s=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const a=mt(s,fE);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(s,hE);if("error"in a)throw a.error;return a.result}default:{const a=mt(s,lE);if("error"in a)throw a.error;return a.result}}}catch(a){throw new It(a,"failed to get block")}}async getBlockProduction(t){let e,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...u}=t;r=a,e=u}const o=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",o),s=mt(i,M2);if("error"in s)throw new It(s.error,"failed to get block production information");return s.result}async getTransaction(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,o),s=await this._rpcRequest("getTransaction",i),a=mt(s,Cl);if("error"in a)throw new It(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:Nl(u.version,u.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:r,config:o}=Se(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",o),s=await this._rpcRequest("getTransaction",i),a=mt(s,pc);if("error"in a)throw new It(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,e){const{commitment:r,config:o}=Se(e),i=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(u=>{const g=mt(u,pc);if("error"in g)throw new It(g.error,"failed to get transactions");return g.result})}async getTransactions(t,e){const{commitment:r,config:o}=Se(e),i=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,o)}));return(await this._rpcBatchRequest(i)).map(u=>{const g=mt(u,Cl);if("error"in g)throw new It(g.error,"failed to get transactions");const m=g.result;return m&&{...m,transaction:{...m.transaction,message:Nl(m.version,m.transaction.message)}}})}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),o=await this._rpcRequest("getBlock",r),i=mt(o,dE);if("error"in i)throw new It(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:u,meta:g})=>{const m=new Os(u.message);return{meta:g,transaction:{...u,message:m}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:g})=>({meta:g,transaction:ai.populate(u.message,u.signatures)}))}}async getBlocks(t,e,r){const o=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",o),s=mt(i,le(yt(V())));if("error"in s)throw new It(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=mt(o,F0);if("error"in i)throw new It(i.error,"failed to get block");const s=i.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=mt(o,F0);if("error"in i)throw new It(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),o=await this._rpcRequest("getTransaction",r),i=mt(o,Cl);if("error"in i)throw new It(i.error,"failed to get transaction");const s=i.result;if(!s)return s;const a=new Os(s.transaction.message),u=s.transaction.signatures;return{...s,transaction:ai.populate(a,u)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),o=await this._rpcRequest("getTransaction",r),i=mt(o,pc);if("error"in i)throw new It(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],e,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=mt(s,pc);if("error"in a)throw new It(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,e,r){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(e--,!(e<=0||e<i));)try{const u=await this.getConfirmedBlockSignatures(e,"finalized");u.signatures.length>0&&(o.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let s=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>s));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(o.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(t,o)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),s=mt(i,$2);if("error"in s)throw new It(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,e,r){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",o),s=mt(i,W2);if("error"in s)throw new It(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,e){const{context:r,value:o}=await this.getAccountInfoAndContext(t,e);let i=null;return o!==null&&(i=new U0({key:t,state:U0.deserialize(o.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:o}=await this.getAccountInfoAndContext(t,e);let i=null;return o!==null&&(i=Jh.fromAccountData(o.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),o=mt(r,bE);if("error"in o)throw new It(o.error,`airdrop to ${t.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await as(100);const r=Date.now()-this._blockhashInfo.lastFetch>=a2;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await as(GM/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=Se(t),o=this._buildArgs([],e,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",o),s=mt(i,He(V()));if("error"in s)throw new It(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,e,r){if("message"in t){const T=t.serialize(),I=qt.Buffer.from(T).toString("base64");if(Array.isArray(e)||r!==void 0)throw new Error("Invalid arguments");const N=e||{};N.encoding="base64","commitment"in N||(N.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(N.innerInstructions=e.innerInstructions);const O=[I,N],R=await this._rpcRequest("simulateTransaction",O),U=mt(R,j0);if("error"in U)throw new Error("failed to simulate transaction: "+U.error.message);return U.result}let o;if(t instanceof ai){let k=t;o=new ai,o.feePayer=k.feePayer,o.instructions=t.instructions,o.nonceInfo=k.nonceInfo,o.signatures=k.signatures}else o=ai.populate(t),o._message=o._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(o.nonceInfo&&i)o.sign(...i);else{let k=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(k);if(o.lastValidBlockHeight=T.lastValidBlockHeight,o.recentBlockhash=T.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const I=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else k=!0}}const s=o._compile(),a=s.serialize(),g=o._serialize(a).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(r){const k=(Array.isArray(r)?r:s.nonProgramIds()).map(T=>T.toBase58());m.accounts={encoding:"base64",addresses:k}}i&&(m.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(m.innerInstructions=e.innerInstructions);const x=[g,m],B=await this._rpcRequest("simulateTransaction",x),S=mt(B,j0);if("error"in S){let k;if("data"in S.error&&(k=S.error.data.logs,k&&Array.isArray(k))){const T=`
    `,I=T+k.join(T);console.error(S.error.message,I)}throw new N0({action:"simulate",signature:"",transactionMessage:S.error.message,logs:k})}return S.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(t.nonceInfo)t.sign(...o);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...o),!t.signature)throw new Error("!signature");const u=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))s=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=Cs(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},o=e&&e.skipPreflight,i=o===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),o&&(r.skipPreflight=o),i&&(r.preflightCommitment=i);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),u=mt(a,vE);if("error"in u){let g;throw"data"in u.error&&(g=u.error.data.logs),new N0({action:o?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:g})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:"pending"})})}_setSubscription(t,e){var o;const r=(o=this._subscriptionsByHash[t])==null?void 0:o.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(s=>{try{s(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const o=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return o.add(e),()=>{o.delete(e),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:s}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const a=await this._rpcWebSocket.call(s,i);this._setSubscription(r,{...o,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=o.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:i,error:a}),!e())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:s}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[i])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!e())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(o=>{try{o(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:r}=mt(t,K2);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,o=O0([t.method,e]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[o];Le(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:o,config:i}=Se(r),s=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=mt(t,H2);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,o){const{commitment:i,config:s}=Se(r),a=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s||(o?{filters:z0(o)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const o=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=mt(t,ME);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=mt(t,G2);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=mt(t,Z2);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,o){const i=e||this._commitment;if(i||r||o){let s={};r&&(s.encoding=r),i&&(s.commitment=i),o&&(s=Object.assign(s,o)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,e,r,o){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,o)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=mt(t,Q2);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const o=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){e(s.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(t,e,r){const{commitment:o,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],o,void 0,i),a=this._makeSubscription({callback:(u,g)=>{e(u,g);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=mt(t,J2);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Et([kt("instruction"),Us("recentSlot"),ye("bumpSeed")])},FreezeLookupTable:{index:1,layout:Et([kt("instruction")])},ExtendLookupTable:{index:2,layout:Et([kt("instruction"),Us(),Tn(he(),Ro(kt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Et([kt("instruction")])},CloseLookupTable:{index:4,layout:Et([kt("instruction")])}});new Kt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Et([ye("instruction"),kt("units"),kt("additionalFee")])},RequestHeapFrame:{index:1,layout:Et([ye("instruction"),kt("bytes")])},SetComputeUnitLimit:{index:2,layout:Et([ye("instruction"),kt("units")])},SetComputeUnitPrice:{index:3,layout:Et([ye("instruction"),Us("microLamports")])}});new Kt("ComputeBudget111111111111111111111111111111");Et([ye("numSignatures"),ye("padding"),dr("signatureOffset"),dr("signatureInstructionIndex"),dr("publicKeyOffset"),dr("publicKeyInstructionIndex"),dr("messageDataOffset"),dr("messageDataSize"),dr("messageInstructionIndex")]);new Kt("Ed25519SigVerify111111111111111111111111111");CM.utils.isValidPrivateKey;Et([ye("numSignatures"),dr("signatureOffset"),ye("signatureInstructionIndex"),dr("ethAddressOffset"),ye("ethAddressInstructionIndex"),dr("messageDataOffset"),dr("messageDataSize"),ye("messageInstructionIndex"),_e(20,"ethAddress"),_e(64,"signature"),ye("recoveryId")]);new Kt("KeccakSecp256k11111111111111111111111111111");var v1;new Kt("StakeConfig11111111111111111111111111111111");let x1=class{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}};v1=x1;x1.default=new v1(0,0,Kt.default);Object.freeze({Initialize:{index:0,layout:Et([kt("instruction"),PM(),FM()])},Authorize:{index:1,layout:Et([kt("instruction"),he("newAuthorized"),kt("stakeAuthorizationType")])},Delegate:{index:2,layout:Et([kt("instruction")])},Split:{index:3,layout:Et([kt("instruction"),Qn("lamports")])},Withdraw:{index:4,layout:Et([kt("instruction"),Qn("lamports")])},Deactivate:{index:5,layout:Et([kt("instruction")])},Merge:{index:7,layout:Et([kt("instruction")])},AuthorizeWithSeed:{index:8,layout:Et([kt("instruction"),he("newAuthorized"),kt("stakeAuthorizationType"),ms("authoritySeed"),he("authorityOwner")])}});new Kt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Et([kt("instruction"),$M()])},Authorize:{index:1,layout:Et([kt("instruction"),he("newAuthorized"),kt("voteAuthorizationType")])},Withdraw:{index:3,layout:Et([kt("instruction"),Qn("lamports")])},UpdateValidatorIdentity:{index:4,layout:Et([kt("instruction")])},AuthorizeWithSeed:{index:10,layout:Et([kt("instruction"),WM()])}});new Kt("Vote111111111111111111111111111111111111111");new Kt("Va1idator1nfo111111111111111111111111111111");it({name:ft(),website:Ot(ft()),details:Ot(ft()),iconUrl:Ot(ft()),keybaseUsername:Ot(ft())});new Kt("Vote111111111111111111111111111111111111111");Et([he("nodePubkey"),he("authorizedWithdrawer"),ye("commission"),hn(),Tn(Et([hn("slot"),kt("confirmationCount")]),Ro(kt(),-8),"votes"),ye("rootSlotValid"),hn("rootSlot"),hn(),Tn(Et([hn("epoch"),he("authorizedVoter")]),Ro(kt(),-8),"authorizedVoters"),Et([Tn(Et([he("authorizedPubkey"),hn("epochOfLastAuthorizedSwitch"),hn("targetEpoch")]),32,"buf"),hn("idx"),ye("isEmpty")],"priorVoters"),hn(),Tn(Et([hn("epoch"),hn("credits"),hn("prevCredits")]),Ro(kt(),-8),"epochCredits"),Et([hn("slot"),hn("timestamp")],"lastTimestamp")]);const AE={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function IE(n,t){return AE["https"][n]}const M1=G.createContext({});function _E(){return G.useContext(M1)}const BE=({children:n,endpoint:t,config:e={commitment:"confirmed"}})=>{const r=G.useMemo(()=>new SE(t,e),[t,e]);return Ih.createElement(M1.Provider,{value:{connection:r}},n)};let jn=class extends Error{constructor(t,e){super(t),this.error=e}},Oa=class extends jn{constructor(){super(...arguments),this.name="WalletNotReadyError"}},ya=class extends jn{constructor(){super(...arguments),this.name="WalletConfigError"}},tu=class extends jn{constructor(){super(...arguments),this.name="WalletConnectionError"}},TE=class extends jn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}},kE=class extends jn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},ws=class extends jn{constructor(){super(...arguments),this.name="WalletAccountError"}},E1=class extends jn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},Or=class extends jn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},xo=class extends jn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},Mo=class extends jn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},S1=class extends jn{constructor(){super(...arguments),this.name="WalletSignMessageError"}};class $0 extends jn{constructor(){super(...arguments),this.name="WalletSignInError"}}var Ge;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(Ge||(Ge={}));let A1=class extends Zh{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){const o=this.publicKey;if(!o)throw new Or;return t.feePayer=t.feePayer||o,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}};function Eo(n){return"version"in n}let LE=class extends A1{async sendTransaction(t,e,r={}){let o=!0;try{if(Eo(t)){if(!this.supportedTransactionVersions)throw new xo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new xo(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,r)}catch(i){throw i instanceof Mo?(o=!1,i):new xo(i==null?void 0:i.message,i)}}else try{const{signers:i,...s}=r;t=await this.prepareTransaction(t,e,s),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await e.sendRawTransaction(a,s)}catch(i){throw i instanceof Mo?(o=!1,i):new xo(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(Eo(r)){if(!this.supportedTransactionVersions)throw new Mo("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Mo(`Signing transaction version ${r.version} isn't supported by this wallet`)}const e=[];for(const r of t)e.push(await this.signTransaction(r));return e}},RE=class extends LE{};class NE extends RE{}const qn="solana:signAndSendTransaction",No="solana:signIn",Li="solana:signMessage",We="solana:signTransaction",nd="standard:connect",Tf="standard:disconnect",rd="standard:events";function CE(n){return nd in n.features&&rd in n.features&&(qn in n.features||We in n.features)}class W0 extends jn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}function OE(n,t){const e=G.useState(()=>{try{const i=localStorage.getItem(n);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),r=e[0],o=G.useRef(!0);return G.useEffect(()=>{if(o.current){o.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,n]),e}var DE=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},I1={},ur={};let id;const UE=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ur.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ur.getSymbolTotalCodewords=function(t){return UE[t]};ur.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t};ur.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');id=t};ur.isKanjiModeEnabled=function(){return typeof id<"u"};ur.toSJIS=function(t){return id(t)};var Gu={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,o){if(n.isValid(r))return r;try{return t(r)}catch{return o}}})(Gu);function _1(){this.buffer=[],this.length=0}_1.prototype={get:function(n){const t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)===1},put:function(n,t){for(let e=0;e<t;e++)this.putBit((n>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var zE=_1;function Za(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}Za.prototype.set=function(n,t,e,r){const o=n*this.size+t;this.data[o]=e,r&&(this.reservedBit[o]=!0)};Za.prototype.get=function(n,t){return this.data[n*this.size+t]};Za.prototype.xor=function(n,t,e){this.data[n*this.size+t]^=e};Za.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};var jE=Za,B1={};(function(n){const t=ur.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,i=t(r),s=i===145?26:Math.ceil((i-13)/(2*o-2))*2,a=[i-7];for(let u=1;u<o-1;u++)a[u]=a[u-1]-s;return a.push(6),a.reverse()},n.getPositions=function(r){const o=[],i=n.getRowColCoords(r),s=i.length;for(let a=0;a<s;a++)for(let u=0;u<s;u++)a===0&&u===0||a===0&&u===s-1||a===s-1&&u===0||o.push([i[a],i[u]]);return o}})(B1);var T1={};const PE=ur.getSymbolSize,K0=7;T1.getPositions=function(t){const e=PE(t);return[[0,0],[e-K0,0],[0,e-K0]]};var k1={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},n.from=function(o){return n.isValid(o)?parseInt(o,10):void 0},n.getPenaltyN1=function(o){const i=o.size;let s=0,a=0,u=0,g=null,m=null;for(let x=0;x<i;x++){a=u=0,g=m=null;for(let B=0;B<i;B++){let S=o.get(x,B);S===g?a++:(a>=5&&(s+=t.N1+(a-5)),g=S,a=1),S=o.get(B,x),S===m?u++:(u>=5&&(s+=t.N1+(u-5)),m=S,u=1)}a>=5&&(s+=t.N1+(a-5)),u>=5&&(s+=t.N1+(u-5))}return s},n.getPenaltyN2=function(o){const i=o.size;let s=0;for(let a=0;a<i-1;a++)for(let u=0;u<i-1;u++){const g=o.get(a,u)+o.get(a,u+1)+o.get(a+1,u)+o.get(a+1,u+1);(g===4||g===0)&&s++}return s*t.N2},n.getPenaltyN3=function(o){const i=o.size;let s=0,a=0,u=0;for(let g=0;g<i;g++){a=u=0;for(let m=0;m<i;m++)a=a<<1&2047|o.get(g,m),m>=10&&(a===1488||a===93)&&s++,u=u<<1&2047|o.get(m,g),m>=10&&(u===1488||u===93)&&s++}return s*t.N3},n.getPenaltyN4=function(o){let i=0;const s=o.data.length;for(let u=0;u<s;u++)i+=o.data[u];return Math.abs(Math.ceil(i*100/s/5)-10)*t.N4};function e(r,o,i){switch(r){case n.Patterns.PATTERN000:return(o+i)%2===0;case n.Patterns.PATTERN001:return o%2===0;case n.Patterns.PATTERN010:return i%3===0;case n.Patterns.PATTERN011:return(o+i)%3===0;case n.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case n.Patterns.PATTERN101:return o*i%2+o*i%3===0;case n.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case n.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(o,i){const s=i.size;for(let a=0;a<s;a++)for(let u=0;u<s;u++)i.isReserved(u,a)||i.xor(u,a,e(o,u,a))},n.getBestMask=function(o,i){const s=Object.keys(n.Patterns).length;let a=0,u=1/0;for(let g=0;g<s;g++){i(g),n.applyMask(g,o);const m=n.getPenaltyN1(o)+n.getPenaltyN2(o)+n.getPenaltyN3(o)+n.getPenaltyN4(o);n.applyMask(g,o),m<u&&(u=m,a=g)}return a}})(k1);var Yu={};const zi=Gu,gc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yu.getBlocksCount=function(t,e){switch(e){case zi.L:return gc[(t-1)*4+0];case zi.M:return gc[(t-1)*4+1];case zi.Q:return gc[(t-1)*4+2];case zi.H:return gc[(t-1)*4+3];default:return}};Yu.getTotalCodewordsCount=function(t,e){switch(e){case zi.L:return mc[(t-1)*4+0];case zi.M:return mc[(t-1)*4+1];case zi.Q:return mc[(t-1)*4+2];case zi.H:return mc[(t-1)*4+3];default:return}};var L1={},Zu={};const Ia=new Uint8Array(512),eu=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Ia[e]=t,eu[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Ia[e]=Ia[e-255]})();Zu.log=function(t){if(t<1)throw new Error("log("+t+")");return eu[t]};Zu.exp=function(t){return Ia[t]};Zu.mul=function(t,e){return t===0||e===0?0:Ia[eu[t]+eu[e]]};(function(n){const t=Zu;n.mul=function(r,o){const i=new Uint8Array(r.length+o.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<o.length;a++)i[s+a]^=t.mul(r[s],o[a]);return i},n.mod=function(r,o){let i=new Uint8Array(r);for(;i.length-o.length>=0;){const s=i[0];for(let u=0;u<o.length;u++)i[u]^=t.mul(o[u],s);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},n.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let i=0;i<r;i++)o=n.mul(o,new Uint8Array([1,t.exp(i)]));return o}})(L1);const R1=L1;function od(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}od.prototype.initialize=function(t){this.degree=t,this.genPoly=R1.generateECPolynomial(this.degree)};od.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=R1.mod(e,this.genPoly),o=this.degree-r.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(r,o),i}return r};var FE=od,N1={},Hi={},sd={};sd.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Kr={};const C1="[0-9]+",$E="[A-Z $%*+\\-./:]+";let Da="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Da=Da.replace(/u/g,"\\u");const WE="(?:(?![A-Z0-9 $%*+\\-./:]|"+Da+`)(?:.|[\r
]))+`;Kr.KANJI=new RegExp(Da,"g");Kr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Kr.BYTE=new RegExp(WE,"g");Kr.NUMERIC=new RegExp(C1,"g");Kr.ALPHANUMERIC=new RegExp($E,"g");const KE=new RegExp("^"+Da+"$"),qE=new RegExp("^"+C1+"$"),HE=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Kr.testKanji=function(t){return KE.test(t)};Kr.testNumeric=function(t){return qE.test(t)};Kr.testAlphanumeric=function(t){return HE.test(t)};(function(n){const t=sd,e=Kr;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return e.testNumeric(i)?n.NUMERIC:e.testAlphanumeric(i)?n.ALPHANUMERIC:e.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+o)}}n.from=function(i,s){if(n.isValid(i))return i;try{return r(i)}catch{return s}}})(Hi);(function(n){const t=ur,e=Yu,r=Gu,o=Hi,i=sd,s=7973,a=t.getBCHDigit(s);function u(B,S,k){for(let T=1;T<=40;T++)if(S<=n.getCapacity(T,k,B))return T}function g(B,S){return o.getCharCountIndicator(B,S)+4}function m(B,S){let k=0;return B.forEach(function(T){const I=g(T.mode,S);k+=I+T.getBitsLength()}),k}function x(B,S){for(let k=1;k<=40;k++)if(m(B,k)<=n.getCapacity(k,S,o.MIXED))return k}n.from=function(S,k){return i.isValid(S)?parseInt(S,10):k},n.getCapacity=function(S,k,T){if(!i.isValid(S))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=o.BYTE);const I=t.getSymbolTotalCodewords(S),N=e.getTotalCodewordsCount(S,k),O=(I-N)*8;if(T===o.MIXED)return O;const R=O-g(T,S);switch(T){case o.NUMERIC:return Math.floor(R/10*3);case o.ALPHANUMERIC:return Math.floor(R/11*2);case o.KANJI:return Math.floor(R/13);case o.BYTE:default:return Math.floor(R/8)}},n.getBestVersionForData=function(S,k){let T;const I=r.from(k,r.M);if(Array.isArray(S)){if(S.length>1)return x(S,I);if(S.length===0)return 1;T=S[0]}else T=S;return u(T.mode,T.getLength(),I)},n.getEncodedBits=function(S){if(!i.isValid(S)||S<7)throw new Error("Invalid QR Code version");let k=S<<12;for(;t.getBCHDigit(k)-a>=0;)k^=s<<t.getBCHDigit(k)-a;return S<<12|k}})(N1);var O1={};const kf=ur,D1=1335,VE=21522,q0=kf.getBCHDigit(D1);O1.getEncodedBits=function(t,e){const r=t.bit<<3|e;let o=r<<10;for(;kf.getBCHDigit(o)-q0>=0;)o^=D1<<kf.getBCHDigit(o)-q0;return(r<<10|o)^VE};var U1={};const GE=Hi;function zs(n){this.mode=GE.NUMERIC,this.data=n.toString()}zs.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};zs.prototype.getLength=function(){return this.data.length};zs.prototype.getBitsLength=function(){return zs.getBitsLength(this.data.length)};zs.prototype.write=function(t){let e,r,o;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),o=parseInt(r,10),t.put(o,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),o=parseInt(r,10),t.put(o,i*3+1))};var YE=zs;const ZE=Hi,Ol=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function js(n){this.mode=ZE.ALPHANUMERIC,this.data=n}js.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};js.prototype.getLength=function(){return this.data.length};js.prototype.getBitsLength=function(){return js.getBitsLength(this.data.length)};js.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=Ol.indexOf(this.data[e])*45;r+=Ol.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(Ol.indexOf(this.data[e]),6)};var QE=js;const JE=Hi;function Ps(n){this.mode=JE.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Ps.getBitsLength=function(t){return t*8};Ps.prototype.getLength=function(){return this.data.length};Ps.prototype.getBitsLength=function(){return Ps.getBitsLength(this.data.length)};Ps.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)};var XE=Ps;const tS=Hi,eS=ur;function Fs(n){this.mode=tS.KANJI,this.data=n}Fs.getBitsLength=function(t){return t*13};Fs.prototype.getLength=function(){return this.data.length};Fs.prototype.getBitsLength=function(){return Fs.getBitsLength(this.data.length)};Fs.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let e=eS.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),n.put(e,13)}};var nS=Fs,z1={exports:{}};(function(n){var t={single_source_shortest_paths:function(e,r,o){var i={},s={};s[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var u,g,m,x,B,S,k,T,I;!a.empty();){u=a.pop(),g=u.value,x=u.cost,B=e[g]||{};for(m in B)B.hasOwnProperty(m)&&(S=B[m],k=x+S,T=s[m],I=typeof s[m]>"u",(I||T>k)&&(s[m]=k,a.push(m,k),i[m]=g))}if(typeof o<"u"&&typeof s[o]>"u"){var N=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(N)}return i},extract_shortest_path_from_predecessor_list:function(e,r){for(var o=[],i=r;i;)o.push(i),e[i],i=e[i];return o.reverse(),o},find_path:function(e,r,o){var i=t.single_source_shortest_paths(e,r,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(e){var r=t.PriorityQueue,o={},i;e=e||{};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,r){return e.cost-r.cost},push:function(e,r){var o={value:e,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t})(z1);var rS=z1.exports;(function(n){const t=Hi,e=YE,r=QE,o=XE,i=nS,s=Kr,a=ur,u=rS;function g(N){return unescape(encodeURIComponent(N)).length}function m(N,O,R){const U=[];let P;for(;(P=N.exec(R))!==null;)U.push({data:P[0],index:P.index,mode:O,length:P[0].length});return U}function x(N){const O=m(s.NUMERIC,t.NUMERIC,N),R=m(s.ALPHANUMERIC,t.ALPHANUMERIC,N);let U,P;return a.isKanjiModeEnabled()?(U=m(s.BYTE,t.BYTE,N),P=m(s.KANJI,t.KANJI,N)):(U=m(s.BYTE_KANJI,t.BYTE,N),P=[]),O.concat(R,U,P).sort(function(F,$){return F.index-$.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function B(N,O){switch(O){case t.NUMERIC:return e.getBitsLength(N);case t.ALPHANUMERIC:return r.getBitsLength(N);case t.KANJI:return i.getBitsLength(N);case t.BYTE:return o.getBitsLength(N)}}function S(N){return N.reduce(function(O,R){const U=O.length-1>=0?O[O.length-1]:null;return U&&U.mode===R.mode?(O[O.length-1].data+=R.data,O):(O.push(R),O)},[])}function k(N){const O=[];for(let R=0;R<N.length;R++){const U=N[R];switch(U.mode){case t.NUMERIC:O.push([U,{data:U.data,mode:t.ALPHANUMERIC,length:U.length},{data:U.data,mode:t.BYTE,length:U.length}]);break;case t.ALPHANUMERIC:O.push([U,{data:U.data,mode:t.BYTE,length:U.length}]);break;case t.KANJI:O.push([U,{data:U.data,mode:t.BYTE,length:g(U.data)}]);break;case t.BYTE:O.push([{data:U.data,mode:t.BYTE,length:g(U.data)}])}}return O}function T(N,O){const R={},U={start:{}};let P=["start"];for(let j=0;j<N.length;j++){const F=N[j],$=[];for(let K=0;K<F.length;K++){const nt=F[K],J=""+j+K;$.push(J),R[J]={node:nt,lastCount:0},U[J]={};for(let X=0;X<P.length;X++){const _=P[X];R[_]&&R[_].node.mode===nt.mode?(U[_][J]=B(R[_].lastCount+nt.length,nt.mode)-B(R[_].lastCount,nt.mode),R[_].lastCount+=nt.length):(R[_]&&(R[_].lastCount=nt.length),U[_][J]=B(nt.length,nt.mode)+4+t.getCharCountIndicator(nt.mode,O))}}P=$}for(let j=0;j<P.length;j++)U[P[j]].end=0;return{map:U,table:R}}function I(N,O){let R;const U=t.getBestModeForData(N);if(R=t.from(O,U),R!==t.BYTE&&R.bit<U.bit)throw new Error('"'+N+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(U));switch(R===t.KANJI&&!a.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new e(N);case t.ALPHANUMERIC:return new r(N);case t.KANJI:return new i(N);case t.BYTE:return new o(N)}}n.fromArray=function(O){return O.reduce(function(R,U){return typeof U=="string"?R.push(I(U,null)):U.data&&R.push(I(U.data,U.mode)),R},[])},n.fromString=function(O,R){const U=x(O,a.isKanjiModeEnabled()),P=k(U),j=T(P,R),F=u.find_path(j.map,"start","end"),$=[];for(let K=1;K<F.length-1;K++)$.push(j.table[F[K]].node);return n.fromArray(S($))},n.rawSplit=function(O){return n.fromArray(x(O,a.isKanjiModeEnabled()))}})(U1);const Qu=ur,Dl=Gu,iS=zE,oS=jE,sS=B1,aS=T1,Lf=k1,Rf=Yu,cS=FE,nu=N1,uS=O1,lS=Hi,Ul=U1;function fS(n,t){const e=n.size,r=aS.getPositions(t);for(let o=0;o<r.length;o++){const i=r[o][0],s=r[o][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||e<=i+a))for(let u=-1;u<=7;u++)s+u<=-1||e<=s+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?n.set(i+a,s+u,!0,!0):n.set(i+a,s+u,!1,!0))}}function hS(n){const t=n.size;for(let e=8;e<t-8;e++){const r=e%2===0;n.set(e,6,r,!0),n.set(6,e,r,!0)}}function dS(n,t){const e=sS.getPositions(t);for(let r=0;r<e.length;r++){const o=e[r][0],i=e[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(o+s,i+a,!0,!0):n.set(o+s,i+a,!1,!0)}}function pS(n,t){const e=n.size,r=nu.getEncodedBits(t);let o,i,s;for(let a=0;a<18;a++)o=Math.floor(a/3),i=a%3+e-8-3,s=(r>>a&1)===1,n.set(o,i,s,!0),n.set(i,o,s,!0)}function zl(n,t,e){const r=n.size,o=uS.getEncodedBits(t,e);let i,s;for(i=0;i<15;i++)s=(o>>i&1)===1,i<6?n.set(i,8,s,!0):i<8?n.set(i+1,8,s,!0):n.set(r-15+i,8,s,!0),i<8?n.set(8,r-i-1,s,!0):i<9?n.set(8,15-i-1+1,s,!0):n.set(8,15-i-1,s,!0);n.set(r-8,8,1,!0)}function gS(n,t){const e=n.size;let r=-1,o=e-1,i=7,s=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!n.isReserved(o,a-u)){let g=!1;s<t.length&&(g=(t[s]>>>i&1)===1),n.set(o,a-u,g),i--,i===-1&&(s++,i=7)}if(o+=r,o<0||e<=o){o-=r,r=-r;break}}}function mS(n,t,e){const r=new iS;e.forEach(function(u){r.put(u.mode.bit,4),r.put(u.getLength(),lS.getCharCountIndicator(u.mode,n)),u.write(r)});const o=Qu.getSymbolTotalCodewords(n),i=Rf.getTotalCodewordsCount(n,t),s=(o-i)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let u=0;u<a;u++)r.put(u%2?17:236,8);return wS(r,n,t)}function wS(n,t,e){const r=Qu.getSymbolTotalCodewords(t),o=Rf.getTotalCodewordsCount(t,e),i=r-o,s=Rf.getBlocksCount(t,e),a=r%s,u=s-a,g=Math.floor(r/s),m=Math.floor(i/s),x=m+1,B=g-m,S=new cS(B);let k=0;const T=new Array(s),I=new Array(s);let N=0;const O=new Uint8Array(n.buffer);for(let F=0;F<s;F++){const $=F<u?m:x;T[F]=O.slice(k,k+$),I[F]=S.encode(T[F]),k+=$,N=Math.max(N,$)}const R=new Uint8Array(r);let U=0,P,j;for(P=0;P<N;P++)for(j=0;j<s;j++)P<T[j].length&&(R[U++]=T[j][P]);for(P=0;P<B;P++)for(j=0;j<s;j++)R[U++]=I[j][P];return R}function yS(n,t,e,r){let o;if(Array.isArray(n))o=Ul.fromArray(n);else if(typeof n=="string"){let g=t;if(!g){const m=Ul.rawSplit(n);g=nu.getBestVersionForData(m,e)}o=Ul.fromString(n,g||40)}else throw new Error("Invalid data");const i=nu.getBestVersionForData(o,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const s=mS(t,e,o),a=Qu.getSymbolSize(t),u=new oS(a);return fS(u,t),hS(u),dS(u,t),zl(u,e,0),t>=7&&pS(u,t),gS(u,s),isNaN(r)&&(r=Lf.getBestMask(u,zl.bind(null,u,e))),Lf.applyMask(r,u),zl(u,e,r),{modules:u,version:t,errorCorrectionLevel:e,maskPattern:r,segments:o}}I1.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Dl.M,o,i;return typeof e<"u"&&(r=Dl.from(e.errorCorrectionLevel,Dl.M),o=nu.from(e.version),i=Lf.from(e.maskPattern),e.toSJISFunc&&Qu.setToSJISFunction(e.toSJISFunc)),yS(t,o,r,i)};var j1={},ad={};(function(n){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let r=e.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+e);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:i,scale:i?4:s,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},n.getImageWidth=function(r,o){const i=n.getScale(r,o);return Math.floor((r+o.margin*2)*i)},n.qrToImageData=function(r,o,i){const s=o.modules.size,a=o.modules.data,u=n.getScale(s,i),g=Math.floor((s+i.margin*2)*u),m=i.margin*u,x=[i.color.light,i.color.dark];for(let B=0;B<g;B++)for(let S=0;S<g;S++){let k=(B*g+S)*4,T=i.color.light;if(B>=m&&S>=m&&B<g-m&&S<g-m){const I=Math.floor((B-m)/u),N=Math.floor((S-m)/u);T=x[a[I*s+N]?1:0]}r[k++]=T.r,r[k++]=T.g,r[k++]=T.b,r[k]=T.a}}})(ad);(function(n){const t=ad;function e(o,i,s){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,s,a){let u=a,g=s;typeof u>"u"&&(!s||!s.getContext)&&(u=s,s=void 0),s||(g=r()),u=t.getOptions(u);const m=t.getImageWidth(i.modules.size,u),x=g.getContext("2d"),B=x.createImageData(m,m);return t.qrToImageData(B.data,i,u),e(x,g,m),x.putImageData(B,0,0),g},n.renderToDataURL=function(i,s,a){let u=a;typeof u>"u"&&(!s||!s.getContext)&&(u=s,s=void 0),u||(u={});const g=n.render(i,s,u),m=u.type||"image/png",x=u.rendererOpts||{};return g.toDataURL(m,x.quality)}})(j1);var P1={};const bS=ad;function H0(n,t){const e=n.a/255,r=t+'="'+n.hex+'"';return e<1?r+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':r}function jl(n,t,e){let r=n+t;return typeof e<"u"&&(r+=" "+e),r}function vS(n,t,e){let r="",o=0,i=!1,s=0;for(let a=0;a<n.length;a++){const u=Math.floor(a%t),g=Math.floor(a/t);!u&&!i&&(i=!0),n[a]?(s++,a>0&&u>0&&n[a-1]||(r+=i?jl("M",u+e,.5+g+e):jl("m",o,0),o=0,i=!1),u+1<t&&n[a+1]||(r+=jl("h",s),s=0)):o++}return r}P1.render=function(t,e,r){const o=bS.getOptions(e),i=t.modules.size,s=t.modules.data,a=i+o.margin*2,u=o.color.light.a?"<path "+H0(o.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",g="<path "+H0(o.color.dark,"stroke")+' d="'+vS(s,i,o.margin)+'"/>',m='viewBox="0 0 '+a+" "+a+'"',B='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+m+' shape-rendering="crispEdges">'+u+g+`</svg>
`;return typeof r=="function"&&r(null,B),B};const xS=DE,Nf=I1,F1=j1,MS=P1;function cd(n,t,e,r,o){const i=[].slice.call(arguments,1),s=i.length,a=typeof i[s-1]=="function";if(!a&&!xS())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(o=e,e=t,t=r=void 0):s===3&&(t.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=e,e=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(e=t,t=r=void 0):s===2&&!t.getContext&&(r=e,e=t,t=void 0),new Promise(function(u,g){try{const m=Nf.create(e,r);u(n(m,t,r))}catch(m){g(m)}})}try{const u=Nf.create(e,r);o(null,n(u,t,r))}catch(u){o(u)}}Nf.create;cd.bind(null,F1.render);cd.bind(null,F1.renderToDataURL);cd.bind(null,function(n,t,e){return MS.render(n,e)});const ru="solana:mainnet",ES="solana:devnet",SS="solana:testnet",AS="solana:localnet";function Pl(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const IS="https://api.mainnet-beta.solana.com";function _S(n){return n.includes(IS)?ru:/\bdevnet\b/i.test(n)?ES:/\btestnet\b/i.test(n)?SS:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?AS:ru}function BS(n){let t=`${n.domain} wants you to sign in with your Solana account:
`;t+=`${n.address}`,n.statement&&(t+=`

${n.statement}`);const e=[];if(n.uri&&e.push(`URI: ${n.uri}`),n.version&&e.push(`Version: ${n.version}`),n.chainId&&e.push(`Chain ID: ${n.chainId}`),n.nonce&&e.push(`Nonce: ${n.nonce}`),n.issuedAt&&e.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&e.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&e.push(`Not Before: ${n.notBefore}`),n.requestId&&e.push(`Request ID: ${n.requestId}`),n.resources){e.push("Resources:");for(const r of n.resources)e.push(`- ${r}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const pi={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class gi extends Error{constructor(...t){const[e,r,o]=t;super(r),this.code=e,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class $1 extends Error{constructor(...t){const[e,r,o,i]=t;super(o),this.code=r,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function Xe(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(m){try{g(r.next(m))}catch(x){s(x)}}function u(m){try{g(r.throw(m))}catch(x){s(x)}}function g(m){m.done?i(m.value):o(m.value).then(a,u)}g((r=r.apply(n,[])).next())})}function TS(n){return window.btoa(n)}function Fl(n,t){return Xe(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),o=new Uint8Array(e.byteLength+r.byteLength);return o.set(new Uint8Array(e),0),o.set(new Uint8Array(r),e.byteLength),o})}function kS(n){return BS(n)}function LS(n){return TS(kS(n))}const RS="solana:signTransactions",V0="solana:cloneAuthorization";function NS(n,t){return new Proxy({},{get(e,r){return r==="then"?null:(e[r]==null&&(e[r]=function(o){return Xe(this,void 0,void 0,function*(){const{method:i,params:s}=CS(r,o,n),a=yield t(i,s);return i==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield DS(s.sign_in_payload,a,t)),OS(r,a,n)})}),e[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function CS(n,t,e){let r=t,o=n.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:i}=r;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:s}=r;if(i)switch(e){case"legacy":{o="reauthorize",r={auth_token:i,identity:s};break}default:{o="authorize";break}}break}}return{method:o,params:r}}function OS(n,t,e){switch(n){case"getCapabilities":{const r=t;switch(e){case"legacy":{const o=[RS];return r.supports_clone_authorization===!0&&o.push(V0),Object.assign(Object.assign({},r),{features:o})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(V0)})}}}return t}function DS(n,t,e){var r;return Xe(this,void 0,void 0,function*(){const o=(r=n.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,s=LS(Object.assign(Object.assign({},n),{domain:o,address:i})),a=yield e("sign_messages",{addresses:[i],payloads:[s]});return{address:i,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const So=4;function US(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(So);return new DataView(t).setUint32(0,n,!1),new Uint8Array(t)}const Cf=12,W1=65;function zS(n,t,e){return Xe(this,void 0,void 0,function*(){const r=US(t),o=new Uint8Array(Cf);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(q1(r,o),e,new TextEncoder().encode(n)),s=new Uint8Array(r.byteLength+o.byteLength+i.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(o),r.byteLength),s.set(new Uint8Array(i),r.byteLength+o.byteLength),s})}function K1(n,t){return Xe(this,void 0,void 0,function*(){const e=n.slice(0,So),r=n.slice(So,So+Cf),o=n.slice(So+Cf),i=yield crypto.subtle.decrypt(q1(e,r),t,o);return jS().decode(i)})}function q1(n,t){return{additionalData:n,iv:t,name:"AES-GCM",tagLength:128}}let $l;function jS(){return $l===void 0&&($l=new TextDecoder("utf-8")),$l}function PS(){return Xe(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Wl(){return Xe(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function FS(n){let t="";const e=new Uint8Array(n),r=e.byteLength;for(let o=0;o<r;o++)t+=String.fromCharCode(e[o]);return window.btoa(t)}function $S(){return H1(49152+Math.floor(Math.random()*16384))}function H1(n){if(n<49152||n>65535)throw new gi(pi.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function WS(n){return n.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const KS="solana-wallet";function G0(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function qS(n,t){let e=null;if(t){try{e=new URL(t)}catch{}if((e==null?void 0:e.protocol)!=="https:")throw new gi(pi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${KS}:/`));const r=n.startsWith("/")?n:[...G0(e.pathname),...G0(n)].join("/");return new URL(r,e)}function HS(n,t,e,r=["v1"]){return Xe(this,void 0,void 0,function*(){const o=H1(t),i=yield crypto.subtle.exportKey("raw",n),s=FS(i),a=qS("v1/associate/local",e);return a.searchParams.set("association",WS(s)),a.searchParams.set("port",`${o}`),r.forEach(u=>{a.searchParams.set("v",u)}),a})}function VS(n,t){return Xe(this,void 0,void 0,function*(){const e=JSON.stringify(n),r=n.id;return zS(e,r,t)})}function GS(n,t){return Xe(this,void 0,void 0,function*(){const e=yield K1(n,t),r=JSON.parse(e);if(Object.hasOwnProperty.call(r,"error"))throw new $1(r.id,r.error.code,r.error.message);return r})}function YS(n,t,e){return Xe(this,void 0,void 0,function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",n.slice(0,W1),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},e,256),s=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function ZS(n,t){return Xe(this,void 0,void 0,function*(){const e=yield K1(n,t),r=JSON.parse(e);let o="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":o="v1";break;case"legacy":o="legacy";break;default:throw new gi(pi.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:o}})}const iu={Firefox:0,Other:1};function QS(){return navigator.userAgent.indexOf("Firefox/")!==-1?iu.Firefox:iu.Other}function JS(){return new Promise((n,t)=>{function e(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){e(),n()}window.addEventListener("blur",r);const o=setTimeout(()=>{e(),t()},3e3)})}let ma=null;function XS(n){ma==null&&(ma=document.createElement("iframe"),ma.style.display="none",document.body.appendChild(ma)),ma.contentWindow.location.href=n.toString()}function tA(n){return Xe(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const t=QS();switch(t){case iu.Firefox:XS(n);break;case iu.Other:{const e=JS();window.location.assign(n),yield e;break}default:}}catch{throw new gi(pi.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function eA(n,t){return Xe(this,void 0,void 0,function*(){const e=$S(),r=yield HS(n,e,t);return yield tA(r),e})}const Y0={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},nA="com.solana.mobilewalletadapter.v1";function rA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new gi(pi.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function iA(n){let t;try{t=new URL(n)}catch{throw new gi(pi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new gi(pi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Z0(n){return new DataView(n).getUint32(0,!1)}function oA(n,t){return Xe(this,void 0,void 0,function*(){rA();const e=yield PS(),o=`ws://localhost:${yield eA(e.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const s=(()=>{const m=[...Y0.retryDelayScheduleMs];return()=>m.length>1?m.shift():m[0]})();let a=1,u=0,g={__type:"disconnected"};return new Promise((m,x)=>{let B;const S={},k=()=>Xe(this,void 0,void 0,function*(){if(g.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${g.__type}\`.`);return}B.removeEventListener("open",k);const{associationKeypair:P}=g,j=yield Wl();B.send(yield Fl(j.publicKey,P.privateKey)),g={__type:"hello_req_sent",associationPublicKey:P.publicKey,ecdhPrivateKey:j.privateKey}}),T=P=>{P.wasClean?g={__type:"disconnected"}:x(new gi(pi.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${P.code}: ${P.reason}).`,{closeEvent:P})),O()},I=P=>Xe(this,void 0,void 0,function*(){O(),Date.now()-i>=Y0.timeoutMs?x(new gi(pi.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${o}.`)):(yield new Promise(j=>{const F=s();R=window.setTimeout(j,F)}),U())}),N=P=>Xe(this,void 0,void 0,function*(){const j=yield P.data.arrayBuffer();switch(g.__type){case"connecting":if(j.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const F=yield Wl();B.send(yield Fl(F.publicKey,e.privateKey)),g={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:F.privateKey};break;case"connected":try{const $=j.slice(0,So),K=Z0($);if(K!==u+1)throw new Error("Encrypted message has invalid sequence number");u=K;const nt=yield GS(j,g.sharedSecret),J=S[nt.id];delete S[nt.id],J.resolve(nt.result)}catch($){if($ instanceof $1){const K=S[$.jsonRpcMessageId];delete S[$.jsonRpcMessageId],K.reject($)}else throw $}break;case"hello_req_sent":{if(j.byteLength===0){const X=yield Wl();B.send(yield Fl(X.publicKey,e.privateKey)),g={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:X.privateKey};break}const $=yield YS(j,g.associationPublicKey,g.ecdhPrivateKey),K=j.slice(W1),nt=K.byteLength!==0?yield Xe(this,void 0,void 0,function*(){const X=K.slice(0,So),_=Z0(X);if(_!==u+1)throw new Error("Encrypted message has invalid sequence number");return u=_,ZS(K,$)}):{protocol_version:"legacy"};g={__type:"connected",sharedSecret:$,sessionProperties:nt};const J=NS(nt.protocol_version,(X,_)=>Xe(this,void 0,void 0,function*(){const c=a++;return B.send(yield VS({id:c,jsonrpc:"2.0",method:X,params:_??{}},$)),new Promise((d,p)=>{S[c]={resolve(w){switch(X){case"authorize":case"reauthorize":{const{wallet_uri_base:b}=w;if(b!=null)try{iA(b)}catch(M){p(M);return}break}}d(w)},reject:p}})}));try{m(yield n(J))}catch(X){x(X)}finally{O(),B.close()}break}}});let O,R;const U=()=>{O&&O(),g={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),B=new WebSocket(o,[nA]),B.addEventListener("open",k),B.addEventListener("close",T),B.addEventListener("error",I),B.addEventListener("message",N),O=()=>{window.clearTimeout(R),B.removeEventListener("open",k),B.removeEventListener("close",T),B.removeEventListener("error",I),B.removeEventListener("message",N)}};U()})})}function sA(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=n.length,a=n.charAt(0),u=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function m(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var k=0,T=0,I=0,N=S.length;I!==N&&S[I]===0;)I++,k++;for(var O=(N-I)*g+1>>>0,R=new Uint8Array(O);I!==N;){for(var U=S[I],P=0,j=O-1;(U!==0||P<T)&&j!==-1;j--,P++)U+=256*R[j]>>>0,R[j]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");T=P,I++}for(var F=O-T;F!==O&&R[F]===0;)F++;for(var $=a.repeat(k);F<O;++F)$+=n.charAt(R[F]);return $}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;for(var k=0,T=0,I=0;S[k]===a;)T++,k++;for(var N=(S.length-k)*u+1>>>0,O=new Uint8Array(N);S[k];){var R=S.charCodeAt(k);if(R>255)return;var U=t[R];if(U===255)return;for(var P=0,j=N-1;(U!==0||P<I)&&j!==-1;j--,P++)U+=s*O[j]>>>0,O[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=P,k++}for(var F=N-I;F!==N&&O[F]===0;)F++;for(var $=new Uint8Array(T+(N-F)),K=T;F!==N;)$[K++]=O[F++];return $}function B(S){var k=x(S);if(k)return k;throw new Error("Non-base"+s+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var aA=sA;const cA=aA,uA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var lA=cA(uA);const fA=yi(lA);function Kl(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function Ic(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(m){try{g(r.next(m))}catch(x){s(x)}}function u(m){try{g(r.throw(m))}catch(x){s(x)}}function g(m){m.done?i(m.value):o(m.value).then(a,u)}g((r=r.apply(n,[])).next())})}function V1(n){return window.btoa(String.fromCharCode.call(null,...n))}function ql(n){return new Uint8Array(window.atob(n).split("").map(t=>t.charCodeAt(0)))}function Q0(n){const t="version"in n?n.serialize():n.serialize({requireAllSignatures:!1,verifySignatures:!1});return V1(t)}function hA(n){const e=n[0]*Na+1;return qu.deserializeMessageVersion(n.slice(e,n.length))==="legacy"?ai.from(n):Ds.deserialize(n)}function dA(n,t){return Ic(this,void 0,void 0,function*(){return yield oA(r=>n(pA(r)),t)})}function pA(n){return new Proxy({},{get(t,e){if(t[e]==null)switch(e){case"signAndSendTransactions":t[e]=function(r){var{minContextSlot:o,commitment:i,skipPreflight:s,maxRetries:a,waitForCommitmentToSendNextTransaction:u,transactions:g}=r,m=Kl(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Ic(this,void 0,void 0,function*(){const x=g.map(Q0),B={min_context_slot:o,commitment:i,skip_preflight:s,max_retries:a,wait_for_commitment_to_send_next_transaction:u},{signatures:S}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},m),Object.values(B).some(T=>T!=null)?{options:B}:null),{payloads:x}));return S.map(ql).map(fA.encode)})};break;case"signMessages":t[e]=function(r){var{payloads:o}=r,i=Kl(r,["payloads"]);return Ic(this,void 0,void 0,function*(){const s=o.map(V1),{signed_payloads:a}=yield n.signMessages(Object.assign(Object.assign({},i),{payloads:s}));return a.map(ql)})};break;case"signTransactions":t[e]=function(r){var{transactions:o}=r,i=Kl(r,["transactions"]);return Ic(this,void 0,void 0,function*(){const s=o.map(Q0),{signed_payloads:a}=yield n.signTransactions(Object.assign(Object.assign({},i),{payloads:s}));return a.map(ql).map(hA)})};break;default:{t[e]=n[e];break}}return t[e]},defineProperty(){return!1},deleteProperty(){return!1}})}function gA(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=n.length,a=n.charAt(0),u=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function m(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var k=0,T=0,I=0,N=S.length;I!==N&&S[I]===0;)I++,k++;for(var O=(N-I)*g+1>>>0,R=new Uint8Array(O);I!==N;){for(var U=S[I],P=0,j=O-1;(U!==0||P<T)&&j!==-1;j--,P++)U+=256*R[j]>>>0,R[j]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");T=P,I++}for(var F=O-T;F!==O&&R[F]===0;)F++;for(var $=a.repeat(k);F<O;++F)$+=n.charAt(R[F]);return $}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;for(var k=0,T=0,I=0;S[k]===a;)T++,k++;for(var N=(S.length-k)*u+1>>>0,O=new Uint8Array(N);S[k];){var R=S.charCodeAt(k);if(R>255)return;var U=t[R];if(U===255)return;for(var P=0,j=N-1;(U!==0||P<I)&&j!==-1;j--,P++)U+=s*O[j]>>>0,O[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=P,k++}for(var F=N-I;F!==N&&O[F]===0;)F++;for(var $=new Uint8Array(T+(N-F)),K=T;F!==N;)$[K++]=O[F++];return $}function B(S){var k=x(S);if(k)return k;throw new Error("Non-base"+s+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var mA=gA;const wA=mA,yA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bA=wA(yA);const J0=yi(bA);function ke(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(m){try{g(r.next(m))}catch(x){s(x)}}function u(m){try{g(r.throw(m))}catch(x){s(x)}}function g(m){m.done?i(m.value):o(m.value).then(a,u)}g((r=r.apply(n,[])).next())})}function st(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function Ye(n,t,e,r,o){if(typeof t=="function"?n!==t||!0:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(n,e),e}var ba,tn,ho,cs,G1,Y1,Z1,_c;const vA=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,xA=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,MA=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class EA{constructor(){ba.add(this),tn.set(this,null),ho.set(this,{}),cs.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),st(this,ba,"m",Y1).call(this),st(this,tn,"f")&&(st(this,tn,"f").style.display="flex")},this.close=(t=void 0)=>{var e;console.debug("Modal close"),st(this,ba,"m",Z1).call(this),st(this,tn,"f")&&(st(this,tn,"f").style.display="none"),(e=st(this,ho,"f").close)===null||e===void 0||e.forEach(r=>r(t))},_c.set(this,t=>{t.key==="Escape"&&this.close(t)}),this.init=this.init.bind(this),Ye(this,tn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return ke(this,void 0,void 0,function*(){console.log("Injecting modal"),st(this,ba,"m",G1).call(this)})}addEventListener(t,e){var r;return!((r=st(this,ho,"f")[t])===null||r===void 0)&&r.push(e)||(st(this,ho,"f")[t]=[e]),()=>this.removeEventListener(t,e)}removeEventListener(t,e){var r;st(this,ho,"f")[t]=(r=st(this,ho,"f")[t])===null||r===void 0?void 0:r.filter(o=>e!==o)}}tn=new WeakMap,ho=new WeakMap,cs=new WeakMap,_c=new WeakMap,ba=new WeakSet,G1=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){st(this,tn,"f")||Ye(this,tn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Ye(this,tn,document.createElement("div")),st(this,tn,"f").id="mobile-wallet-adapter-embedded-root-ui",st(this,tn,"f").innerHTML=vA,st(this,tn,"f").style.display="none";const t=st(this,tn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");t&&(t.innerHTML=this.contentHtml);const e=document.createElement("style");e.id="mobile-wallet-adapter-embedded-modal-styles",e.textContent=xA+this.contentStyles;const r=document.createElement("div");r.innerHTML=MA,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(e),this.dom.appendChild(st(this,tn,"f")),document.body.appendChild(r)},Y1=function(){if(!st(this,tn,"f")||st(this,cs,"f"))return;[...st(this,tn,"f").querySelectorAll("[data-modal-close]")].forEach(e=>e==null?void 0:e.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",st(this,_c,"f")),Ye(this,cs,!0)},Z1=function(){if(!st(this,cs,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",st(this,_c,"f")),!st(this,tn,"f")))return;[...st(this,tn,"f").querySelectorAll("[data-modal-close]")].forEach(e=>e==null?void 0:e.removeEventListener("click",this.close)),Ye(this,cs,!1)};const SA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function AA(n){return"version"in n}function IA(n){return window.btoa(String.fromCharCode.call(null,...n))}function wc(n){return new Uint8Array(window.atob(n).split("").map(t=>t.charCodeAt(0)))}var us,Ao,Of,Df,Uf,zf,va,Rn,Xr,Ti,ls,fs,Bc,xa,Tc,jf,kc,Q1,Pf,Lc,hs,Ff,Ma,Rc,ds,Ea,Nc,$f,Wf,Cc,Kf,qf,Hf,Oc;const _A="Mobile Wallet Adapter",BA=64,TA=[qn,We,Li,No];class kA{constructor(t){us.add(this),Ao.set(this,{}),Of.set(this,"1.0.0"),Df.set(this,_A),Uf.set(this,"https://solanamobile.com/wallets"),zf.set(this,SA),va.set(this,void 0),Rn.set(this,void 0),Xr.set(this,void 0),Ti.set(this,!1),ls.set(this,0),fs.set(this,[]),Bc.set(this,void 0),xa.set(this,void 0),Tc.set(this,void 0),jf.set(this,(e,r)=>{var o;return!((o=st(this,Ao,"f")[e])===null||o===void 0)&&o.push(r)||(st(this,Ao,"f")[e]=[r]),()=>st(this,us,"m",Q1).call(this,e,r)}),Pf.set(this,({silent:e}={})=>ke(this,void 0,void 0,function*(){if(st(this,Ti,"f")||this.connected)return{accounts:this.accounts};Ye(this,Ti,!0);try{if(e){const r=yield st(this,Xr,"f").get();if(r)yield st(this,hs,"f").call(this,r);else return{accounts:this.accounts}}else yield st(this,Lc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Ye(this,Ti,!1)}return{accounts:this.accounts}})),Lc.set(this,e=>ke(this,void 0,void 0,function*(){try{const r=yield st(this,Xr,"f").get();if(r)return st(this,hs,"f").call(this,r),r;const o=yield st(this,Bc,"f").select(st(this,fs,"f"));return yield st(this,ds,"f").call(this,i=>ke(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:o,identity:st(this,va,"f"),sign_in_payload:e})]),u=st(this,Nc,"f").call(this,a.accounts),g=Object.assign(Object.assign({},a),{accounts:u,chain:o});return Promise.all([st(this,Ff,"f").call(this,s),st(this,Xr,"f").set(g),st(this,hs,"f").call(this,g)]),g}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),hs.set(this,e=>ke(this,void 0,void 0,function*(){var r;const o=st(this,Rn,"f")==null||((r=st(this,Rn,"f"))===null||r===void 0?void 0:r.accounts.length)!==e.accounts.length||st(this,Rn,"f").accounts.some((i,s)=>i.address!==e.accounts[s].address);Ye(this,Rn,e),o&&st(this,us,"m",kc).call(this,"change",{accounts:this.accounts})})),Ff.set(this,e=>ke(this,void 0,void 0,function*(){const r=e.features.includes("solana:signTransactions"),o=e.supports_sign_and_send_transactions,i=qn in this.features!==o||We in this.features!==r;Ye(this,xa,Object.assign(Object.assign({},(o||!o&&!r)&&{[qn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:st(this,Cc,"f")}}),r&&{[We]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:st(this,Kf,"f")}})),i&&st(this,us,"m",kc).call(this,"change",{features:this.features})})),Ma.set(this,(e,r,o)=>ke(this,void 0,void 0,function*(){try{const i=yield e.authorize({auth_token:r,identity:st(this,va,"f"),chain:o}),s=st(this,Nc,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:s,chain:o});Promise.all([st(this,Xr,"f").set(a),st(this,hs,"f").call(this,a)])}catch(i){throw st(this,Rc,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),Rc.set(this,()=>ke(this,void 0,void 0,function*(){var e;st(this,Xr,"f").clear(),Ye(this,Ti,!1),Ye(this,ls,(e=st(this,ls,"f"),e++,e)),Ye(this,Rn,void 0),st(this,us,"m",kc).call(this,"change",{accounts:this.accounts})})),ds.set(this,e=>ke(this,void 0,void 0,function*(){var r;const o=(r=st(this,Rn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=o?{baseUri:o}:void 0,s=st(this,ls,"f");try{return yield dA(e,i)}catch(a){throw st(this,ls,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield st(this,Tc,"f").call(this,this)),a}})),Ea.set(this,()=>{if(!st(this,Rn,"f"))throw new Error("Wallet not connected");return{authToken:st(this,Rn,"f").auth_token,chain:st(this,Rn,"f").chain}}),Nc.set(this,e=>e.map(r=>{var o,i;const s=wc(r.address);return{address:J0.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(o=r.chains)!==null&&o!==void 0?o:st(this,fs,"f"),features:(i=r.features)!==null&&i!==void 0?i:TA}})),$f.set(this,e=>ke(this,void 0,void 0,function*(){const{authToken:r,chain:o}=st(this,Ea,"f").call(this);try{return yield st(this,ds,"f").call(this,i=>ke(this,void 0,void 0,function*(){return yield st(this,Ma,"f").call(this,i,r,o),yield i.signTransactions({transactions:e})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Wf.set(this,(e,r)=>ke(this,void 0,void 0,function*(){const{authToken:o,chain:i}=st(this,Ea,"f").call(this);try{return yield st(this,ds,"f").call(this,s=>ke(this,void 0,void 0,function*(){const[a,u]=yield Promise.all([s.getCapabilities(),st(this,Ma,"f").call(this,s,o,i)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[e]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Cc.set(this,(...e)=>ke(this,void 0,void 0,function*(){const r=[];for(const o of e){const i=Ds.deserialize(o.transaction),s=yield st(this,Wf,"f").call(this,i,o.options);r.push({signature:J0.decode(s)})}return r})),Kf.set(this,(...e)=>ke(this,void 0,void 0,function*(){const r=e.map(({transaction:i})=>Ds.deserialize(i));return(yield st(this,$f,"f").call(this,r)).map(i=>({signedTransaction:AA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),qf.set(this,(...e)=>ke(this,void 0,void 0,function*(){const{authToken:r,chain:o}=st(this,Ea,"f").call(this),i=e.map(({account:a})=>IA(a.publicKey)),s=e.map(({message:a})=>a);try{return yield st(this,ds,"f").call(this,a=>ke(this,void 0,void 0,function*(){return yield st(this,Ma,"f").call(this,a,r,o),(yield a.signMessages({addresses:i,payloads:s})).map(g=>({signedMessage:g,signature:g.slice(-BA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Hf.set(this,(...e)=>ke(this,void 0,void 0,function*(){const r=[];if(e.length>1)for(const o of e)r.push(yield st(this,Oc,"f").call(this,o));else return[yield st(this,Oc,"f").call(this,e[0])];return r})),Oc.set(this,e=>ke(this,void 0,void 0,function*(){var r,o;Ye(this,Ti,!0);try{const i=yield st(this,Lc,"f").call(this,Object.assign(Object.assign({},e),{domain:(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(o=i.accounts.find(u=>u.address==s))!==null&&o!==void 0?o:{address:s}),{publicKey:wc(s)}),signedMessage:wc(i.sign_in_result.signed_message),signature:wc(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{Ye(this,Ti,!1)}})),Ye(this,Xr,t.authorizationCache),Ye(this,va,t.appIdentity),Ye(this,fs,t.chains),Ye(this,Bc,t.chainSelector),Ye(this,Tc,t.onWalletNotFound),Ye(this,xa,{[qn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:st(this,Cc,"f")}})}get version(){return st(this,Of,"f")}get name(){return st(this,Df,"f")}get url(){return st(this,Uf,"f")}get icon(){return st(this,zf,"f")}get chains(){return st(this,fs,"f")}get features(){return Object.assign({[nd]:{version:"1.0.0",connect:st(this,Pf,"f")},[Tf]:{version:"1.0.0",disconnect:st(this,Rc,"f")},[rd]:{version:"1.0.0",on:st(this,jf,"f")},[Li]:{version:"1.0.0",signMessage:st(this,qf,"f")},[No]:{version:"1.0.0",signIn:st(this,Hf,"f")}},st(this,xa,"f"))}get accounts(){var t,e;return(e=(t=st(this,Rn,"f"))===null||t===void 0?void 0:t.accounts)!==null&&e!==void 0?e:[]}get connected(){return!!st(this,Rn,"f")}get isAuthorized(){return!!st(this,Rn,"f")}get currentAuthorization(){return st(this,Rn,"f")}get cachedAuthorizationResult(){return st(this,Xr,"f").get()}}Ao=new WeakMap,Of=new WeakMap,Df=new WeakMap,Uf=new WeakMap,zf=new WeakMap,va=new WeakMap,Rn=new WeakMap,Xr=new WeakMap,Ti=new WeakMap,ls=new WeakMap,fs=new WeakMap,Bc=new WeakMap,xa=new WeakMap,Tc=new WeakMap,jf=new WeakMap,Pf=new WeakMap,Lc=new WeakMap,hs=new WeakMap,Ff=new WeakMap,Ma=new WeakMap,Rc=new WeakMap,ds=new WeakMap,Ea=new WeakMap,Nc=new WeakMap,$f=new WeakMap,Wf=new WeakMap,Cc=new WeakMap,Kf=new WeakMap,qf=new WeakMap,Hf=new WeakMap,Oc=new WeakMap,us=new WeakSet,kc=function(t,...e){var r;(r=st(this,Ao,"f")[t])===null||r===void 0||r.forEach(o=>o.apply(null,e))},Q1=function(t,e){var r;st(this,Ao,"f")[t]=(r=st(this,Ao,"f")[t])===null||r===void 0?void 0:r.filter(o=>e!==o)};const LA="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",RA="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class NA extends EA{constructor(){super(...arguments),this.contentStyles=OA,this.contentHtml=CA}initWithError(t){super.init(),this.populateError(t)}populateError(t){var e,r;const o=(e=this.dom)===null||e===void 0?void 0:e.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(o){if(t.name==="SolanaMobileWalletAdapterError")switch(t.code){case"ERROR_WALLET_NOT_FOUND":o.innerHTML=LA,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":o.innerHTML=RA,i&&(i.style.display="none");return}o.innerHTML=`An unexpected error occurred: ${t.message}`}else console.log("Failed to locate error dialog element")}}const CA=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,OA=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function DA(){return ke(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),t=new NA;n.includes("wv")?t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),t.open()}})}const Hl="SolanaMobileWalletAdapterDefaultAuthorizationCache";function UA(){let n;try{n=window.localStorage}catch{}return{clear(){return ke(this,void 0,void 0,function*(){if(n)try{n.removeItem(Hl)}catch{}})},get(){return ke(this,void 0,void 0,function*(){if(n)try{const t=JSON.parse(n.getItem(Hl));if(t&&t.accounts){const e=t.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new Kt(r.address).toBytes()}));return Object.assign(Object.assign({},t),{accounts:e})}else return t||void 0}catch{}})},set(t){return ke(this,void 0,void 0,function*(){if(n)try{n.setItem(Hl,JSON.stringify(t))}catch{}})}}}function zA(){return{select(n){return ke(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(ru)?ru:n[0]})}}}function Ae(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(m){try{g(r.next(m))}catch(x){s(x)}}function u(m){try{g(r.throw(m))}catch(x){s(x)}}function g(m){m.done?i(m.value):o(m.value).then(a,u)}g((r=r.apply(n,[])).next())})}function Ct(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function Yn(n,t,e,r,o){if(typeof t=="function"?n!==t||!0:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(n,e),e}const Vf="standard:connect",jA="standard:disconnect",PA="standard:events";function Vl(n){return window.btoa(String.fromCharCode.call(null,...n))}function FA(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var rn,Ce,Ri,ci,Dc,ei,po,Gf,Yf,J1,ou,Uc,ki;const zc="Mobile Wallet Adapter",$A=64;function WA(n){return"version"in n}function X1(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class KA extends NE{constructor(t,e){super(),rn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Ce.set(this,void 0),Ri.set(this,!1),ci.set(this,FA()?Ge.Loadable:Ge.Unsupported),Dc.set(this,void 0),ei.set(this,void 0),po.set(this,void 0),Gf.set(this,r=>Ae(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Ct(this,rn,"m",J1).call(this);const o=yield Ct(this,Dc,"f").call(this,r.accounts);o!==Ct(this,ei,"f")&&(Yn(this,ei,o),Yn(this,po,void 0),this.emit("connect",this.publicKey))}})),Yn(this,Dc,r=>Ae(this,void 0,void 0,function*(){var o;const i=yield e.addressSelector.select(r.map(({publicKey:s})=>Vl(s)));return(o=r.find(({publicKey:s})=>Vl(s)===i))!==null&&o!==void 0?o:r[0]})),Yn(this,Ce,t),Ct(this,Ce,"f").features[PA].on("change",Ct(this,Gf,"f")),this.name=Ct(this,Ce,"f").name,this.icon=Ct(this,Ce,"f").icon,this.url=Ct(this,Ce,"f").url}get publicKey(){var t;if(!Ct(this,po,"f")&&Ct(this,ei,"f"))try{Yn(this,po,new Kt(Ct(this,ei,"f").publicKey),"f")}catch(e){throw new E1(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return(t=Ct(this,po,"f"))!==null&&t!==void 0?t:null}get connected(){return Ct(this,Ce,"f").connected}get connecting(){return Ct(this,Ri,"f")}get readyState(){return Ct(this,ci,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ae(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Ae(this,void 0,void 0,function*(){Ct(this,rn,"m",Yf).call(this,!0)})}connect(){return Ae(this,void 0,void 0,function*(){Ct(this,rn,"m",Yf).call(this)})}performAuthorization(t){return Ae(this,void 0,void 0,function*(){try{const e=yield Ct(this,Ce,"f").cachedAuthorizationResult;return e?(yield Ct(this,Ce,"f").features[Vf].connect({silent:!0}),e):(t?yield Ct(this,Ce,"f").features[No].signIn(t):yield Ct(this,Ce,"f").features[Vf].connect(),yield yield Ct(this,Ce,"f").cachedAuthorizationResult)}catch(e){throw new tu(e instanceof Error&&e.message||"Unknown error",e)}})}disconnect(){return Ae(this,void 0,void 0,function*(){return yield Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){Yn(this,Ri,!1),Yn(this,po,void 0),Yn(this,ei,void 0),yield Ct(this,Ce,"f").features[jA].disconnect(),this.emit("disconnect")}))})}signIn(t){return Ae(this,void 0,void 0,function*(){return Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){var e;if(Ct(this,ci,"f")!==Ge.Installed&&Ct(this,ci,"f")!==Ge.Loadable)throw new Oa;Yn(this,Ri,!0);try{const r=yield Ct(this,Ce,"f").features[No].signIn(Object.assign(Object.assign({},t),{domain:(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new tu(r instanceof Error&&r.message||"Unknown error",r)}finally{Yn(this,Ri,!1)}}))})}signMessage(t){return Ae(this,void 0,void 0,function*(){return yield Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){const e=Ct(this,rn,"m",ou).call(this);try{return(yield Ct(this,Ce,"f").features[Li].signMessage({account:e,message:t}))[0].signature}catch(r){throw new S1(r==null?void 0:r.message,r)}}))})}sendTransaction(t,e,r){return Ae(this,void 0,void 0,function*(){return yield Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){const o=Ct(this,rn,"m",ou).call(this);try{let i=function(){let s;switch(e.commitment){case"confirmed":case"finalized":case"processed":s=e.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(qn in Ct(this,Ce,"f").features){const s=X1(Ct(this,Ce,"f").currentAuthorization.chain),[a]=(yield Ct(this,Ce,"f").features[qn].signAndSendTransaction({account:o,transaction:t.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(u=>Vl(u.signature));return a}else{const[s]=yield Ct(this,rn,"m",Uc).call(this,[t]);if(WA(s))return yield e.sendTransaction(s);{const a=s.serialize();return yield e.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new xo(i==null?void 0:i.message,i)}}))})}signTransaction(t){return Ae(this,void 0,void 0,function*(){return yield Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){const[e]=yield Ct(this,rn,"m",Uc).call(this,[t]);return e}))})}signAllTransactions(t){return Ae(this,void 0,void 0,function*(){return yield Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){return yield Ct(this,rn,"m",Uc).call(this,t)}))})}}Ce=new WeakMap,Ri=new WeakMap,ci=new WeakMap,Dc=new WeakMap,ei=new WeakMap,po=new WeakMap,Gf=new WeakMap,rn=new WeakSet,Yf=function(t=!1){return Ae(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ct(this,rn,"m",ki).call(this,()=>Ae(this,void 0,void 0,function*(){if(Ct(this,ci,"f")!==Ge.Installed&&Ct(this,ci,"f")!==Ge.Loadable)throw new Oa;Yn(this,Ri,!0);try{yield Ct(this,Ce,"f").features[Vf].connect({silent:t})}catch(e){throw new tu(e instanceof Error&&e.message||"Unknown error",e)}finally{Yn(this,Ri,!1)}}))})},J1=function(){Ct(this,ci,"f")!==Ge.Installed&&this.emit("readyStateChange",Yn(this,ci,Ge.Installed))},ou=function(){if(!Ct(this,Ce,"f").isAuthorized||!Ct(this,ei,"f"))throw new Or;return Ct(this,ei,"f")},Uc=function(t){return Ae(this,void 0,void 0,function*(){const e=Ct(this,rn,"m",ou).call(this);try{if(We in Ct(this,Ce,"f").features)return Ct(this,Ce,"f").features[We].signTransaction(...t.map(r=>({account:e,transaction:r.serialize()}))).then(r=>r.map(o=>{const i=o.signedTransaction,a=i[0]*$A+1;return qu.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?ai.from(i):Ds.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new Mo(r==null?void 0:r.message,r)}})},ki=function(t){return Ae(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})};class qA extends KA{constructor(t){var e;const r=X1((e=t.chain)!==null&&e!==void 0?e:t.cluster);super(new kA({appIdentity:t.appIdentity,authorizationCache:{set:t.authorizationResultCache.set,get:()=>Ae(this,void 0,void 0,function*(){const o=yield t.authorizationResultCache.get();return o&&"chain"in o?o:o?Object.assign(Object.assign({},o),{chain:r}):void 0}),clear:t.authorizationResultCache.clear},chains:[r],chainSelector:zA(),onWalletNotFound:()=>Ae(this,void 0,void 0,function*(){t.onWalletNotFound(this)})}),{addressSelector:t.addressSelector,chain:r})}}class HA extends qA{}function VA(){return{select(n){return Ae(this,void 0,void 0,function*(){return n[0]})}}}function GA(){return UA()}function YA(n){return Ae(this,void 0,void 0,function*(){return DA()})}function ZA(){return YA}function QA(n,t){if(n===t)return!0;const e=n.length;if(e!==t.length)return!1;for(let r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}function JA(n){if(n.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let g=0;g<t.length;g++)t[g]=255;for(let g=0;g<n.length;g++){const m=n.charAt(g),x=m.charCodeAt(0);if(t[x]!==255)throw new TypeError(m+" is ambiguous");t[x]=g}const e=n.length,r=n.charAt(0),o=Math.log(e)/Math.log(256),i=Math.log(256)/Math.log(e);function s(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";let m=0,x=0,B=0;const S=g.length;for(;B!==S&&g[B]===0;)B++,m++;const k=(S-B)*i+1>>>0,T=new Uint8Array(k);for(;B!==S;){let O=g[B],R=0;for(let U=k-1;(O!==0||R<x)&&U!==-1;U--,R++)O+=256*T[U]>>>0,T[U]=O%e>>>0,O=O/e>>>0;if(O!==0)throw new Error("Non-zero carry");x=R,B++}let I=k-x;for(;I!==k&&T[I]===0;)I++;let N=r.repeat(m);for(;I<k;++I)N+=n.charAt(T[I]);return N}function a(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;let m=0,x=0,B=0;for(;g[m]===r;)x++,m++;const S=(g.length-m)*o+1>>>0,k=new Uint8Array(S);for(;m<g.length;){const O=g.charCodeAt(m);if(O>255)return;let R=t[O];if(R===255)return;let U=0;for(let P=S-1;(R!==0||U<B)&&P!==-1;P--,U++)R+=e*k[P]>>>0,k[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");B=U,m++}let T=S-B;for(;T!==S&&k[T]===0;)T++;const I=new Uint8Array(x+(S-T));let N=x;for(;T!==S;)I[N++]=k[T++];return I}function u(g){const m=a(g);if(m)return m;throw new Error("Non-base"+e+" character")}return{encode:s,decodeUnsafe:a,decode:u}}var XA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const tI=JA(XA);var St=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},Ze=function(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e},pn,Wn,Io,_o,go,Sa,su,pe,au,Zf,jc,Qf,_a,Jf,X0,tp,ep,np;class eI extends A1{get name(){return St(this,pe,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return St(this,pe,"f").icon}get readyState(){return St(this,au,"f")}get publicKey(){return St(this,Io,"f")}get connecting(){return St(this,_o,"f")}get supportedTransactionVersions(){return St(this,su,"f")}get wallet(){return St(this,pe,"f")}get standard(){return!0}constructor({wallet:t}){super(),pn.add(this),Wn.set(this,void 0),Io.set(this,void 0),_o.set(this,void 0),go.set(this,void 0),Sa.set(this,void 0),su.set(this,void 0),pe.set(this,void 0),au.set(this,typeof window>"u"||typeof document>"u"?Ge.Unsupported:Ge.Installed),Jf.set(this,e=>{if("accounts"in e){const r=St(this,pe,"f").accounts[0];St(this,Wn,"f")&&!St(this,go,"f")&&r!==St(this,Wn,"f")&&(r?St(this,pn,"m",jc).call(this,r):(this.emit("error",new TE),St(this,pn,"m",Qf).call(this)))}"features"in e&&St(this,pn,"m",_a).call(this)}),Ze(this,pe,t,"f"),Ze(this,Wn,null,"f"),Ze(this,Io,null,"f"),Ze(this,_o,!1,"f"),Ze(this,go,!1,"f"),Ze(this,Sa,St(this,pe,"f").features[rd].on("change",St(this,Jf,"f")),"f"),St(this,pn,"m",_a).call(this)}destroy(){Ze(this,Wn,null,"f"),Ze(this,Io,null,"f"),Ze(this,_o,!1,"f"),Ze(this,go,!1,"f");const t=St(this,Sa,"f");t&&(Ze(this,Sa,null,"f"),t())}async autoConnect(){return St(this,pn,"m",Zf).call(this,{silent:!0})}async connect(){return St(this,pn,"m",Zf).call(this)}async disconnect(){if(Tf in St(this,pe,"f").features)try{Ze(this,go,!0,"f"),await St(this,pe,"f").features[Tf].disconnect()}catch(t){this.emit("error",new kE(t==null?void 0:t.message,t))}finally{Ze(this,go,!1,"f")}St(this,pn,"m",Qf).call(this)}async sendTransaction(t,e,r={}){try{const o=St(this,Wn,"f");if(!o)throw new Or;let i;if(qn in St(this,pe,"f").features)if(o.features.includes(qn))i=qn;else if(We in St(this,pe,"f").features&&o.features.includes(We))i=We;else throw new ws;else if(We in St(this,pe,"f").features){if(!o.features.includes(We))throw new ws;i=We}else throw new ya;const s=_S(e.rpcEndpoint);if(!o.chains.includes(s))throw new xo;try{const{signers:a,...u}=r;let g;if(Eo(t)?(a!=null&&a.length&&t.sign(a),g=t.serialize()):(t=await this.prepareTransaction(t,e,u),a!=null&&a.length&&t.partialSign(...a),g=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===qn){const[m]=await St(this,pe,"f").features[qn].signAndSendTransaction({account:o,chain:s,transaction:g,options:{preflightCommitment:Pl(u.preflightCommitment||e.commitment),skipPreflight:u.skipPreflight,maxRetries:u.maxRetries,minContextSlot:u.minContextSlot}});return tI.encode(m.signature)}else{const[m]=await St(this,pe,"f").features[We].signTransaction({account:o,chain:s,transaction:g,options:{preflightCommitment:Pl(u.preflightCommitment||e.commitment),minContextSlot:u.minContextSlot}});return await e.sendRawTransaction(m.signedTransaction,{...u,preflightCommitment:Pl(u.preflightCommitment||e.commitment)})}}catch(a){throw a instanceof jn?a:new xo(a==null?void 0:a.message,a)}}catch(o){throw this.emit("error",o),o}}}Wn=new WeakMap,Io=new WeakMap,_o=new WeakMap,go=new WeakMap,Sa=new WeakMap,su=new WeakMap,pe=new WeakMap,au=new WeakMap,Jf=new WeakMap,pn=new WeakSet,Zf=async function(t){try{if(this.connected||this.connecting)return;if(St(this,au,"f")!==Ge.Installed)throw new Oa;if(Ze(this,_o,!0,"f"),!St(this,pe,"f").accounts.length)try{await St(this,pe,"f").features[nd].connect(t)}catch(r){throw new tu(r==null?void 0:r.message,r)}const e=St(this,pe,"f").accounts[0];if(!e)throw new ws;St(this,pn,"m",jc).call(this,e)}catch(e){throw this.emit("error",e),e}finally{Ze(this,_o,!1,"f")}},jc=function(t){let e;try{e=new Kt(t.address)}catch(r){throw new E1(r==null?void 0:r.message,r)}Ze(this,Wn,t,"f"),Ze(this,Io,e,"f"),St(this,pn,"m",_a).call(this),this.emit("connect",e)},Qf=function(){Ze(this,Wn,null,"f"),Ze(this,Io,null,"f"),St(this,pn,"m",_a).call(this),this.emit("disconnect")},_a=function(){var e,r;const t=qn in St(this,pe,"f").features?St(this,pe,"f").features[qn].supportedTransactionVersions:St(this,pe,"f").features[We].supportedTransactionVersions;Ze(this,su,QA(t,["legacy"])?null:new Set(t),"f"),We in St(this,pe,"f").features&&((e=St(this,Wn,"f"))!=null&&e.features.includes(We))?(this.signTransaction=St(this,pn,"m",X0),this.signAllTransactions=St(this,pn,"m",tp)):(delete this.signTransaction,delete this.signAllTransactions),Li in St(this,pe,"f").features&&((r=St(this,Wn,"f"))!=null&&r.features.includes(Li))?this.signMessage=St(this,pn,"m",ep):delete this.signMessage,No in St(this,pe,"f").features?this.signIn=St(this,pn,"m",np):delete this.signIn},X0=async function(t){try{const e=St(this,Wn,"f");if(!e)throw new Or;if(!(We in St(this,pe,"f").features))throw new ya;if(!e.features.includes(We))throw new ws;try{const o=(await St(this,pe,"f").features[We].signTransaction({account:e,transaction:Eo(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Eo(t)?Ds.deserialize(o):ai.from(o)}catch(r){throw r instanceof jn?r:new Mo(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},tp=async function(t){try{const e=St(this,Wn,"f");if(!e)throw new Or;if(!(We in St(this,pe,"f").features))throw new ya;if(!e.features.includes(We))throw new ws;try{const r=await St(this,pe,"f").features[We].signTransaction(...t.map(o=>({account:e,transaction:Eo(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((o,i)=>{const s=r[i].signedTransaction;return Eo(o)?Ds.deserialize(s):ai.from(s)})}catch(r){throw new Mo(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},ep=async function(t){try{const e=St(this,Wn,"f");if(!e)throw new Or;if(!(Li in St(this,pe,"f").features))throw new ya;if(!e.features.includes(Li))throw new ws;try{return(await St(this,pe,"f").features[Li].signMessage({account:e,message:t}))[0].signature}catch(r){throw new S1(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},np=async function(t={}){try{if(!(No in St(this,pe,"f").features))throw new ya;let e;try{[e]=await St(this,pe,"f").features[No].signIn(t)}catch(r){throw new $0(r==null?void 0:r.message,r)}if(!e)throw new $0;return St(this,pn,"m",jc).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const nI=CE;var rI=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},iI=function(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e},Pc;let Zn;const Ju=new Set;function oI(n){Ba=void 0,Ju.add(n)}function sI(n){Ba=void 0,Ju.delete(n)}const ys={};function aI(){if(Zn||(Zn=Object.freeze({register:rp,get:cI,on:uI}),typeof window>"u"))return Zn;const n=Object.freeze({register:rp});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(n))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new lI(n))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Zn}function rp(...n){var t;return n=n.filter(e=>!Ju.has(e)),n.length?(n.forEach(e=>oI(e)),(t=ys.register)==null||t.forEach(e=>Xf(()=>e(...n))),function(){var r;n.forEach(o=>sI(o)),(r=ys.unregister)==null||r.forEach(o=>Xf(()=>o(...n)))}):()=>{}}let Ba;function cI(){return Ba||(Ba=[...Ju]),Ba}function uI(n,t){var e;return(e=ys[n])!=null&&e.push(t)||(ys[n]=[t]),function(){var o;ys[n]=(o=ys[n])==null?void 0:o.filter(i=>t!==i)}}function Xf(n){try{n()}catch(t){console.error(t)}}class lI extends Event{get detail(){return rI(this,Pc,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Pc.set(this,void 0),iI(this,Pc,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Pc=new WeakMap;function fI(){if(Zn||(Zn=aI(),typeof window>"u"))return Zn;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),Zn;const{register:t}=Zn,e=(...r)=>r.forEach(o=>Xf(()=>o({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),Zn}return e(...n),Zn}function hI(n){const t=ip(()=>new Set),{get:e,on:r}=ip(()=>fI()),[o,i]=G.useState(()=>op(e()));G.useEffect(()=>{const a=[r("register",(...u)=>i(g=>[...g,...op(u)])),r("unregister",(...u)=>i(g=>g.filter(m=>u.some(x=>x===m.wallet))))];return()=>a.forEach(u=>u())},[r]);const s=dI(o);return G.useEffect(()=>{if(!s)return;const a=new Set(o);new Set(s.filter(g=>!a.has(g))).forEach(g=>g.destroy())},[s,o]),G.useEffect(()=>()=>o.forEach(a=>a.destroy()),[]),G.useMemo(()=>[...o,...n.filter(({name:a})=>o.some(u=>u.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[o,n,t])}function ip(n){const t=G.useRef(void 0);return t.current===void 0&&(t.current={value:n()}),t.current.value}function dI(n){const t=G.useRef(void 0);return G.useEffect(()=>{t.current=n}),t.current}function op(n){return n.filter(nI).map(t=>new eI({wallet:t}))}var Es;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(Es||(Es={}));function pI(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function gI({adapters:n,userAgentString:t}){return n.some(e=>e.name!==zc&&e.readyState===Ge.Installed)?Es.DESKTOP_WEB:t&&/android/i.test(t)&&!pI(t)?Es.MOBILE_WEB:Es.DESKTOP_WEB}function mI(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function wI({children:n,wallets:t,adapter:e,isUnloadingRef:r,onAutoConnectRequest:o,onConnectError:i,onError:s,onSelectWallet:a}){const u=G.useRef(!1),[g,m]=G.useState(!1),x=G.useRef(!1),[B,S]=G.useState(!1),[k,T]=G.useState(()=>(e==null?void 0:e.publicKey)??null),[I,N]=G.useState(()=>(e==null?void 0:e.connected)??!1),O=G.useRef(s);G.useEffect(()=>(O.current=s,()=>{O.current=void 0}),[s]);const R=G.useRef((d,p)=>(r.current||(O.current?O.current(d,p):(console.error(d,p),d instanceof Oa&&typeof window<"u"&&p&&window.open(p.url,"_blank"))),d)),[U,P]=G.useState(()=>t.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==Ge.Unsupported));G.useEffect(()=>{P(p=>t.map((w,b)=>{const M=p[b];return M&&M.adapter===w&&M.readyState===w.readyState?M:{adapter:w,readyState:w.readyState}}).filter(({readyState:w})=>w!==Ge.Unsupported));function d(p){P(w=>{const b=w.findIndex(({adapter:L})=>L===this);if(b===-1)return w;const{adapter:M}=w[b];return[...w.slice(0,b),{adapter:M,readyState:p},...w.slice(b+1)].filter(({readyState:L})=>L!==Ge.Unsupported)})}return t.forEach(p=>p.on("readyStateChange",d,p)),()=>{t.forEach(p=>p.off("readyStateChange",d,p))}},[e,t]);const j=G.useMemo(()=>U.find(d=>d.adapter===e)??null,[e,U]);G.useEffect(()=>{if(!e)return;const d=b=>{T(b),u.current=!1,m(!1),N(!0),x.current=!1,S(!1)},p=()=>{r.current||(T(null),u.current=!1,m(!1),N(!1),x.current=!1,S(!1))},w=b=>{R.current(b,e)};return e.on("connect",d),e.on("disconnect",p),e.on("error",w),()=>{e.off("connect",d),e.off("disconnect",p),e.off("error",w),p()}},[e,r]);const F=G.useRef(!1);G.useEffect(()=>()=>{F.current=!1},[e]),G.useEffect(()=>{F.current||u.current||I||!o||!((j==null?void 0:j.readyState)===Ge.Installed||(j==null?void 0:j.readyState)===Ge.Loadable)||(u.current=!0,m(!0),F.current=!0,async function(){try{await o()}catch{i()}finally{m(!1),u.current=!1}}())},[I,o,i,j]);const $=G.useCallback(async(d,p,w)=>{if(!e)throw R.current(new W0);if(!I)throw R.current(new Or,e);return await e.sendTransaction(d,p,w)},[e,I]),K=G.useMemo(()=>e&&"signTransaction"in e?async d=>{if(!I)throw R.current(new Or,e);return await e.signTransaction(d)}:void 0,[e,I]),nt=G.useMemo(()=>e&&"signAllTransactions"in e?async d=>{if(!I)throw R.current(new Or,e);return await e.signAllTransactions(d)}:void 0,[e,I]),J=G.useMemo(()=>e&&"signMessage"in e?async d=>{if(!I)throw R.current(new Or,e);return await e.signMessage(d)}:void 0,[e,I]),X=G.useMemo(()=>e&&"signIn"in e?async d=>await e.signIn(d):void 0,[e]),_=G.useCallback(async()=>{if(u.current||x.current||j!=null&&j.adapter.connected)return;if(!j)throw R.current(new W0);const{adapter:d,readyState:p}=j;if(!(p===Ge.Installed||p===Ge.Loadable))throw R.current(new Oa,d);u.current=!0,m(!0);try{await d.connect()}catch(w){throw i(),w}finally{m(!1),u.current=!1}},[i,j]),c=G.useCallback(async()=>{if(!x.current&&e){x.current=!0,S(!0);try{await e.disconnect()}finally{S(!1),x.current=!1}}},[e]);return Ih.createElement(hb.Provider,{value:{autoConnect:!!o,wallets:U,wallet:j,publicKey:k,connected:I,connecting:g,disconnecting:B,select:a,connect:_,disconnect:c,sendTransaction:$,signTransaction:K,signAllTransactions:nt,signMessage:J,signIn:X}},n)}let Gl;function yI(){var n;return Gl===void 0&&(Gl=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),Gl}function sp(n){const t=yI();return gI({adapters:n,userAgentString:t})===Es.MOBILE_WEB}function bI(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function vI({children:n,wallets:t,autoConnect:e,localStorageKey:r="walletName",onError:o}){const{connection:i}=_E(),s=hI(t),a=G.useMemo(()=>{if(!sp(s))return null;const O=s.find(R=>R.name===zc);return O||new HA({addressSelector:VA(),appIdentity:{uri:bI()},authorizationResultCache:GA(),cluster:mI(i==null?void 0:i.rpcEndpoint),onWalletNotFound:ZA()})},[s,i==null?void 0:i.rpcEndpoint]),u=G.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[g,m]=OE(r,null),x=G.useMemo(()=>u.find(O=>O.name===g)??null,[u,g]),B=G.useCallback(O=>{g!==O&&(x&&x.name!==zc&&x.disconnect(),m(O))},[x,m,g]);G.useEffect(()=>{if(!x)return;function O(){T.current||m(null)}return x.on("disconnect",O),()=>{x.off("disconnect",O)}},[x,s,m,g]);const S=G.useRef(!1),k=G.useMemo(()=>{if(!(!e||!x))return async()=>{(e===!0||await e(x))&&(S.current?await x.connect():await x.autoConnect())}},[e,x]),T=G.useRef(!1);G.useEffect(()=>{if(g===zc&&sp(s)){T.current=!1;return}function O(){T.current=!0}return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O)}},[s,g]);const I=G.useCallback(()=>{x&&B(null)},[x,B]),N=G.useCallback(O=>{S.current=!0,B(O)},[B]);return Ih.createElement(wI,{wallets:u,adapter:x,isUnloadingRef:T,onAutoConnectRequest:k,onConnectError:I,onError:o,onSelectWallet:N},n)}/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],MI=Ah("ChevronDown",xI);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],SI=Ah("LogOut",EI);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],II=Ah("User",AI),_I=["top","right","bottom","left"],Ki=Math.min,sr=Math.max,cu=Math.round,yc=Math.floor,Ur=n=>({x:n,y:n}),BI={left:"right",right:"left",bottom:"top",top:"bottom"},TI={start:"end",end:"start"};function th(n,t,e){return sr(n,Ki(t,e))}function mi(n,t){return typeof n=="function"?n(t):n}function wi(n){return n.split("-")[0]}function ea(n){return n.split("-")[1]}function ud(n){return n==="x"?"y":"x"}function ld(n){return n==="y"?"height":"width"}function di(n){return["top","bottom"].includes(wi(n))?"y":"x"}function fd(n){return ud(di(n))}function kI(n,t,e){e===void 0&&(e=!1);const r=ea(n),o=fd(n),i=ld(o);let s=o==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=uu(s)),[s,uu(s)]}function LI(n){const t=uu(n);return[eh(n),t,eh(t)]}function eh(n){return n.replace(/start|end/g,t=>TI[t])}function RI(n,t,e){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return e?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function NI(n,t,e,r){const o=ea(n);let i=RI(wi(n),e==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(eh)))),i}function uu(n){return n.replace(/left|right|bottom|top/g,t=>BI[t])}function CI(n){return{top:0,right:0,bottom:0,left:0,...n}}function tm(n){return typeof n!="number"?CI(n):{top:n,right:n,bottom:n,left:n}}function lu(n){const{x:t,y:e,width:r,height:o}=n;return{width:r,height:o,top:e,left:t,right:t+r,bottom:e+o,x:t,y:e}}function ap(n,t,e){let{reference:r,floating:o}=n;const i=di(t),s=fd(t),a=ld(s),u=wi(t),g=i==="y",m=r.x+r.width/2-o.width/2,x=r.y+r.height/2-o.height/2,B=r[a]/2-o[a]/2;let S;switch(u){case"top":S={x:m,y:r.y-o.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:x};break;case"left":S={x:r.x-o.width,y:x};break;default:S={x:r.x,y:r.y}}switch(ea(t)){case"start":S[s]-=B*(e&&g?-1:1);break;case"end":S[s]+=B*(e&&g?-1:1);break}return S}const OI=async(n,t,e)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=e,a=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let g=await s.getElementRects({reference:n,floating:t,strategy:o}),{x:m,y:x}=ap(g,r,u),B=r,S={},k=0;for(let T=0;T<a.length;T++){const{name:I,fn:N}=a[T],{x:O,y:R,data:U,reset:P}=await N({x:m,y:x,initialPlacement:r,placement:B,strategy:o,middlewareData:S,rects:g,platform:s,elements:{reference:n,floating:t}});m=O??m,x=R??x,S={...S,[I]:{...S[I],...U}},P&&k<=50&&(k++,typeof P=="object"&&(P.placement&&(B=P.placement),P.rects&&(g=P.rects===!0?await s.getElementRects({reference:n,floating:t,strategy:o}):P.rects),{x:m,y:x}=ap(g,B,u)),T=-1)}return{x:m,y:x,placement:B,strategy:o,middlewareData:S}};async function Ua(n,t){var e;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:u}=n,{boundary:g="clippingAncestors",rootBoundary:m="viewport",elementContext:x="floating",altBoundary:B=!1,padding:S=0}=mi(t,n),k=tm(S),I=a[B?x==="floating"?"reference":"floating":x],N=lu(await i.getClippingRect({element:(e=await(i.isElement==null?void 0:i.isElement(I)))==null||e?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:g,rootBoundary:m,strategy:u})),O=x==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),U=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},P=lu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:R,strategy:u}):O);return{top:(N.top-P.top+k.top)/U.y,bottom:(P.bottom-N.bottom+k.bottom)/U.y,left:(N.left-P.left+k.left)/U.x,right:(P.right-N.right+k.right)/U.x}}const DI=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:u}=t,{element:g,padding:m=0}=mi(n,t)||{};if(g==null)return{};const x=tm(m),B={x:e,y:r},S=fd(o),k=ld(S),T=await s.getDimensions(g),I=S==="y",N=I?"top":"left",O=I?"bottom":"right",R=I?"clientHeight":"clientWidth",U=i.reference[k]+i.reference[S]-B[S]-i.floating[k],P=B[S]-i.reference[S],j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(g));let F=j?j[R]:0;(!F||!await(s.isElement==null?void 0:s.isElement(j)))&&(F=a.floating[R]||i.floating[k]);const $=U/2-P/2,K=F/2-T[k]/2-1,nt=Ki(x[N],K),J=Ki(x[O],K),X=nt,_=F-T[k]-J,c=F/2-T[k]/2+$,d=th(X,c,_),p=!u.arrow&&ea(o)!=null&&c!==d&&i.reference[k]/2-(c<X?nt:J)-T[k]/2<0,w=p?c<X?c-X:c-_:0;return{[S]:B[S]+w,data:{[S]:d,centerOffset:c-d-w,...p&&{alignmentOffset:w}},reset:p}}}),UI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:u,elements:g}=t,{mainAxis:m=!0,crossAxis:x=!0,fallbackPlacements:B,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:T=!0,...I}=mi(n,t);if((e=i.arrow)!=null&&e.alignmentOffset)return{};const N=wi(o),O=di(a),R=wi(a)===a,U=await(u.isRTL==null?void 0:u.isRTL(g.floating)),P=B||(R||!T?[uu(a)]:LI(a)),j=k!=="none";!B&&j&&P.push(...NI(a,T,k,U));const F=[a,...P],$=await Ua(t,I),K=[];let nt=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&K.push($[N]),x){const d=kI(o,s,U);K.push($[d[0]],$[d[1]])}if(nt=[...nt,{placement:o,overflows:K}],!K.every(d=>d<=0)){var J,X;const d=(((J=i.flip)==null?void 0:J.index)||0)+1,p=F[d];if(p){var _;const b=x==="alignment"?O!==di(p):!1,M=((_=nt[0])==null?void 0:_.overflows[0])>0;if(!b||M)return{data:{index:d,overflows:nt},reset:{placement:p}}}let w=(X=nt.filter(b=>b.overflows[0]<=0).sort((b,M)=>b.overflows[1]-M.overflows[1])[0])==null?void 0:X.placement;if(!w)switch(S){case"bestFit":{var c;const b=(c=nt.filter(M=>{if(j){const L=di(M.placement);return L===O||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,v)=>L+v,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:c[0];b&&(w=b);break}case"initialPlacement":w=a;break}if(o!==w)return{reset:{placement:w}}}return{}}}};function cp(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function up(n){return _I.some(t=>n[t]>=0)}const zI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:r="referenceHidden",...o}=mi(n,t);switch(r){case"referenceHidden":{const i=await Ua(t,{...o,elementContext:"reference"}),s=cp(i,e.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:up(s)}}}case"escaped":{const i=await Ua(t,{...o,altBoundary:!0}),s=cp(i,e.floating);return{data:{escapedOffsets:s,escaped:up(s)}}}default:return{}}}}};async function jI(n,t){const{placement:e,platform:r,elements:o}=n,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=wi(e),a=ea(e),u=di(e)==="y",g=["left","top"].includes(s)?-1:1,m=i&&u?-1:1,x=mi(t,n);let{mainAxis:B,crossAxis:S,alignmentAxis:k}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return a&&typeof k=="number"&&(S=a==="end"?k*-1:k),u?{x:S*m,y:B*g}:{x:B*g,y:S*m}}const PI=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,r;const{x:o,y:i,placement:s,middlewareData:a}=t,u=await jI(t,n);return s===((e=a.offset)==null?void 0:e.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},FI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:I=>{let{x:N,y:O}=I;return{x:N,y:O}}},...u}=mi(n,t),g={x:e,y:r},m=await Ua(t,u),x=di(wi(o)),B=ud(x);let S=g[B],k=g[x];if(i){const I=B==="y"?"top":"left",N=B==="y"?"bottom":"right",O=S+m[I],R=S-m[N];S=th(O,S,R)}if(s){const I=x==="y"?"top":"left",N=x==="y"?"bottom":"right",O=k+m[I],R=k-m[N];k=th(O,k,R)}const T=a.fn({...t,[B]:S,[x]:k});return{...T,data:{x:T.x-e,y:T.y-r,enabled:{[B]:i,[x]:s}}}}}},$I=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:u=!0,crossAxis:g=!0}=mi(n,t),m={x:e,y:r},x=di(o),B=ud(x);let S=m[B],k=m[x];const T=mi(a,t),I=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(u){const R=B==="y"?"height":"width",U=i.reference[B]-i.floating[R]+I.mainAxis,P=i.reference[B]+i.reference[R]-I.mainAxis;S<U?S=U:S>P&&(S=P)}if(g){var N,O;const R=B==="y"?"width":"height",U=["top","left"].includes(wi(o)),P=i.reference[x]-i.floating[R]+(U&&((N=s.offset)==null?void 0:N[x])||0)+(U?0:I.crossAxis),j=i.reference[x]+i.reference[R]+(U?0:((O=s.offset)==null?void 0:O[x])||0)-(U?I.crossAxis:0);k<P?k=P:k>j&&(k=j)}return{[B]:S,[x]:k}}}},WI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:u=()=>{},...g}=mi(n,t),m=await Ua(t,g),x=wi(o),B=ea(o),S=di(o)==="y",{width:k,height:T}=i.floating;let I,N;x==="top"||x==="bottom"?(I=x,N=B===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(N=x,I=B==="end"?"top":"bottom");const O=T-m.top-m.bottom,R=k-m.left-m.right,U=Ki(T-m[I],O),P=Ki(k-m[N],R),j=!t.middlewareData.shift;let F=U,$=P;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&($=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=O),j&&!B){const nt=sr(m.left,0),J=sr(m.right,0),X=sr(m.top,0),_=sr(m.bottom,0);S?$=k-2*(nt!==0||J!==0?nt+J:sr(m.left,m.right)):F=T-2*(X!==0||_!==0?X+_:sr(m.top,m.bottom))}await u({...t,availableWidth:$,availableHeight:F});const K=await s.getDimensions(a.floating);return k!==K.width||T!==K.height?{reset:{rects:!0}}:{}}}};function Xu(){return typeof window<"u"}function na(n){return em(n)?(n.nodeName||"").toLowerCase():"#document"}function ar(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function qr(n){var t;return(t=(em(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function em(n){return Xu()?n instanceof Node||n instanceof ar(n).Node:!1}function Ar(n){return Xu()?n instanceof Element||n instanceof ar(n).Element:!1}function jr(n){return Xu()?n instanceof HTMLElement||n instanceof ar(n).HTMLElement:!1}function lp(n){return!Xu()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ar(n).ShadowRoot}function Qa(n){const{overflow:t,overflowX:e,overflowY:r,display:o}=Ir(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!["inline","contents"].includes(o)}function KI(n){return["table","td","th"].includes(na(n))}function tl(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function hd(n){const t=dd(),e=Ar(n)?Ir(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>e[r]?e[r]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(e.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(e.contain||"").includes(r))}function qI(n){let t=qi(n);for(;jr(t)&&!$s(t);){if(hd(t))return t;if(tl(t))return null;t=qi(t)}return null}function dd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $s(n){return["html","body","#document"].includes(na(n))}function Ir(n){return ar(n).getComputedStyle(n)}function el(n){return Ar(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qi(n){if(na(n)==="html")return n;const t=n.assignedSlot||n.parentNode||lp(n)&&n.host||qr(n);return lp(t)?t.host:t}function nm(n){const t=qi(n);return $s(t)?n.ownerDocument?n.ownerDocument.body:n.body:jr(t)&&Qa(t)?t:nm(t)}function za(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);const o=nm(n),i=o===((r=n.ownerDocument)==null?void 0:r.body),s=ar(o);if(i){const a=nh(s);return t.concat(s,s.visualViewport||[],Qa(o)?o:[],a&&e?za(a):[])}return t.concat(o,za(o,[],e))}function nh(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rm(n){const t=Ir(n);let e=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=jr(n),i=o?n.offsetWidth:e,s=o?n.offsetHeight:r,a=cu(e)!==i||cu(r)!==s;return a&&(e=i,r=s),{width:e,height:r,$:a}}function pd(n){return Ar(n)?n:n.contextElement}function Ss(n){const t=pd(n);if(!jr(t))return Ur(1);const e=t.getBoundingClientRect(),{width:r,height:o,$:i}=rm(t);let s=(i?cu(e.width):e.width)/r,a=(i?cu(e.height):e.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const HI=Ur(0);function im(n){const t=ar(n);return!dd()||!t.visualViewport?HI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VI(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==ar(n)?!1:t}function jo(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);const o=n.getBoundingClientRect(),i=pd(n);let s=Ur(1);t&&(r?Ar(r)&&(s=Ss(r)):s=Ss(n));const a=VI(i,e,r)?im(i):Ur(0);let u=(o.left+a.x)/s.x,g=(o.top+a.y)/s.y,m=o.width/s.x,x=o.height/s.y;if(i){const B=ar(i),S=r&&Ar(r)?ar(r):r;let k=B,T=nh(k);for(;T&&r&&S!==k;){const I=Ss(T),N=T.getBoundingClientRect(),O=Ir(T),R=N.left+(T.clientLeft+parseFloat(O.paddingLeft))*I.x,U=N.top+(T.clientTop+parseFloat(O.paddingTop))*I.y;u*=I.x,g*=I.y,m*=I.x,x*=I.y,u+=R,g+=U,k=ar(T),T=nh(k)}}return lu({width:m,height:x,x:u,y:g})}function gd(n,t){const e=el(n).scrollLeft;return t?t.left+e:jo(qr(n)).left+e}function om(n,t,e){e===void 0&&(e=!1);const r=n.getBoundingClientRect(),o=r.left+t.scrollLeft-(e?0:gd(n,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function GI(n){let{elements:t,rect:e,offsetParent:r,strategy:o}=n;const i=o==="fixed",s=qr(r),a=t?tl(t.floating):!1;if(r===s||a&&i)return e;let u={scrollLeft:0,scrollTop:0},g=Ur(1);const m=Ur(0),x=jr(r);if((x||!x&&!i)&&((na(r)!=="body"||Qa(s))&&(u=el(r)),jr(r))){const S=jo(r);g=Ss(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const B=s&&!x&&!i?om(s,u,!0):Ur(0);return{width:e.width*g.x,height:e.height*g.y,x:e.x*g.x-u.scrollLeft*g.x+m.x+B.x,y:e.y*g.y-u.scrollTop*g.y+m.y+B.y}}function YI(n){return Array.from(n.getClientRects())}function ZI(n){const t=qr(n),e=el(n),r=n.ownerDocument.body,o=sr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=sr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-e.scrollLeft+gd(n);const a=-e.scrollTop;return Ir(r).direction==="rtl"&&(s+=sr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function QI(n,t){const e=ar(n),r=qr(n),o=e.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,u=0;if(o){i=o.width,s=o.height;const g=dd();(!g||g&&t==="fixed")&&(a=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:a,y:u}}function JI(n,t){const e=jo(n,!0,t==="fixed"),r=e.top+n.clientTop,o=e.left+n.clientLeft,i=jr(n)?Ss(n):Ur(1),s=n.clientWidth*i.x,a=n.clientHeight*i.y,u=o*i.x,g=r*i.y;return{width:s,height:a,x:u,y:g}}function fp(n,t,e){let r;if(t==="viewport")r=QI(n,e);else if(t==="document")r=ZI(qr(n));else if(Ar(t))r=JI(t,e);else{const o=im(n);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return lu(r)}function sm(n,t){const e=qi(n);return e===t||!Ar(e)||$s(e)?!1:Ir(e).position==="fixed"||sm(e,t)}function XI(n,t){const e=t.get(n);if(e)return e;let r=za(n,[],!1).filter(a=>Ar(a)&&na(a)!=="body"),o=null;const i=Ir(n).position==="fixed";let s=i?qi(n):n;for(;Ar(s)&&!$s(s);){const a=Ir(s),u=hd(s);!u&&a.position==="fixed"&&(o=null),(i?!u&&!o:!u&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Qa(s)&&!u&&sm(n,s))?r=r.filter(m=>m!==s):o=a,s=qi(s)}return t.set(n,r),r}function t_(n){let{element:t,boundary:e,rootBoundary:r,strategy:o}=n;const s=[...e==="clippingAncestors"?tl(t)?[]:XI(t,this._c):[].concat(e),r],a=s[0],u=s.reduce((g,m)=>{const x=fp(t,m,o);return g.top=sr(x.top,g.top),g.right=Ki(x.right,g.right),g.bottom=Ki(x.bottom,g.bottom),g.left=sr(x.left,g.left),g},fp(t,a,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function e_(n){const{width:t,height:e}=rm(n);return{width:t,height:e}}function n_(n,t,e){const r=jr(t),o=qr(t),i=e==="fixed",s=jo(n,!0,i,t);let a={scrollLeft:0,scrollTop:0};const u=Ur(0);function g(){u.x=gd(o)}if(r||!r&&!i)if((na(t)!=="body"||Qa(o))&&(a=el(t)),r){const S=jo(t,!0,i,t);u.x=S.x+t.clientLeft,u.y=S.y+t.clientTop}else o&&g();i&&!r&&o&&g();const m=o&&!r&&!i?om(o,a):Ur(0),x=s.left+a.scrollLeft-u.x-m.x,B=s.top+a.scrollTop-u.y-m.y;return{x,y:B,width:s.width,height:s.height}}function Yl(n){return Ir(n).position==="static"}function hp(n,t){if(!jr(n)||Ir(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return qr(n)===e&&(e=e.ownerDocument.body),e}function am(n,t){const e=ar(n);if(tl(n))return e;if(!jr(n)){let o=qi(n);for(;o&&!$s(o);){if(Ar(o)&&!Yl(o))return o;o=qi(o)}return e}let r=hp(n,t);for(;r&&KI(r)&&Yl(r);)r=hp(r,t);return r&&$s(r)&&Yl(r)&&!hd(r)?e:r||qI(n)||e}const r_=async function(n){const t=this.getOffsetParent||am,e=this.getDimensions,r=await e(n.floating);return{reference:n_(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function i_(n){return Ir(n).direction==="rtl"}const o_={convertOffsetParentRelativeRectToViewportRelativeRect:GI,getDocumentElement:qr,getClippingRect:t_,getOffsetParent:am,getElementRects:r_,getClientRects:YI,getDimensions:e_,getScale:Ss,isElement:Ar,isRTL:i_};function cm(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function s_(n,t){let e=null,r;const o=qr(n);function i(){var a;clearTimeout(r),(a=e)==null||a.disconnect(),e=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const g=n.getBoundingClientRect(),{left:m,top:x,width:B,height:S}=g;if(a||t(),!B||!S)return;const k=yc(x),T=yc(o.clientWidth-(m+B)),I=yc(o.clientHeight-(x+S)),N=yc(m),R={rootMargin:-k+"px "+-T+"px "+-I+"px "+-N+"px",threshold:sr(0,Ki(1,u))||1};let U=!0;function P(j){const F=j[0].intersectionRatio;if(F!==u){if(!U)return s();F?s(!1,F):r=setTimeout(()=>{s(!1,1e-7)},1e3)}F===1&&!cm(g,n.getBoundingClientRect())&&s(),U=!1}try{e=new IntersectionObserver(P,{...R,root:o.ownerDocument})}catch{e=new IntersectionObserver(P,R)}e.observe(n)}return s(!0),i}function a_(n,t,e,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,g=pd(n),m=o||i?[...g?za(g):[],...za(t)]:[];m.forEach(N=>{o&&N.addEventListener("scroll",e,{passive:!0}),i&&N.addEventListener("resize",e)});const x=g&&a?s_(g,e):null;let B=-1,S=null;s&&(S=new ResizeObserver(N=>{let[O]=N;O&&O.target===g&&S&&(S.unobserve(t),cancelAnimationFrame(B),B=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(t)})),e()}),g&&!u&&S.observe(g),S.observe(t));let k,T=u?jo(n):null;u&&I();function I(){const N=jo(n);T&&!cm(T,N)&&e(),T=N,k=requestAnimationFrame(I)}return e(),()=>{var N;m.forEach(O=>{o&&O.removeEventListener("scroll",e),i&&O.removeEventListener("resize",e)}),x==null||x(),(N=S)==null||N.disconnect(),S=null,u&&cancelAnimationFrame(k)}}const c_=PI,u_=FI,l_=UI,f_=WI,h_=zI,dp=DI,d_=$I,p_=(n,t,e)=>{const r=new Map,o={platform:o_,...e},i={...o.platform,_c:r};return OI(n,t,{...o,platform:i})};var Fc=typeof document<"u"?G.useLayoutEffect:G.useEffect;function fu(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,r,o;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(r=e;r--!==0;)if(!fu(n[r],t[r]))return!1;return!0}if(o=Object.keys(n),e=o.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=e;r--!==0;){const i=o[r];if(!(i==="_owner"&&n.$$typeof)&&!fu(n[i],t[i]))return!1}return!0}return n!==n&&t!==t}function um(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function pp(n,t){const e=um(n);return Math.round(t*e)/e}function Zl(n){const t=G.useRef(n);return Fc(()=>{t.current=n}),t}function g_(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:u,open:g}=n,[m,x]=G.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[B,S]=G.useState(r);fu(B,r)||S(r);const[k,T]=G.useState(null),[I,N]=G.useState(null),O=G.useCallback(b=>{b!==j.current&&(j.current=b,T(b))},[]),R=G.useCallback(b=>{b!==F.current&&(F.current=b,N(b))},[]),U=i||k,P=s||I,j=G.useRef(null),F=G.useRef(null),$=G.useRef(m),K=u!=null,nt=Zl(u),J=Zl(o),X=Zl(g),_=G.useCallback(()=>{if(!j.current||!F.current)return;const b={placement:t,strategy:e,middleware:B};J.current&&(b.platform=J.current),p_(j.current,F.current,b).then(M=>{const L={...M,isPositioned:X.current!==!1};c.current&&!fu($.current,L)&&($.current=L,By.flushSync(()=>{x(L)}))})},[B,t,e,J,X]);Fc(()=>{g===!1&&$.current.isPositioned&&($.current.isPositioned=!1,x(b=>({...b,isPositioned:!1})))},[g]);const c=G.useRef(!1);Fc(()=>(c.current=!0,()=>{c.current=!1}),[]),Fc(()=>{if(U&&(j.current=U),P&&(F.current=P),U&&P){if(nt.current)return nt.current(U,P,_);_()}},[U,P,_,nt,K]);const d=G.useMemo(()=>({reference:j,floating:F,setReference:O,setFloating:R}),[O,R]),p=G.useMemo(()=>({reference:U,floating:P}),[U,P]),w=G.useMemo(()=>{const b={position:e,left:0,top:0};if(!p.floating)return b;const M=pp(p.floating,m.x),L=pp(p.floating,m.y);return a?{...b,transform:"translate("+M+"px, "+L+"px)",...um(p.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:M,top:L}},[e,a,p.floating,m.x,m.y]);return G.useMemo(()=>({...m,update:_,refs:d,elements:p,floatingStyles:w}),[m,_,d,p,w])}const m_=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:r,padding:o}=typeof n=="function"?n(e):n;return r&&t(r)?r.current!=null?dp({element:r.current,padding:o}).fn(e):{}:r?dp({element:r,padding:o}).fn(e):{}}}},w_=(n,t)=>({...c_(n),options:[n,t]}),y_=(n,t)=>({...u_(n),options:[n,t]}),b_=(n,t)=>({...d_(n),options:[n,t]}),v_=(n,t)=>({...l_(n),options:[n,t]}),x_=(n,t)=>({...f_(n),options:[n,t]}),M_=(n,t)=>({...h_(n),options:[n,t]}),E_=(n,t)=>({...m_(n),options:[n,t]});var S_="Arrow",lm=G.forwardRef((n,t)=>{const{children:e,width:r=10,height:o=5,...i}=n;return tt.jsx(bi.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:tt.jsx("polygon",{points:"0,0 30,0 15,10"})})});lm.displayName=S_;var A_=lm;function I_(n){const[t,e]=G.useState(void 0);return pf(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const u=i.borderBoxSize,g=Array.isArray(u)?u[0]:u;s=g.inlineSize,a=g.blockSize}else s=n.offsetWidth,a=n.offsetHeight;e({width:s,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else e(void 0)},[n]),t}var md="Popper",[fm,hm]=Bh(md),[__,dm]=fm(md),pm=n=>{const{__scopePopper:t,children:e}=n,[r,o]=G.useState(null);return tt.jsx(__,{scope:t,anchor:r,onAnchorChange:o,children:e})};pm.displayName=md;var gm="PopperAnchor",mm=G.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:r,...o}=n,i=dm(gm,e),s=G.useRef(null),a=Po(t,s);return G.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:tt.jsx(bi.div,{...o,ref:a})});mm.displayName=gm;var wd="PopperContent",[B_,T_]=fm(wd),wm=G.forwardRef((n,t)=>{var ut,et,rt,Pt,pt,ht;const{__scopePopper:e,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:g=[],collisionPadding:m=0,sticky:x="partial",hideWhenDetached:B=!1,updatePositionStrategy:S="optimized",onPlaced:k,...T}=n,I=dm(wd,e),[N,O]=G.useState(null),R=Po(t,jt=>O(jt)),[U,P]=G.useState(null),j=I_(U),F=(j==null?void 0:j.width)??0,$=(j==null?void 0:j.height)??0,K=r+(i!=="center"?"-"+i:""),nt=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},J=Array.isArray(g)?g:[g],X=J.length>0,_={padding:nt,boundary:J.filter(L_),altBoundary:X},{refs:c,floatingStyles:d,placement:p,isPositioned:w,middlewareData:b}=g_({strategy:"fixed",placement:K,whileElementsMounted:(...jt)=>a_(...jt,{animationFrame:S==="always"}),elements:{reference:I.anchor},middleware:[w_({mainAxis:o+$,alignmentAxis:s}),u&&y_({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?b_():void 0,..._}),u&&v_({..._}),x_({..._,apply:({elements:jt,rects:wt,availableWidth:Mt,availableHeight:yn})=>{const{width:_t,height:Ut}=wt.reference,nn=jt.floating.style;nn.setProperty("--radix-popper-available-width",`${Mt}px`),nn.setProperty("--radix-popper-available-height",`${yn}px`),nn.setProperty("--radix-popper-anchor-width",`${_t}px`),nn.setProperty("--radix-popper-anchor-height",`${Ut}px`)}}),U&&E_({element:U,padding:a}),R_({arrowWidth:F,arrowHeight:$}),B&&M_({strategy:"referenceHidden",..._})]}),[M,L]=vm(p),v=Th(k);pf(()=>{w&&(v==null||v())},[w,v]);const f=(ut=b.arrow)==null?void 0:ut.x,A=(et=b.arrow)==null?void 0:et.y,W=((rt=b.arrow)==null?void 0:rt.centerOffset)!==0,[q,H]=G.useState();return pf(()=>{N&&H(window.getComputedStyle(N).zIndex)},[N]),tt.jsx("div",{ref:c.setFloating,"data-radix-popper-content-wrapper":"",style:{...d,transform:w?d.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Pt=b.transformOrigin)==null?void 0:Pt.x,(pt=b.transformOrigin)==null?void 0:pt.y].join(" "),...((ht=b.hide)==null?void 0:ht.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:tt.jsx(B_,{scope:e,placedSide:M,onArrowChange:P,arrowX:f,arrowY:A,shouldHideArrow:W,children:tt.jsx(bi.div,{"data-side":M,"data-align":L,...T,ref:R,style:{...T.style,animation:w?void 0:"none"}})})})});wm.displayName=wd;var ym="PopperArrow",k_={top:"bottom",right:"left",bottom:"top",left:"right"},bm=G.forwardRef(function(t,e){const{__scopePopper:r,...o}=t,i=T_(ym,r),s=k_[i.placedSide];return tt.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:tt.jsx(A_,{...o,ref:e,style:{...o.style,display:"block"}})})});bm.displayName=ym;function L_(n){return n!==null}var R_=n=>({name:"transformOrigin",options:n,fn(t){var I,N,O;const{placement:e,rects:r,middlewareData:o}=t,s=((I=o.arrow)==null?void 0:I.centerOffset)!==0,a=s?0:n.arrowWidth,u=s?0:n.arrowHeight,[g,m]=vm(e),x={start:"0%",center:"50%",end:"100%"}[m],B=(((N=o.arrow)==null?void 0:N.x)??0)+a/2,S=(((O=o.arrow)==null?void 0:O.y)??0)+u/2;let k="",T="";return g==="bottom"?(k=s?x:`${B}px`,T=`${-u}px`):g==="top"?(k=s?x:`${B}px`,T=`${r.floating.height+u}px`):g==="right"?(k=`${-u}px`,T=s?x:`${S}px`):g==="left"&&(k=`${r.floating.width+u}px`,T=s?x:`${S}px`),{data:{x:k,y:T}}}});function vm(n){const[t,e="center"]=n.split("-");return[t,e]}var N_=pm,C_=mm,O_=wm,D_=bm,rh=["Enter"," "],U_=["ArrowDown","PageUp","Home"],xm=["ArrowUp","PageDown","End"],z_=[...U_,...xm],j_={ltr:[...rh,"ArrowRight"],rtl:[...rh,"ArrowLeft"]},P_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ja="Menu",[ja,F_,$_]=cb(Ja),[qo,Mm]=Bh(Ja,[$_,hm,Qp]),nl=hm(),Em=Qp(),[W_,Ho]=qo(Ja),[K_,Xa]=qo(Ja),Sm=n=>{const{__scopeMenu:t,open:e=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=n,a=nl(t),[u,g]=G.useState(null),m=G.useRef(!1),x=Th(i),B=ub(o);return G.useEffect(()=>{const S=()=>{m.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>m.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),tt.jsx(N_,{...a,children:tt.jsx(W_,{scope:t,open:e,onOpenChange:x,content:u,onContentChange:g,children:tt.jsx(K_,{scope:t,onClose:G.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:m,dir:B,modal:s,children:r})})})};Sm.displayName=Ja;var q_="MenuAnchor",yd=G.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n,o=nl(e);return tt.jsx(C_,{...o,...r,ref:t})});yd.displayName=q_;var bd="MenuPortal",[H_,Am]=qo(bd,{forceMount:void 0}),Im=n=>{const{__scopeMenu:t,forceMount:e,children:r,container:o}=n,i=Ho(bd,t);return tt.jsx(H_,{scope:t,forceMount:e,children:tt.jsx(Ru,{present:e||i.open,children:tt.jsx(Jy,{asChild:!0,container:o,children:r})})})};Im.displayName=bd;var wr="MenuContent",[V_,vd]=qo(wr),_m=G.forwardRef((n,t)=>{const e=Am(wr,n.__scopeMenu),{forceMount:r=e.forceMount,...o}=n,i=Ho(wr,n.__scopeMenu),s=Xa(wr,n.__scopeMenu);return tt.jsx(ja.Provider,{scope:n.__scopeMenu,children:tt.jsx(Ru,{present:r||i.open,children:tt.jsx(ja.Slot,{scope:n.__scopeMenu,children:s.modal?tt.jsx(G_,{...o,ref:t}):tt.jsx(Y_,{...o,ref:t})})})})}),G_=G.forwardRef((n,t)=>{const e=Ho(wr,n.__scopeMenu),r=G.useRef(null),o=Po(t,r);return G.useEffect(()=>{const i=r.current;if(i)return Xy(i)},[]),tt.jsx(xd,{...n,ref:o,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:Te(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),Y_=G.forwardRef((n,t)=>{const e=Ho(wr,n.__scopeMenu);return tt.jsx(xd,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),Z_=ab("MenuContent.ScrollLock"),xd=G.forwardRef((n,t)=>{const{__scopeMenu:e,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:g,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:B,onDismiss:S,disableOutsideScroll:k,...T}=n,I=Ho(wr,e),N=Xa(wr,e),O=nl(e),R=Em(e),U=F_(e),[P,j]=G.useState(null),F=G.useRef(null),$=Po(t,F,I.onContentChange),K=G.useRef(0),nt=G.useRef(""),J=G.useRef(0),X=G.useRef(null),_=G.useRef("right"),c=G.useRef(0),d=k?nb:G.Fragment,p=k?{as:Z_,allowPinchZoom:!0}:void 0,w=M=>{var ut,et;const L=nt.current+M,v=U().filter(rt=>!rt.disabled),f=document.activeElement,A=(ut=v.find(rt=>rt.ref.current===f))==null?void 0:ut.textValue,W=v.map(rt=>rt.textValue),q=c4(W,L,A),H=(et=v.find(rt=>rt.textValue===q))==null?void 0:et.ref.current;(function rt(Pt){nt.current=Pt,window.clearTimeout(K.current),Pt!==""&&(K.current=window.setTimeout(()=>rt(""),1e3))})(L),H&&setTimeout(()=>H.focus())};G.useEffect(()=>()=>window.clearTimeout(K.current),[]),eb();const b=G.useCallback(M=>{var v,f;return _.current===((v=X.current)==null?void 0:v.side)&&l4(M,(f=X.current)==null?void 0:f.area)},[]);return tt.jsx(V_,{scope:e,searchRef:nt,onItemEnter:G.useCallback(M=>{b(M)&&M.preventDefault()},[b]),onItemLeave:G.useCallback(M=>{var L;b(M)||((L=F.current)==null||L.focus(),j(null))},[b]),onTriggerLeave:G.useCallback(M=>{b(M)&&M.preventDefault()},[b]),pointerGraceTimerRef:J,onPointerGraceIntentChange:G.useCallback(M=>{X.current=M},[]),children:tt.jsx(d,{...p,children:tt.jsx(rb,{asChild:!0,trapped:o,onMountAutoFocus:Te(i,M=>{var L;M.preventDefault(),(L=F.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:tt.jsx(ib,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:g,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:B,onDismiss:S,children:tt.jsx(fb,{asChild:!0,...R,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:j,onEntryFocus:Te(u,M=>{N.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:tt.jsx(O_,{role:"menu","aria-orientation":"vertical","data-state":Wm(I.open),"data-radix-menu-content":"",dir:N.dir,...O,...T,ref:$,style:{outline:"none",...T.style},onKeyDown:Te(T.onKeyDown,M=>{const v=M.target.closest("[data-radix-menu-content]")===M.currentTarget,f=M.ctrlKey||M.altKey||M.metaKey,A=M.key.length===1;v&&(M.key==="Tab"&&M.preventDefault(),!f&&A&&w(M.key));const W=F.current;if(M.target!==W||!z_.includes(M.key))return;M.preventDefault();const H=U().filter(ut=>!ut.disabled).map(ut=>ut.ref.current);xm.includes(M.key)&&H.reverse(),s4(H)}),onBlur:Te(n.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(K.current),nt.current="")}),onPointerMove:Te(n.onPointerMove,Pa(M=>{const L=M.target,v=c.current!==M.clientX;if(M.currentTarget.contains(L)&&v){const f=M.clientX>c.current?"right":"left";_.current=f,c.current=M.clientX}}))})})})})})})});_m.displayName=wr;var Q_="MenuGroup",Md=G.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return tt.jsx(bi.div,{role:"group",...r,ref:t})});Md.displayName=Q_;var J_="MenuLabel",Bm=G.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return tt.jsx(bi.div,{...r,ref:t})});Bm.displayName=J_;var hu="MenuItem",gp="menu.itemSelect",rl=G.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:r,...o}=n,i=G.useRef(null),s=Xa(hu,n.__scopeMenu),a=vd(hu,n.__scopeMenu),u=Po(t,i),g=G.useRef(!1),m=()=>{const x=i.current;if(!e&&x){const B=new CustomEvent(gp,{bubbles:!0,cancelable:!0});x.addEventListener(gp,S=>r==null?void 0:r(S),{once:!0}),tb(x,B),B.defaultPrevented?g.current=!1:s.onClose()}};return tt.jsx(Tm,{...o,ref:u,disabled:e,onClick:Te(n.onClick,m),onPointerDown:x=>{var B;(B=n.onPointerDown)==null||B.call(n,x),g.current=!0},onPointerUp:Te(n.onPointerUp,x=>{var B;g.current||(B=x.currentTarget)==null||B.click()}),onKeyDown:Te(n.onKeyDown,x=>{const B=a.searchRef.current!=="";e||B&&x.key===" "||rh.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});rl.displayName=hu;var Tm=G.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:r=!1,textValue:o,...i}=n,s=vd(hu,e),a=Em(e),u=G.useRef(null),g=Po(t,u),[m,x]=G.useState(!1),[B,S]=G.useState("");return G.useEffect(()=>{const k=u.current;k&&S((k.textContent??"").trim())},[i.children]),tt.jsx(ja.ItemSlot,{scope:e,disabled:r,textValue:o??B,children:tt.jsx(lb,{asChild:!0,...a,focusable:!r,children:tt.jsx(bi.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:g,onPointerMove:Te(n.onPointerMove,Pa(k=>{r?s.onItemLeave(k):(s.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(n.onPointerLeave,Pa(k=>s.onItemLeave(k))),onFocus:Te(n.onFocus,()=>x(!0)),onBlur:Te(n.onBlur,()=>x(!1))})})})}),X_="MenuCheckboxItem",km=G.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:r,...o}=n;return tt.jsx(Om,{scope:n.__scopeMenu,checked:e,children:tt.jsx(rl,{role:"menuitemcheckbox","aria-checked":du(e)?"mixed":e,...o,ref:t,"data-state":Sd(e),onSelect:Te(o.onSelect,()=>r==null?void 0:r(du(e)?!0:!e),{checkForDefaultPrevented:!1})})})});km.displayName=X_;var Lm="MenuRadioGroup",[t4,e4]=qo(Lm,{value:void 0,onValueChange:()=>{}}),Rm=G.forwardRef((n,t)=>{const{value:e,onValueChange:r,...o}=n,i=Th(r);return tt.jsx(t4,{scope:n.__scopeMenu,value:e,onValueChange:i,children:tt.jsx(Md,{...o,ref:t})})});Rm.displayName=Lm;var Nm="MenuRadioItem",Cm=G.forwardRef((n,t)=>{const{value:e,...r}=n,o=e4(Nm,n.__scopeMenu),i=e===o.value;return tt.jsx(Om,{scope:n.__scopeMenu,checked:i,children:tt.jsx(rl,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Sd(i),onSelect:Te(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,e)},{checkForDefaultPrevented:!1})})})});Cm.displayName=Nm;var Ed="MenuItemIndicator",[Om,n4]=qo(Ed,{checked:!1}),Dm=G.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:r,...o}=n,i=n4(Ed,e);return tt.jsx(Ru,{present:r||du(i.checked)||i.checked===!0,children:tt.jsx(bi.span,{...o,ref:t,"data-state":Sd(i.checked)})})});Dm.displayName=Ed;var r4="MenuSeparator",Um=G.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return tt.jsx(bi.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Um.displayName=r4;var i4="MenuArrow",zm=G.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n,o=nl(e);return tt.jsx(D_,{...o,...r,ref:t})});zm.displayName=i4;var o4="MenuSub",[yk,jm]=qo(o4),Aa="MenuSubTrigger",Pm=G.forwardRef((n,t)=>{const e=Ho(Aa,n.__scopeMenu),r=Xa(Aa,n.__scopeMenu),o=jm(Aa,n.__scopeMenu),i=vd(Aa,n.__scopeMenu),s=G.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=i,g={__scopeMenu:n.__scopeMenu},m=G.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return G.useEffect(()=>m,[m]),G.useEffect(()=>{const x=a.current;return()=>{window.clearTimeout(x),u(null)}},[a,u]),tt.jsx(yd,{asChild:!0,...g,children:tt.jsx(Tm,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":o.contentId,"data-state":Wm(e.open),...n,ref:Zp(t,o.onTriggerChange),onClick:x=>{var B;(B=n.onClick)==null||B.call(n,x),!(n.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:Te(n.onPointerMove,Pa(x=>{i.onItemEnter(x),!x.defaultPrevented&&!n.disabled&&!e.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{e.onOpenChange(!0),m()},100))})),onPointerLeave:Te(n.onPointerLeave,Pa(x=>{var S,k;m();const B=(S=e.content)==null?void 0:S.getBoundingClientRect();if(B){const T=(k=e.content)==null?void 0:k.dataset.side,I=T==="right",N=I?-5:5,O=B[I?"left":"right"],R=B[I?"right":"left"];i.onPointerGraceIntentChange({area:[{x:x.clientX+N,y:x.clientY},{x:O,y:B.top},{x:R,y:B.top},{x:R,y:B.bottom},{x:O,y:B.bottom}],side:T}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(x),x.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Te(n.onKeyDown,x=>{var S;const B=i.searchRef.current!=="";n.disabled||B&&x.key===" "||j_[r.dir].includes(x.key)&&(e.onOpenChange(!0),(S=e.content)==null||S.focus(),x.preventDefault())})})})});Pm.displayName=Aa;var Fm="MenuSubContent",$m=G.forwardRef((n,t)=>{const e=Am(wr,n.__scopeMenu),{forceMount:r=e.forceMount,...o}=n,i=Ho(wr,n.__scopeMenu),s=Xa(wr,n.__scopeMenu),a=jm(Fm,n.__scopeMenu),u=G.useRef(null),g=Po(t,u);return tt.jsx(ja.Provider,{scope:n.__scopeMenu,children:tt.jsx(Ru,{present:r||i.open,children:tt.jsx(ja.Slot,{scope:n.__scopeMenu,children:tt.jsx(xd,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:g,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var x;s.isUsingKeyboardRef.current&&((x=u.current)==null||x.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Te(n.onFocusOutside,m=>{m.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Te(n.onEscapeKeyDown,m=>{s.onClose(),m.preventDefault()}),onKeyDown:Te(n.onKeyDown,m=>{var S;const x=m.currentTarget.contains(m.target),B=P_[s.dir].includes(m.key);x&&B&&(i.onOpenChange(!1),(S=a.trigger)==null||S.focus(),m.preventDefault())})})})})})});$m.displayName=Fm;function Wm(n){return n?"open":"closed"}function du(n){return n==="indeterminate"}function Sd(n){return du(n)?"indeterminate":n?"checked":"unchecked"}function s4(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function a4(n,t){return n.map((e,r)=>n[(t+r)%n.length])}function c4(n,t,e){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,i=e?n.indexOf(e):-1;let s=a4(n,Math.max(i,0));o.length===1&&(s=s.filter(g=>g!==e));const u=s.find(g=>g.toLowerCase().startsWith(o.toLowerCase()));return u!==e?u:void 0}function u4(n,t){const{x:e,y:r}=n;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],u=t[s],g=a.x,m=a.y,x=u.x,B=u.y;m>r!=B>r&&e<(x-g)*(r-m)/(B-m)+g&&(o=!o)}return o}function l4(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return u4(e,t)}function Pa(n){return t=>t.pointerType==="mouse"?n(t):void 0}var f4=Sm,h4=yd,d4=Im,p4=_m,g4=Md,m4=Bm,w4=rl,y4=km,b4=Rm,v4=Cm,x4=Dm,M4=Um,E4=zm,S4=Pm,A4=$m,il="DropdownMenu",[I4,bk]=Bh(il,[Mm]),Pn=Mm(),[_4,Km]=I4(il),qm=n=>{const{__scopeDropdownMenu:t,children:e,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=n,u=Pn(t),g=G.useRef(null),[m,x]=ob({prop:o,defaultProp:i??!1,onChange:s,caller:il});return tt.jsx(_4,{scope:t,triggerId:h0(),triggerRef:g,contentId:h0(),open:m,onOpenChange:x,onOpenToggle:G.useCallback(()=>x(B=>!B),[x]),modal:a,children:tt.jsx(f4,{...u,open:m,onOpenChange:x,dir:r,modal:a,children:e})})};qm.displayName=il;var Hm="DropdownMenuTrigger",Vm=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:r=!1,...o}=n,i=Km(Hm,e),s=Pn(e);return tt.jsx(h4,{asChild:!0,...s,children:tt.jsx(bi.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Zp(t,i.triggerRef),onPointerDown:Te(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Te(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Vm.displayName=Hm;var B4="DropdownMenuPortal",Gm=n=>{const{__scopeDropdownMenu:t,...e}=n,r=Pn(t);return tt.jsx(d4,{...r,...e})};Gm.displayName=B4;var Ym="DropdownMenuContent",Zm=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Km(Ym,e),i=Pn(e),s=G.useRef(!1);return tt.jsx(p4,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:t,onCloseAutoFocus:Te(n.onCloseAutoFocus,a=>{var u;s.current||(u=o.triggerRef.current)==null||u.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Te(n.onInteractOutside,a=>{const u=a.detail.originalEvent,g=u.button===0&&u.ctrlKey===!0,m=u.button===2||g;(!o.modal||m)&&(s.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zm.displayName=Ym;var T4="DropdownMenuGroup",k4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(g4,{...o,...r,ref:t})});k4.displayName=T4;var L4="DropdownMenuLabel",R4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(m4,{...o,...r,ref:t})});R4.displayName=L4;var N4="DropdownMenuItem",Qm=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(w4,{...o,...r,ref:t})});Qm.displayName=N4;var C4="DropdownMenuCheckboxItem",O4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(y4,{...o,...r,ref:t})});O4.displayName=C4;var D4="DropdownMenuRadioGroup",U4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(b4,{...o,...r,ref:t})});U4.displayName=D4;var z4="DropdownMenuRadioItem",j4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(v4,{...o,...r,ref:t})});j4.displayName=z4;var P4="DropdownMenuItemIndicator",F4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(x4,{...o,...r,ref:t})});F4.displayName=P4;var $4="DropdownMenuSeparator",W4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(M4,{...o,...r,ref:t})});W4.displayName=$4;var K4="DropdownMenuArrow",q4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(E4,{...o,...r,ref:t})});q4.displayName=K4;var H4="DropdownMenuSubTrigger",V4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(S4,{...o,...r,ref:t})});V4.displayName=H4;var G4="DropdownMenuSubContent",Y4=G.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,o=Pn(e);return tt.jsx(A4,{...o,...r,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y4.displayName=G4;var Z4=qm,Q4=Vm,J4=Gm,X4=Zm,tB=Qm;function eB({...n}){return tt.jsx(Z4,{"data-slot":"dropdown-menu",...n})}function nB({...n}){return tt.jsx(Q4,{"data-slot":"dropdown-menu-trigger",...n})}function rB({className:n,sideOffset:t=4,...e}){return tt.jsx(J4,{children:tt.jsx(X4,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Lu("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...e})})}function mp({className:n,inset:t,variant:e="default",...r}){return tt.jsx(tB,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":e,className:Lu("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function wp({className:n,...t}){return tt.jsx("span",{"data-slot":"dropdown-menu-shortcut",className:Lu("text-muted-foreground ml-auto text-xs tracking-widest",n),...t})}function iB(){const[n,t]=G.useState(!1),{connectors:e,isConnected:r,address:o,disconnect:i}=Qy();return G.useEffect(()=>{r&&o&&t(!1)},[r,o]),tt.jsx(tt.Fragment,{children:r?tt.jsxs(eB,{children:[tt.jsx(nB,{asChild:!0,children:tt.jsx("div",{children:tt.jsx(df,{children:()=>tt.jsx(f0,{children:tt.jsxs("div",{className:"flex flex-row items-center gap-4",children:[o.slice(0,6),"...",o==null?void 0:o.slice(-4),tt.jsx(MI,{className:"size-4 transition-transform"})]})})})})}),tt.jsxs(rB,{align:"center",className:"w-48",children:[tt.jsx(Ty,{to:"/profile",children:tt.jsxs(mp,{className:"py-4",children:["My Profile",tt.jsx(wp,{children:tt.jsx(II,{className:"size-6"})})]})}),tt.jsxs(mp,{className:"py-4",onClick:i,children:["Log out",tt.jsx(wp,{children:tt.jsx(SI,{})})]})]})]}):tt.jsxs(Hy,{open:n,onOpenChange:t,children:[tt.jsx(df,{children:()=>tt.jsx(f0,{onClick:()=>t(!0),children:"Connect Wallet"})}),tt.jsx(Vy,{className:"pb-10",children:tt.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[tt.jsx(Gy,{children:tt.jsx(Yy,{className:"text-center font-bold",children:"Connect a Wallet"})}),tt.jsx("div",{className:"flex flex-col gap-10",children:e.map(s=>tt.jsx(sb,{onClick:async()=>{await s.connect(),t(!1)},iconB64:s.icon,direction:"left",className:"w-max",children:s.name},s.id))})]})})]})})}const oB=2e3;function sB({listTokens:n,titleChild:t,className:e}){const[r,o]=G.useState(0),[i,s]=G.useState("");return G.useEffect(()=>{const a=setInterval(()=>{o(u=>(u+1)%n.length)},oB);return()=>clearInterval(a)},[i]),G.useEffect(()=>{const a=n[r];s(`$${a.ticker}: ${String(parseFloat((Math.random()*9+1).toFixed(2)))}`)},[r]),tt.jsxs("div",{className:Lu("container mt-12 flex flex-row items-center justify-center gap-5",e),children:[tt.jsx(ky,{to:"/",children:tt.jsx("img",{src:"/logo-long-white-1.png",className:"h-11",alt:"GoFunding Logo"})}),t&&t,tt.jsx(df,{children:()=>tt.jsx(Zy,{title:`${i}K`,className:"grow text-center"})}),tt.jsx(iB,{})]})}var Jm={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function o(u,g,m){this.fn=u,this.context=g,this.once=m||!1}function i(u,g,m,x,B){if(typeof m!="function")throw new TypeError("The listener must be a function");var S=new o(m,x||u,B),k=e?e+g:g;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],S]:u._events[k].push(S):(u._events[k]=S,u._eventsCount++),u}function s(u,g){--u._eventsCount===0?u._events=new r:delete u._events[g]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var g=[],m,x;if(this._eventsCount===0)return g;for(x in m=this._events)t.call(m,x)&&g.push(e?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(m)):g},a.prototype.listeners=function(g){var m=e?e+g:g,x=this._events[m];if(!x)return[];if(x.fn)return[x.fn];for(var B=0,S=x.length,k=new Array(S);B<S;B++)k[B]=x[B].fn;return k},a.prototype.listenerCount=function(g){var m=e?e+g:g,x=this._events[m];return x?x.fn?1:x.length:0},a.prototype.emit=function(g,m,x,B,S,k){var T=e?e+g:g;if(!this._events[T])return!1;var I=this._events[T],N=arguments.length,O,R;if(I.fn){switch(I.once&&this.removeListener(g,I.fn,void 0,!0),N){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,m),!0;case 3:return I.fn.call(I.context,m,x),!0;case 4:return I.fn.call(I.context,m,x,B),!0;case 5:return I.fn.call(I.context,m,x,B,S),!0;case 6:return I.fn.call(I.context,m,x,B,S,k),!0}for(R=1,O=new Array(N-1);R<N;R++)O[R-1]=arguments[R];I.fn.apply(I.context,O)}else{var U=I.length,P;for(R=0;R<U;R++)switch(I[R].once&&this.removeListener(g,I[R].fn,void 0,!0),N){case 1:I[R].fn.call(I[R].context);break;case 2:I[R].fn.call(I[R].context,m);break;case 3:I[R].fn.call(I[R].context,m,x);break;case 4:I[R].fn.call(I[R].context,m,x,B);break;default:if(!O)for(P=1,O=new Array(N-1);P<N;P++)O[P-1]=arguments[P];I[R].fn.apply(I[R].context,O)}}return!0},a.prototype.on=function(g,m,x){return i(this,g,m,x,!1)},a.prototype.once=function(g,m,x){return i(this,g,m,x,!0)},a.prototype.removeListener=function(g,m,x,B){var S=e?e+g:g;if(!this._events[S])return this;if(!m)return s(this,S),this;var k=this._events[S];if(k.fn)k.fn===m&&(!B||k.once)&&(!x||k.context===x)&&s(this,S);else{for(var T=0,I=[],N=k.length;T<N;T++)(k[T].fn!==m||B&&!k[T].once||x&&k[T].context!==x)&&I.push(k[T]);I.length?this._events[S]=I.length===1?I[0]:I:s(this,S)}return this},a.prototype.removeAllListeners=function(g){var m;return g?(m=e?e+g:g,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(Jm);var aB=Jm.exports;const cB=yi(aB);class Fn extends Error{constructor(t,e){super(t),this.error=e}}class Ad extends Fn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Xm extends Fn{constructor(){super(...arguments),this.name="WalletLoadError"}}class tw extends Fn{constructor(){super(...arguments),this.name="WalletConfigError"}}class pu extends Fn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class ew extends Fn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Id extends Fn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class nw extends Fn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Fa extends Fn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class kn extends Fn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Bo extends Fn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Dr extends Fn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class _d extends Fn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var Ve;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(Ve||(Ve={}));class uB extends cB{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){const o=this.publicKey;if(!o)throw new kn;return t.feePayer=t.feePayer||o,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function rw(n){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(n())for(const i of t)i()}const r=setInterval(e,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function ih(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),t=n.includes("iphone")||n.includes("ipad"),e=n.includes("safari");return t&&e}function gu(n){return"version"in n}class lB extends uB{async sendTransaction(t,e,r={}){let o=!0;try{if(gu(t)){if(!this.supportedTransactionVersions)throw new Bo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Bo(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,r)}catch(i){throw i instanceof Dr?(o=!1,i):new Bo(i==null?void 0:i.message,i)}}else try{const{signers:i,...s}=r;t=await this.prepareTransaction(t,e,s),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await e.sendRawTransaction(a,s)}catch(i){throw i instanceof Dr?(o=!1,i):new Bo(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(gu(r)){if(!this.supportedTransactionVersions)throw new Dr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Dr(`Signing transaction version ${r.version} isn't supported by this wallet`)}const e=[];for(const r of t)e.push(await this.signTransaction(r));return e}}class Bd extends lB{}const fB="solana:signAndSendTransaction",hB="solana:signMessage",dB="solana:signTransaction",pB="standard:connect",gB="standard:disconnect",mB="standard:events";var fe={},ol={};ol.byteLength=bB;ol.toByteArray=xB;ol.fromByteArray=SB;var Cr=[],hr=[],wB=typeof Uint8Array<"u"?Uint8Array:Array,Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ts=0,yB=Ql.length;ts<yB;++ts)Cr[ts]=Ql[ts],hr[Ql.charCodeAt(ts)]=ts;hr[45]=62;hr[95]=63;function iw(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function bB(n){var t=iw(n),e=t[0],r=t[1];return(e+r)*3/4-r}function vB(n,t,e){return(t+e)*3/4-e}function xB(n){var t,e=iw(n),r=e[0],o=e[1],i=new wB(vB(n,r,o)),s=0,a=o>0?r-4:r,u;for(u=0;u<a;u+=4)t=hr[n.charCodeAt(u)]<<18|hr[n.charCodeAt(u+1)]<<12|hr[n.charCodeAt(u+2)]<<6|hr[n.charCodeAt(u+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=t&255;return o===2&&(t=hr[n.charCodeAt(u)]<<2|hr[n.charCodeAt(u+1)]>>4,i[s++]=t&255),o===1&&(t=hr[n.charCodeAt(u)]<<10|hr[n.charCodeAt(u+1)]<<4|hr[n.charCodeAt(u+2)]>>2,i[s++]=t>>8&255,i[s++]=t&255),i}function MB(n){return Cr[n>>18&63]+Cr[n>>12&63]+Cr[n>>6&63]+Cr[n&63]}function EB(n,t,e){for(var r,o=[],i=t;i<e;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),o.push(MB(r));return o.join("")}function SB(n){for(var t,e=n.length,r=e%3,o=[],i=16383,s=0,a=e-r;s<a;s+=i)o.push(EB(n,s,s+i>a?a:s+i));return r===1?(t=n[e-1],o.push(Cr[t>>2]+Cr[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],o.push(Cr[t>>10]+Cr[t>>4&63]+Cr[t<<2&63]+"=")),o.join("")}var Td={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Td.read=function(n,t,e,r,o){var i,s,a=o*8-r-1,u=(1<<a)-1,g=u>>1,m=-7,x=e?o-1:0,B=e?-1:1,S=n[t+x];for(x+=B,i=S&(1<<-m)-1,S>>=-m,m+=a;m>0;i=i*256+n[t+x],x+=B,m-=8);for(s=i&(1<<-m)-1,i>>=-m,m+=r;m>0;s=s*256+n[t+x],x+=B,m-=8);if(i===0)i=1-g;else{if(i===u)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-g}return(S?-1:1)*s*Math.pow(2,i-r)};Td.write=function(n,t,e,r,o,i){var s,a,u,g=i*8-o-1,m=(1<<g)-1,x=m>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:i-1,k=r?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=m):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+x>=1?t+=B/u:t+=B*Math.pow(2,1-x),t*u>=2&&(s++,u/=2),s+x>=m?(a=0,s=m):s+x>=1?(a=(t*u-1)*Math.pow(2,o),s=s+x):(a=t*Math.pow(2,x-1)*Math.pow(2,o),s=0));o>=8;n[e+S]=a&255,S+=k,a/=256,o-=8);for(s=s<<o|a,g+=o;g>0;n[e+S]=s&255,S+=k,s/=256,g-=8);n[e+S-k]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=ol,e=Td,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=O,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const y=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(y,l),y.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');const l=new Uint8Array(y);return Object.setPrototypeOf(l,a.prototype),l}function a(y,l,h){if(typeof y=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(y)}return u(y,l,h)}a.poolSize=8192;function u(y,l,h){if(typeof y=="string")return B(y,l);if(ArrayBuffer.isView(y))return k(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(we(y,ArrayBuffer)||y&&we(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(y,SharedArrayBuffer)||y&&we(y.buffer,SharedArrayBuffer)))return T(y,l,h);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=y.valueOf&&y.valueOf();if(E!=null&&E!==y)return a.from(E,l,h);const C=I(y);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return a.from(y[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}a.from=function(y,l,h){return u(y,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function m(y,l,h){return g(y),y<=0?s(y):l!==void 0?typeof h=="string"?s(y).fill(l,h):s(y).fill(l):s(y)}a.alloc=function(y,l,h){return m(y,l,h)};function x(y){return g(y),s(y<0?0:N(y)|0)}a.allocUnsafe=function(y){return x(y)},a.allocUnsafeSlow=function(y){return x(y)};function B(y,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=R(y,l)|0;let E=s(h);const C=E.write(y,l);return C!==h&&(E=E.slice(0,C)),E}function S(y){const l=y.length<0?0:N(y.length)|0,h=s(l);for(let E=0;E<l;E+=1)h[E]=y[E]&255;return h}function k(y){if(we(y,Uint8Array)){const l=new Uint8Array(y);return T(l.buffer,l.byteOffset,l.byteLength)}return S(y)}function T(y,l,h){if(l<0||y.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let E;return l===void 0&&h===void 0?E=new Uint8Array(y):h===void 0?E=new Uint8Array(y,l):E=new Uint8Array(y,l,h),Object.setPrototypeOf(E,a.prototype),E}function I(y){if(a.isBuffer(y)){const l=N(y.length)|0,h=s(l);return h.length===0||y.copy(h,0,0,l),h}if(y.length!==void 0)return typeof y.length!="number"||Nt(y.length)?s(0):S(y);if(y.type==="Buffer"&&Array.isArray(y.data))return S(y.data)}function N(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function O(y){return+y!=y&&(y=0),a.alloc(+y)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(we(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),we(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let E=l.length,C=h.length;for(let D=0,z=Math.min(E,C);D<z;++D)if(l[D]!==h[D]){E=l[D],C=h[D];break}return E<C?-1:C<E?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let E;if(h===void 0)for(h=0,E=0;E<l.length;++E)h+=l[E].length;const C=a.allocUnsafe(h);let D=0;for(E=0;E<l.length;++E){let z=l[E];if(we(z,Uint8Array))D+z.length>C.length?(a.isBuffer(z)||(z=a.from(z)),z.copy(C,D)):Uint8Array.prototype.set.call(C,z,D);else if(a.isBuffer(z))z.copy(C,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=z.length}return C};function R(y,l){if(a.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||we(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const h=y.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&h===0)return 0;let C=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return _t(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Rt(y).length;default:if(C)return E?-1:_t(y).length;l=(""+l).toLowerCase(),C=!0}}a.byteLength=R;function U(y,l,h){let E=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(y||(y="utf8");;)switch(y){case"hex":return M(this,l,h);case"utf8":case"utf-8":return c(this,l,h);case"ascii":return w(this,l,h);case"latin1":case"binary":return b(this,l,h);case"base64":return _(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,l,h);default:if(E)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function P(y,l,h){const E=y[l];y[l]=y[h],y[h]=E}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)P(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)P(this,h,h+3),P(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)P(this,h,h+7),P(this,h+1,h+6),P(this,h+2,h+5),P(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?c(this,0,l):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=n.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,h,E,C,D){if(we(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),E===void 0&&(E=l?l.length:0),C===void 0&&(C=0),D===void 0&&(D=this.length),h<0||E>l.length||C<0||D>this.length)throw new RangeError("out of range index");if(C>=D&&h>=E)return 0;if(C>=D)return-1;if(h>=E)return 1;if(h>>>=0,E>>>=0,C>>>=0,D>>>=0,this===l)return 0;let z=D-C,gt=E-h;const lt=Math.min(z,gt),ct=this.slice(C,D),zt=l.slice(h,E);for(let at=0;at<lt;++at)if(ct[at]!==zt[at]){z=ct[at],gt=zt[at];break}return z<gt?-1:gt<z?1:0};function j(y,l,h,E,C){if(y.length===0)return-1;if(typeof h=="string"?(E=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Nt(h)&&(h=C?0:y.length-1),h<0&&(h=y.length+h),h>=y.length){if(C)return-1;h=y.length-1}else if(h<0)if(C)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,E)),a.isBuffer(l))return l.length===0?-1:F(y,l,h,E,C);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(y,l,h):Uint8Array.prototype.lastIndexOf.call(y,l,h):F(y,[l],h,E,C);throw new TypeError("val must be string, number or Buffer")}function F(y,l,h,E,C){let D=1,z=y.length,gt=l.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(y.length<2||l.length<2)return-1;D=2,z/=2,gt/=2,h/=2}function lt(zt,at){return D===1?zt[at]:zt.readUInt16BE(at*D)}let ct;if(C){let zt=-1;for(ct=h;ct<z;ct++)if(lt(y,ct)===lt(l,zt===-1?0:ct-zt)){if(zt===-1&&(zt=ct),ct-zt+1===gt)return zt*D}else zt!==-1&&(ct-=ct-zt),zt=-1}else for(h+gt>z&&(h=z-gt),ct=h;ct>=0;ct--){let zt=!0;for(let at=0;at<gt;at++)if(lt(y,ct+at)!==lt(l,at)){zt=!1;break}if(zt)return ct}return-1}a.prototype.includes=function(l,h,E){return this.indexOf(l,h,E)!==-1},a.prototype.indexOf=function(l,h,E){return j(this,l,h,E,!0)},a.prototype.lastIndexOf=function(l,h,E){return j(this,l,h,E,!1)};function $(y,l,h,E){h=Number(h)||0;const C=y.length-h;E?(E=Number(E),E>C&&(E=C)):E=C;const D=l.length;E>D/2&&(E=D/2);let z;for(z=0;z<E;++z){const gt=parseInt(l.substr(z*2,2),16);if(Nt(gt))return z;y[h+z]=gt}return z}function K(y,l,h,E){return Bt(_t(l,y.length-h),y,h,E)}function nt(y,l,h,E){return Bt(Ut(l),y,h,E)}function J(y,l,h,E){return Bt(Rt(l),y,h,E)}function X(y,l,h,E){return Bt(nn(l,y.length-h),y,h,E)}a.prototype.write=function(l,h,E,C){if(h===void 0)C="utf8",E=this.length,h=0;else if(E===void 0&&typeof h=="string")C=h,E=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(E)?(E=E>>>0,C===void 0&&(C="utf8")):(C=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-h;if((E===void 0||E>D)&&(E=D),l.length>0&&(E<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let z=!1;for(;;)switch(C){case"hex":return $(this,l,h,E);case"utf8":case"utf-8":return K(this,l,h,E);case"ascii":case"latin1":case"binary":return nt(this,l,h,E);case"base64":return J(this,l,h,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,l,h,E);default:if(z)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(y,l,h){return l===0&&h===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(l,h))}function c(y,l,h){h=Math.min(y.length,h);const E=[];let C=l;for(;C<h;){const D=y[C];let z=null,gt=D>239?4:D>223?3:D>191?2:1;if(C+gt<=h){let lt,ct,zt,at;switch(gt){case 1:D<128&&(z=D);break;case 2:lt=y[C+1],(lt&192)===128&&(at=(D&31)<<6|lt&63,at>127&&(z=at));break;case 3:lt=y[C+1],ct=y[C+2],(lt&192)===128&&(ct&192)===128&&(at=(D&15)<<12|(lt&63)<<6|ct&63,at>2047&&(at<55296||at>57343)&&(z=at));break;case 4:lt=y[C+1],ct=y[C+2],zt=y[C+3],(lt&192)===128&&(ct&192)===128&&(zt&192)===128&&(at=(D&15)<<18|(lt&63)<<12|(ct&63)<<6|zt&63,at>65535&&at<1114112&&(z=at))}}z===null?(z=65533,gt=1):z>65535&&(z-=65536,E.push(z>>>10&1023|55296),z=56320|z&1023),E.push(z),C+=gt}return p(E)}const d=4096;function p(y){const l=y.length;if(l<=d)return String.fromCharCode.apply(String,y);let h="",E=0;for(;E<l;)h+=String.fromCharCode.apply(String,y.slice(E,E+=d));return h}function w(y,l,h){let E="";h=Math.min(y.length,h);for(let C=l;C<h;++C)E+=String.fromCharCode(y[C]&127);return E}function b(y,l,h){let E="";h=Math.min(y.length,h);for(let C=l;C<h;++C)E+=String.fromCharCode(y[C]);return E}function M(y,l,h){const E=y.length;(!l||l<0)&&(l=0),(!h||h<0||h>E)&&(h=E);let C="";for(let D=l;D<h;++D)C+=Ft[y[D]];return C}function L(y,l,h){const E=y.slice(l,h);let C="";for(let D=0;D<E.length-1;D+=2)C+=String.fromCharCode(E[D]+E[D+1]*256);return C}a.prototype.slice=function(l,h){const E=this.length;l=~~l,h=h===void 0?E:~~h,l<0?(l+=E,l<0&&(l=0)):l>E&&(l=E),h<0?(h+=E,h<0&&(h=0)):h>E&&(h=E),h<l&&(h=l);const C=this.subarray(l,h);return Object.setPrototypeOf(C,a.prototype),C};function v(y,l,h){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=this[l],D=1,z=0;for(;++z<h&&(D*=256);)C+=this[l+z]*D;return C},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=this[l+--h],D=1;for(;h>0&&(D*=256);)C+=this[l+--h]*D;return C},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||v(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||v(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||v(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||v(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||v(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,D=this[++l]+this[++l]*2**8+this[++l]*2**16+E*2**24;return BigInt(C)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],D=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+E;return(BigInt(C)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=this[l],D=1,z=0;for(;++z<h&&(D*=256);)C+=this[l+z]*D;return D*=128,C>=D&&(C-=Math.pow(2,8*h)),C},a.prototype.readIntBE=function(l,h,E){l=l>>>0,h=h>>>0,E||v(l,h,this.length);let C=h,D=1,z=this[l+--C];for(;C>0&&(D*=256);)z+=this[l+--C]*D;return D*=128,z>=D&&(z-=Math.pow(2,8*h)),z},a.prototype.readInt8=function(l,h){return l=l>>>0,h||v(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||v(l,2,this.length);const E=this[l]|this[l+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||v(l,2,this.length);const E=this[l+1]|this[l]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||v(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||v(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(E<<24);return(BigInt(C)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ee(function(l){l=l>>>0,jt(l,"offset");const h=this[l],E=this[l+7];(h===void 0||E===void 0)&&wt(l,this.length-8);const C=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(C)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+E)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||v(l,4,this.length),e.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||v(l,4,this.length),e.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||v(l,8,this.length),e.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||v(l,8,this.length),e.read(this,l,!1,52,8)};function f(y,l,h,E,C,D){if(!a.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>C||l<D)throw new RangeError('"value" argument is out of bounds');if(h+E>y.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,E,C){if(l=+l,h=h>>>0,E=E>>>0,!C){const gt=Math.pow(2,8*E)-1;f(this,l,h,E,gt,0)}let D=1,z=0;for(this[h]=l&255;++z<E&&(D*=256);)this[h+z]=l/D&255;return h+E},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,E,C){if(l=+l,h=h>>>0,E=E>>>0,!C){const gt=Math.pow(2,8*E)-1;f(this,l,h,E,gt,0)}let D=E-1,z=1;for(this[h+D]=l&255;--D>=0&&(z*=256);)this[h+D]=l/z&255;return h+E},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function A(y,l,h,E,C){ht(l,E,C,y,h,7);let D=Number(l&BigInt(4294967295));y[h++]=D,D=D>>8,y[h++]=D,D=D>>8,y[h++]=D,D=D>>8,y[h++]=D;let z=Number(l>>BigInt(32)&BigInt(4294967295));return y[h++]=z,z=z>>8,y[h++]=z,z=z>>8,y[h++]=z,z=z>>8,y[h++]=z,h}function W(y,l,h,E,C){ht(l,E,C,y,h,7);let D=Number(l&BigInt(4294967295));y[h+7]=D,D=D>>8,y[h+6]=D,D=D>>8,y[h+5]=D,D=D>>8,y[h+4]=D;let z=Number(l>>BigInt(32)&BigInt(4294967295));return y[h+3]=z,z=z>>8,y[h+2]=z,z=z>>8,y[h+1]=z,z=z>>8,y[h]=z,h+8}a.prototype.writeBigUInt64LE=Ee(function(l,h=0){return A(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ee(function(l,h=0){return W(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,E,C){if(l=+l,h=h>>>0,!C){const lt=Math.pow(2,8*E-1);f(this,l,h,E,lt-1,-lt)}let D=0,z=1,gt=0;for(this[h]=l&255;++D<E&&(z*=256);)l<0&&gt===0&&this[h+D-1]!==0&&(gt=1),this[h+D]=(l/z>>0)-gt&255;return h+E},a.prototype.writeIntBE=function(l,h,E,C){if(l=+l,h=h>>>0,!C){const lt=Math.pow(2,8*E-1);f(this,l,h,E,lt-1,-lt)}let D=E-1,z=1,gt=0;for(this[h+D]=l&255;--D>=0&&(z*=256);)l<0&&gt===0&&this[h+D+1]!==0&&(gt=1),this[h+D]=(l/z>>0)-gt&255;return h+E},a.prototype.writeInt8=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,E){return l=+l,h=h>>>0,E||f(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=Ee(function(l,h=0){return A(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ee(function(l,h=0){return W(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(y,l,h,E,C,D){if(h+E>y.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function H(y,l,h,E,C){return l=+l,h=h>>>0,C||q(y,l,h,4),e.write(y,l,h,E,23,4),h+4}a.prototype.writeFloatLE=function(l,h,E){return H(this,l,h,!0,E)},a.prototype.writeFloatBE=function(l,h,E){return H(this,l,h,!1,E)};function ut(y,l,h,E,C){return l=+l,h=h>>>0,C||q(y,l,h,8),e.write(y,l,h,E,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,E){return ut(this,l,h,!0,E)},a.prototype.writeDoubleBE=function(l,h,E){return ut(this,l,h,!1,E)},a.prototype.copy=function(l,h,E,C){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(E||(E=0),!C&&C!==0&&(C=this.length),h>=l.length&&(h=l.length),h||(h=0),C>0&&C<E&&(C=E),C===E||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),l.length-h<C-E&&(C=l.length-h+E);const D=C-E;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,E,C):Uint8Array.prototype.set.call(l,this.subarray(E,C),h),D},a.prototype.fill=function(l,h,E,C){if(typeof l=="string"){if(typeof h=="string"?(C=h,h=0,E=this.length):typeof E=="string"&&(C=E,E=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(l.length===1){const z=l.charCodeAt(0);(C==="utf8"&&z<128||C==="latin1")&&(l=z)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<E)throw new RangeError("Out of range index");if(E<=h)return this;h=h>>>0,E=E===void 0?this.length:E>>>0,l||(l=0);let D;if(typeof l=="number")for(D=h;D<E;++D)this[D]=l;else{const z=a.isBuffer(l)?l:a.from(l,C),gt=z.length;if(gt===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(D=0;D<E-h;++D)this[D+h]=z[D%gt]}return this};const et={};function rt(y,l,h){et[y]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(y,l){return`The "${y}" argument must be of type number. Received type ${typeof l}`},TypeError),rt("ERR_OUT_OF_RANGE",function(y,l,h){let E=`The value of "${y}" is out of range.`,C=h;return Number.isInteger(h)&&Math.abs(h)>2**32?C=Pt(String(h)):typeof h=="bigint"&&(C=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(C=Pt(C)),C+="n"),E+=` It must be ${l}. Received ${C}`,E},RangeError);function Pt(y){let l="",h=y.length;const E=y[0]==="-"?1:0;for(;h>=E+4;h-=3)l=`_${y.slice(h-3,h)}${l}`;return`${y.slice(0,h)}${l}`}function pt(y,l,h){jt(l,"offset"),(y[l]===void 0||y[l+h]===void 0)&&wt(l,y.length-(h+1))}function ht(y,l,h,E,C,D){if(y>h||y<l){const z=typeof l=="bigint"?"n":"";let gt;throw l===0||l===BigInt(0)?gt=`>= 0${z} and < 2${z} ** ${(D+1)*8}${z}`:gt=`>= -(2${z} ** ${(D+1)*8-1}${z}) and < 2 ** ${(D+1)*8-1}${z}`,new et.ERR_OUT_OF_RANGE("value",gt,y)}pt(E,C,D)}function jt(y,l){if(typeof y!="number")throw new et.ERR_INVALID_ARG_TYPE(l,"number",y)}function wt(y,l,h){throw Math.floor(y)!==y?(jt(y,h),new et.ERR_OUT_OF_RANGE("offset","an integer",y)):l<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,y)}const Mt=/[^+/0-9A-Za-z-_]/g;function yn(y){if(y=y.split("=")[0],y=y.trim().replace(Mt,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function _t(y,l){l=l||1/0;let h;const E=y.length;let C=null;const D=[];for(let z=0;z<E;++z){if(h=y.charCodeAt(z),h>55295&&h<57344){if(!C){if(h>56319){(l-=3)>-1&&D.push(239,191,189);continue}else if(z+1===E){(l-=3)>-1&&D.push(239,191,189);continue}C=h;continue}if(h<56320){(l-=3)>-1&&D.push(239,191,189),C=h;continue}h=(C-55296<<10|h-56320)+65536}else C&&(l-=3)>-1&&D.push(239,191,189);if(C=null,h<128){if((l-=1)<0)break;D.push(h)}else if(h<2048){if((l-=2)<0)break;D.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;D.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;D.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return D}function Ut(y){const l=[];for(let h=0;h<y.length;++h)l.push(y.charCodeAt(h)&255);return l}function nn(y,l){let h,E,C;const D=[];for(let z=0;z<y.length&&!((l-=2)<0);++z)h=y.charCodeAt(z),E=h>>8,C=h%256,D.push(C),D.push(E);return D}function Rt(y){return t.toByteArray(yn(y))}function Bt(y,l,h,E){let C;for(C=0;C<E&&!(C+h>=l.length||C>=y.length);++C)l[C+h]=y[C];return C}function we(y,l){return y instanceof l||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===l.name}function Nt(y){return y!==y}const Ft=function(){const y="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const E=h*16;for(let C=0;C<16;++C)l[E+C]=y[h]+y[C]}return l}();function Ee(y){return typeof BigInt>"u"?$t:y}function $t(){throw new Error("BigInt not supported")}})(fe);const es=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AB(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function oh(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function tc(n,...t){if(!AB(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function IB(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");oh(n.outputLen),oh(n.blockLen)}function mu(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function _B(n,t){tc(n);const e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}function Ws(...n){for(let t=0;t<n.length;t++)n[t].fill(0)}function Jl(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function kr(n,t){return n<<32-t|n>>>t}function BB(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function kd(n){return typeof n=="string"&&(n=BB(n)),tc(n),n}function TB(...n){let t=0;for(let r=0;r<n.length;r++){const o=n[r];tc(o),t+=o.length}const e=new Uint8Array(t);for(let r=0,o=0;r<n.length;r++){const i=n[r];e.set(i,o),o+=i.length}return e}class ow{}function sw(n){const t=r=>n().update(kd(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function aw(n=32){if(es&&typeof es.getRandomValues=="function")return es.getRandomValues(new Uint8Array(n));if(es&&typeof es.randomBytes=="function")return Uint8Array.from(es.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function kB(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),a=Number(e&i),u=r?4:0,g=r?0:4;n.setUint32(t+u,s,r),n.setUint32(t+g,a,r)}function LB(n,t,e){return n&t^~n&e}function RB(n,t,e){return n&t^n&e^t&e}class cw extends ow{constructor(t,e,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Jl(this.buffer)}update(t){mu(this),t=kd(t),tc(t);const{view:e,buffer:r,blockLen:o}=this,i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const u=Jl(t);for(;o<=i-s;s+=o)this.process(u,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){mu(this),_B(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;e[s++]=128,Ws(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(r,0),s=0);for(let x=s;x<o;x++)e[x]=0;kB(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=Jl(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=u/4,m=this.get();if(g>m.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<g;x++)a.setUint32(4*x,m[x],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=i,t.length=o,t.pos=a,o%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ai=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),En=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),bc=BigInt(2**32-1),yp=BigInt(32);function NB(n,t=!1){return t?{h:Number(n&bc),l:Number(n>>yp&bc)}:{h:Number(n>>yp&bc)|0,l:Number(n&bc)|0}}function CB(n,t=!1){const e=n.length;let r=new Uint32Array(e),o=new Uint32Array(e);for(let i=0;i<e;i++){const{h:s,l:a}=NB(n[i],t);[r[i],o[i]]=[s,a]}return[r,o]}const bp=(n,t,e)=>n>>>e,vp=(n,t,e)=>n<<32-e|t>>>e,ns=(n,t,e)=>n>>>e|t<<32-e,rs=(n,t,e)=>n<<32-e|t>>>e,vc=(n,t,e)=>n<<64-e|t>>>e-32,xc=(n,t,e)=>n>>>e-32|t<<64-e;function Zr(n,t,e,r){const o=(t>>>0)+(r>>>0);return{h:n+e+(o/2**32|0)|0,l:o|0}}const OB=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),DB=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,UB=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),zB=(n,t,e,r,o)=>t+e+r+o+(n/2**32|0)|0,jB=(n,t,e,r,o)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(o>>>0),PB=(n,t,e,r,o,i)=>t+e+r+o+i+(n/2**32|0)|0,FB=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ii=new Uint32Array(64);class $B extends cw{constructor(t=32){super(64,t,8,!1),this.A=Ai[0]|0,this.B=Ai[1]|0,this.C=Ai[2]|0,this.D=Ai[3]|0,this.E=Ai[4]|0,this.F=Ai[5]|0,this.G=Ai[6]|0,this.H=Ai[7]|0}get(){const{A:t,B:e,C:r,D:o,E:i,F:s,G:a,H:u}=this;return[t,e,r,o,i,s,a,u]}set(t,e,r,o,i,s,a,u){this.A=t|0,this.B=e|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=u|0}process(t,e){for(let x=0;x<16;x++,e+=4)Ii[x]=t.getUint32(e,!1);for(let x=16;x<64;x++){const B=Ii[x-15],S=Ii[x-2],k=kr(B,7)^kr(B,18)^B>>>3,T=kr(S,17)^kr(S,19)^S>>>10;Ii[x]=T+Ii[x-7]+k+Ii[x-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:u,G:g,H:m}=this;for(let x=0;x<64;x++){const B=kr(a,6)^kr(a,11)^kr(a,25),S=m+B+LB(a,u,g)+FB[x]+Ii[x]|0,T=(kr(r,2)^kr(r,13)^kr(r,22))+RB(r,o,i)|0;m=g,g=u,u=a,a=s+S|0,s=i,i=o,o=r,r=S+T|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,u=u+this.F|0,g=g+this.G|0,m=m+this.H|0,this.set(r,o,i,s,a,u,g,m)}roundClean(){Ws(Ii)}destroy(){this.set(0,0,0,0,0,0,0,0),Ws(this.buffer)}}const uw=CB(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),WB=uw[0],KB=uw[1],_i=new Uint32Array(80),Bi=new Uint32Array(80);class qB extends cw{constructor(t=64){super(128,t,16,!1),this.Ah=En[0]|0,this.Al=En[1]|0,this.Bh=En[2]|0,this.Bl=En[3]|0,this.Ch=En[4]|0,this.Cl=En[5]|0,this.Dh=En[6]|0,this.Dl=En[7]|0,this.Eh=En[8]|0,this.El=En[9]|0,this.Fh=En[10]|0,this.Fl=En[11]|0,this.Gh=En[12]|0,this.Gl=En[13]|0,this.Hh=En[14]|0,this.Hl=En[15]|0}get(){const{Ah:t,Al:e,Bh:r,Bl:o,Ch:i,Cl:s,Dh:a,Dl:u,Eh:g,El:m,Fh:x,Fl:B,Gh:S,Gl:k,Hh:T,Hl:I}=this;return[t,e,r,o,i,s,a,u,g,m,x,B,S,k,T,I]}set(t,e,r,o,i,s,a,u,g,m,x,B,S,k,T,I){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=u|0,this.Eh=g|0,this.El=m|0,this.Fh=x|0,this.Fl=B|0,this.Gh=S|0,this.Gl=k|0,this.Hh=T|0,this.Hl=I|0}process(t,e){for(let R=0;R<16;R++,e+=4)_i[R]=t.getUint32(e),Bi[R]=t.getUint32(e+=4);for(let R=16;R<80;R++){const U=_i[R-15]|0,P=Bi[R-15]|0,j=ns(U,P,1)^ns(U,P,8)^bp(U,P,7),F=rs(U,P,1)^rs(U,P,8)^vp(U,P,7),$=_i[R-2]|0,K=Bi[R-2]|0,nt=ns($,K,19)^vc($,K,61)^bp($,K,6),J=rs($,K,19)^xc($,K,61)^vp($,K,6),X=UB(F,J,Bi[R-7],Bi[R-16]),_=zB(X,j,nt,_i[R-7],_i[R-16]);_i[R]=_|0,Bi[R]=X|0}let{Ah:r,Al:o,Bh:i,Bl:s,Ch:a,Cl:u,Dh:g,Dl:m,Eh:x,El:B,Fh:S,Fl:k,Gh:T,Gl:I,Hh:N,Hl:O}=this;for(let R=0;R<80;R++){const U=ns(x,B,14)^ns(x,B,18)^vc(x,B,41),P=rs(x,B,14)^rs(x,B,18)^xc(x,B,41),j=x&S^~x&T,F=B&k^~B&I,$=jB(O,P,F,KB[R],Bi[R]),K=PB($,N,U,j,WB[R],_i[R]),nt=$|0,J=ns(r,o,28)^vc(r,o,34)^vc(r,o,39),X=rs(r,o,28)^xc(r,o,34)^xc(r,o,39),_=r&i^r&a^i&a,c=o&s^o&u^s&u;N=T|0,O=I|0,T=S|0,I=k|0,S=x|0,k=B|0,{h:x,l:B}=Zr(g|0,m|0,K|0,nt|0),g=a|0,m=u|0,a=i|0,u=s|0,i=r|0,s=o|0;const d=OB(nt,X,c);r=DB(d,K,J,_),o=d|0}({h:r,l:o}=Zr(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:s}=Zr(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:u}=Zr(this.Ch|0,this.Cl|0,a|0,u|0),{h:g,l:m}=Zr(this.Dh|0,this.Dl|0,g|0,m|0),{h:x,l:B}=Zr(this.Eh|0,this.El|0,x|0,B|0),{h:S,l:k}=Zr(this.Fh|0,this.Fl|0,S|0,k|0),{h:T,l:I}=Zr(this.Gh|0,this.Gl|0,T|0,I|0),{h:N,l:O}=Zr(this.Hh|0,this.Hl|0,N|0,O|0),this.set(r,o,i,s,a,u,g,m,x,B,S,k,T,I,N,O)}roundClean(){Ws(_i,Bi)}destroy(){Ws(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const lw=sw(()=>new $B),HB=sw(()=>new qB);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ld=BigInt(0),sh=BigInt(1);function Ks(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Rd(n){if(!Ks(n))throw new Error("Uint8Array expected")}function $i(n,t){if(typeof t!="boolean")throw new Error(n+" boolean expected, got "+t)}function Mc(n){const t=n.toString(16);return t.length&1?"0"+t:t}function fw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Ld:BigInt("0x"+n)}const hw=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",VB=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function qs(n){if(Rd(n),hw)return n.toHex();let t="";for(let e=0;e<n.length;e++)t+=VB[n[e]];return t}const Qr={_0:48,_9:57,A:65,F:70,a:97,f:102};function xp(n){if(n>=Qr._0&&n<=Qr._9)return n-Qr._0;if(n>=Qr.A&&n<=Qr.F)return n-(Qr.A-10);if(n>=Qr.a&&n<=Qr.f)return n-(Qr.a-10)}function wu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(hw)return Uint8Array.fromHex(n);const t=n.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(e);for(let o=0,i=0;o<e;o++,i+=2){const s=xp(n.charCodeAt(i)),a=xp(n.charCodeAt(i+1));if(s===void 0||a===void 0){const u=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[o]=s*16+a}return r}function Co(n){return fw(qs(n))}function Ta(n){return Rd(n),fw(qs(Uint8Array.from(n).reverse()))}function $a(n,t){return wu(n.toString(16).padStart(t*2,"0"))}function yu(n,t){return $a(n,t).reverse()}function Je(n,t,e){let r;if(typeof t=="string")try{r=wu(t)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(Ks(t))r=Uint8Array.from(t);else throw new Error(n+" must be hex string or Uint8Array");const o=r.length;if(typeof e=="number"&&o!==e)throw new Error(n+" of length "+e+" expected, got "+o);return r}function Hs(...n){let t=0;for(let r=0;r<n.length;r++){const o=n[r];Rd(o),t+=o.length}const e=new Uint8Array(t);for(let r=0,o=0;r<n.length;r++){const i=n[r];e.set(i,o),o+=i.length}return e}const Xl=n=>typeof n=="bigint"&&Ld<=n;function Nd(n,t,e){return Xl(n)&&Xl(t)&&Xl(e)&&t<=n&&n<e}function xr(n,t,e,r){if(!Nd(t,e,r))throw new Error("expected valid "+n+": "+e+" <= n < "+r+", got "+t)}function GB(n){let t;for(t=0;n>Ld;n>>=sh,t+=1);return t}const sl=n=>(sh<<BigInt(n))-sh,tf=n=>new Uint8Array(n),Mp=n=>Uint8Array.from(n);function YB(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=tf(n),o=tf(n),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...x)=>e(o,r,...x),u=(x=tf(0))=>{o=a(Mp([0]),x),r=a(),x.length!==0&&(o=a(Mp([1]),x),r=a())},g=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const B=[];for(;x<t;){r=a();const S=r.slice();B.push(S),x+=r.length}return Hs(...B)};return(x,B)=>{s(),u(x);let S;for(;!(S=B(g()));)u();return s(),S}}const ZB={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Ks(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function ec(n,t,e={}){const r=(o,i,s)=>{const a=ZB[i];if(typeof a!="function")throw new Error("invalid validator function");const u=n[o];if(!(s&&u===void 0)&&!a(u,n))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+u)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(e))r(o,i,!0);return n}function bu(n){const t=new WeakMap;return(e,...r)=>{const o=t.get(e);if(o!==void 0)return o;const i=n(e,...r);return t.set(e,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vn=BigInt(0),cn=BigInt(1),To=BigInt(2),QB=BigInt(3),ah=BigInt(4),Ep=BigInt(5),Sp=BigInt(8);function Ne(n,t){const e=n%t;return e>=Vn?e:t+e}function $e(n,t,e){let r=n;for(;t-- >Vn;)r*=r,r%=e;return r}function ch(n,t){if(n===Vn)throw new Error("invert: expected non-zero number");if(t<=Vn)throw new Error("invert: expected positive modulus, got "+t);let e=Ne(n,t),r=t,o=Vn,i=cn;for(;e!==Vn;){const a=r/e,u=r%e,g=o-i*a;r=e,e=u,o=i,i=g}if(r!==cn)throw new Error("invert: does not exist");return Ne(o,t)}function JB(n){let t=n-cn,e=0;for(;t%To===Vn;)t/=To,e++;let r=To;const o=nc(n);for(;r<n&&Ap(o,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(e===1){const s=(n+cn)/ah;return function(u,g){const m=u.pow(g,s);if(!u.eql(u.sqr(m),g))throw new Error("Cannot find square root");return m}}const i=(t+cn)/To;return function(a,u){if(!Ap(a,u))throw new Error("Cannot find square root");let g=e,m=a.pow(a.mul(a.ONE,r),t),x=a.pow(u,i),B=a.pow(u,t);for(;!a.eql(B,a.ONE);){if(a.eql(B,a.ZERO))return a.ZERO;let S=1;for(let T=a.sqr(B);S<g&&!a.eql(T,a.ONE);S++)T=a.sqr(T);const k=a.pow(m,cn<<BigInt(g-S-1));m=a.sqr(k),x=a.mul(x,k),B=a.mul(B,m),g=S}return x}}function XB(n){return n%ah===QB?function(e,r){const o=(n+cn)/ah,i=e.pow(r,o);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}:n%Sp===Ep?function(e,r){const o=e.mul(r,To),i=(n-Ep)/Sp,s=e.pow(o,i),a=e.mul(r,s),u=e.mul(e.mul(a,To),s),g=e.mul(a,e.sub(u,e.ONE));if(!e.eql(e.sqr(g),r))throw new Error("Cannot find square root");return g}:JB(n)}const t3=(n,t)=>(Ne(n,t)&cn)===cn,e3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n3(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=e3.reduce((r,o)=>(r[o]="function",r),t);return ec(n,e)}function r3(n,t,e){if(e<Vn)throw new Error("invalid exponent, negatives unsupported");if(e===Vn)return n.ONE;if(e===cn)return t;let r=n.ONE,o=t;for(;e>Vn;)e&cn&&(r=n.mul(r,o)),o=n.sqr(o),e>>=cn;return r}function Cd(n,t,e=!1){const r=new Array(t.length).fill(e?n.ZERO:void 0),o=t.reduce((s,a,u)=>n.is0(a)?s:(r[u]=s,n.mul(s,a)),n.ONE),i=n.inv(o);return t.reduceRight((s,a,u)=>n.is0(a)?s:(r[u]=n.mul(s,r[u]),n.mul(s,a)),i),r}function i3(n,t){const e=(n.ORDER-cn)/To,r=n.pow(t,e),o=n.eql(r,n.ONE),i=n.eql(r,n.ZERO),s=n.eql(r,n.neg(n.ONE));if(!o&&!i&&!s)throw new Error("Cannot find square root: probably non-prime P");return o?1:i?0:-1}function Ap(n,t){const e=i3(n,t);return e===0||e===1}function dw(n,t){t!==void 0&&oh(t);const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function nc(n,t,e=!1,r={}){if(n<=Vn)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:o,nByteLength:i}=dw(n,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:n,isLE:e,BITS:o,BYTES:i,MASK:sl(o),ZERO:Vn,ONE:cn,create:u=>Ne(u,n),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Vn<=u&&u<n},is0:u=>u===Vn,isOdd:u=>(u&cn)===cn,neg:u=>Ne(-u,n),eql:(u,g)=>u===g,sqr:u=>Ne(u*u,n),add:(u,g)=>Ne(u+g,n),sub:(u,g)=>Ne(u-g,n),mul:(u,g)=>Ne(u*g,n),pow:(u,g)=>r3(a,u,g),div:(u,g)=>Ne(u*ch(g,n),n),sqrN:u=>u*u,addN:(u,g)=>u+g,subN:(u,g)=>u-g,mulN:(u,g)=>u*g,inv:u=>ch(u,n),sqrt:r.sqrt||(u=>(s||(s=XB(n)),s(a,u))),toBytes:u=>e?yu(u,i):$a(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return e?Ta(u):Co(u)},invertBatch:u=>Cd(a,u),cmov:(u,g,m)=>m?g:u});return Object.freeze(a)}function pw(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function gw(n){const t=pw(n);return t+Math.ceil(t/2)}function o3(n,t,e=!1){const r=n.length,o=pw(t),i=gw(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=e?Ta(n):Co(n),a=Ne(s,t-cn)+cn;return e?yu(a,o):$a(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ip=BigInt(0),uh=BigInt(1);function ef(n,t){const e=t.negate();return n?e:t}function mw(n,t){if(!Number.isSafeInteger(n)||n<=0||n>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+n)}function nf(n,t){mw(n,t);const e=Math.ceil(t/n)+1,r=2**(n-1),o=2**n,i=sl(n),s=BigInt(n);return{windows:e,windowSize:r,mask:i,maxNumber:o,shiftBy:s}}function _p(n,t,e){const{windowSize:r,mask:o,maxNumber:i,shiftBy:s}=e;let a=Number(n&o),u=n>>s;a>r&&(a-=i,u+=uh);const g=t*r,m=g+Math.abs(a)-1,x=a===0,B=a<0,S=t%2!==0;return{nextN:u,offset:m,isZero:x,isNeg:B,isNegF:S,offsetF:g}}function s3(n,t){if(!Array.isArray(n))throw new Error("array expected");n.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function a3(n,t){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const rf=new WeakMap,ww=new WeakMap;function of(n){return ww.get(n)||1}function yw(n,t){return{constTimeNegate:ef,hasPrecomputes(e){return of(e)!==1},unsafeLadder(e,r,o=n.ZERO){let i=e;for(;r>Ip;)r&uh&&(o=o.add(i)),i=i.double(),r>>=uh;return o},precomputeWindow(e,r){const{windows:o,windowSize:i}=nf(r,t),s=[];let a=e,u=a;for(let g=0;g<o;g++){u=a,s.push(u);for(let m=1;m<i;m++)u=u.add(a),s.push(u);a=u.double()}return s},wNAF(e,r,o){let i=n.ZERO,s=n.BASE;const a=nf(e,t);for(let u=0;u<a.windows;u++){const{nextN:g,offset:m,isZero:x,isNeg:B,isNegF:S,offsetF:k}=_p(o,u,a);o=g,x?s=s.add(ef(S,r[k])):i=i.add(ef(B,r[m]))}return{p:i,f:s}},wNAFUnsafe(e,r,o,i=n.ZERO){const s=nf(e,t);for(let a=0;a<s.windows&&o!==Ip;a++){const{nextN:u,offset:g,isZero:m,isNeg:x}=_p(o,a,s);if(o=u,!m){const B=r[g];i=i.add(x?B.negate():B)}}return i},getPrecomputes(e,r,o){let i=rf.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&rf.set(r,o(i))),i},wNAFCached(e,r,o){const i=of(e);return this.wNAF(i,this.getPrecomputes(i,e,o),r)},wNAFCachedUnsafe(e,r,o,i){const s=of(e);return s===1?this.unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,o),r,i)},setWindowSize(e,r){mw(r,t),ww.set(e,r),rf.delete(e)}}}function bw(n,t,e,r){if(s3(e,n),a3(r,t),e.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=n.ZERO,i=GB(BigInt(e.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=sl(s),u=new Array(Number(a)+1).fill(o),g=Math.floor((t.BITS-1)/s)*s;let m=o;for(let x=g;x>=0;x-=s){u.fill(o);for(let S=0;S<r.length;S++){const k=r[S],T=Number(k>>BigInt(x)&a);u[T]=u[T].add(e[S])}let B=o;for(let S=u.length-1,k=o;S>0;S--)k=k.add(u[S]),B=B.add(k);if(m=m.add(B),x!==0)for(let S=0;S<s;S++)m=m.double()}return m}function Od(n){return n3(n.Fp),ec(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dw(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lr=BigInt(0),Ln=BigInt(1),Bp=BigInt(2),c3=BigInt(8),u3={zip215:!0};function l3(n){const t=Od(n);return ec(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function f3(n){const t=l3(n),{Fp:e,n:r,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:u}=t,g=Bp<<BigInt(a*8)-Ln,m=e.create,x=nc(t.n,t.nBitLength),B=t.uvRatio||((w,b)=>{try{return{isValid:!0,value:e.sqrt(w*e.inv(b))}}catch{return{isValid:!1,value:Lr}}}),S=t.adjustScalarBytes||(w=>w),k=t.domain||((w,b,M)=>{if($i("phflag",M),b.length||M)throw new Error("Contexts/pre-hash are not supported");return w});function T(w,b,M=!1){const L=M?Ln:Lr;xr("coordinate "+w,b,L,g)}function I(w){if(!(w instanceof R))throw new Error("ExtendedPoint expected")}const N=bu((w,b)=>{const{ex:M,ey:L,ez:v}=w,f=w.is0();b==null&&(b=f?c3:e.inv(v));const A=m(M*b),W=m(L*b),q=m(v*b);if(f)return{x:Lr,y:Ln};if(q!==Ln)throw new Error("invZ was invalid");return{x:A,y:W}}),O=bu(w=>{const{a:b,d:M}=t;if(w.is0())throw new Error("bad point: ZERO");const{ex:L,ey:v,ez:f,et:A}=w,W=m(L*L),q=m(v*v),H=m(f*f),ut=m(H*H),et=m(W*b),rt=m(H*m(et+q)),Pt=m(ut+m(M*m(W*q)));if(rt!==Pt)throw new Error("bad point: equation left != right (1)");const pt=m(L*v),ht=m(f*A);if(pt!==ht)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(b,M,L,v){T("x",b),T("y",M),T("z",L,!0),T("t",v),this.ex=b,this.ey=M,this.ez=L,this.et=v,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof R)throw new Error("extended point not allowed");const{x:M,y:L}=b||{};return T("x",M),T("y",L),new R(M,L,Ln,m(M*L))}static normalizeZ(b){const M=Cd(e,b.map(L=>L.ez));return b.map((L,v)=>L.toAffine(M[v])).map(R.fromAffine)}static msm(b,M){return bw(R,x,b,M)}_setWindowSize(b){j.setWindowSize(this,b)}assertValidity(){O(this)}equals(b){I(b);const{ex:M,ey:L,ez:v}=this,{ex:f,ey:A,ez:W}=b,q=m(M*W),H=m(f*v),ut=m(L*W),et=m(A*v);return q===H&&ut===et}is0(){return this.equals(R.ZERO)}negate(){return new R(m(-this.ex),this.ey,this.ez,m(-this.et))}double(){const{a:b}=t,{ex:M,ey:L,ez:v}=this,f=m(M*M),A=m(L*L),W=m(Bp*m(v*v)),q=m(b*f),H=M+L,ut=m(m(H*H)-f-A),et=q+A,rt=et-W,Pt=q-A,pt=m(ut*rt),ht=m(et*Pt),jt=m(ut*Pt),wt=m(rt*et);return new R(pt,ht,wt,jt)}add(b){I(b);const{a:M,d:L}=t,{ex:v,ey:f,ez:A,et:W}=this,{ex:q,ey:H,ez:ut,et}=b,rt=m(v*q),Pt=m(f*H),pt=m(W*L*et),ht=m(A*ut),jt=m((v+f)*(q+H)-rt-Pt),wt=ht-pt,Mt=ht+pt,yn=m(Pt-M*rt),_t=m(jt*wt),Ut=m(Mt*yn),nn=m(jt*yn),Rt=m(wt*Mt);return new R(_t,Ut,Rt,nn)}subtract(b){return this.add(b.negate())}wNAF(b){return j.wNAFCached(this,b,R.normalizeZ)}multiply(b){const M=b;xr("scalar",M,Ln,r);const{p:L,f:v}=this.wNAF(M);return R.normalizeZ([L,v])[0]}multiplyUnsafe(b,M=R.ZERO){const L=b;return xr("scalar",L,Lr,r),L===Lr?P:this.is0()||L===Ln?this:j.wNAFCachedUnsafe(this,L,R.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return j.unsafeLadder(this,r).is0()}toAffine(b){return N(this,b)}clearCofactor(){const{h:b}=t;return b===Ln?this:this.multiplyUnsafe(b)}static fromHex(b,M=!1){const{d:L,a:v}=t,f=e.BYTES;b=Je("pointHex",b,f),$i("zip215",M);const A=b.slice(),W=b[f-1];A[f-1]=W&-129;const q=Ta(A),H=M?g:e.ORDER;xr("pointHex.y",q,Lr,H);const ut=m(q*q),et=m(ut-Ln),rt=m(L*ut-v);let{isValid:Pt,value:pt}=B(et,rt);if(!Pt)throw new Error("Point.fromHex: invalid y coordinate");const ht=(pt&Ln)===Ln,jt=(W&128)!==0;if(!M&&pt===Lr&&jt)throw new Error("Point.fromHex: x=0 and x_0=1");return jt!==ht&&(pt=m(-pt)),R.fromAffine({x:pt,y:q})}static fromPrivateKey(b){const{scalar:M}=K(b);return U.multiply(M)}toRawBytes(){const{x:b,y:M}=this.toAffine(),L=yu(M,e.BYTES);return L[L.length-1]|=b&Ln?128:0,L}toHex(){return qs(this.toRawBytes())}}R.BASE=new R(t.Gx,t.Gy,Ln,m(t.Gx*t.Gy)),R.ZERO=new R(Lr,Ln,Ln,Lr);const{BASE:U,ZERO:P}=R,j=yw(R,a*8);function F(w){return Ne(w,r)}function $(w){return F(Ta(w))}function K(w){const b=e.BYTES;w=Je("private key",w,b);const M=Je("hashed private key",i(w),2*b),L=S(M.slice(0,b)),v=M.slice(b,2*b),f=$(L);return{head:L,prefix:v,scalar:f}}function nt(w){const{head:b,prefix:M,scalar:L}=K(w),v=U.multiply(L),f=v.toRawBytes();return{head:b,prefix:M,scalar:L,point:v,pointBytes:f}}function J(w){return nt(w).pointBytes}function X(w=Uint8Array.of(),...b){const M=Hs(...b);return $(i(k(M,Je("context",w),!!o)))}function _(w,b,M={}){w=Je("message",w),o&&(w=o(w));const{prefix:L,scalar:v,pointBytes:f}=nt(b),A=X(M.context,L,w),W=U.multiply(A).toRawBytes(),q=X(M.context,W,f,w),H=F(A+q*v);xr("signature.s",H,Lr,r);const ut=Hs(W,yu(H,e.BYTES));return Je("result",ut,e.BYTES*2)}const c=u3;function d(w,b,M,L=c){const{context:v,zip215:f}=L,A=e.BYTES;w=Je("signature",w,2*A),b=Je("message",b),M=Je("publicKey",M,A),f!==void 0&&$i("zip215",f),o&&(b=o(b));const W=Ta(w.slice(A,2*A));let q,H,ut;try{q=R.fromHex(M,f),H=R.fromHex(w.slice(0,A),f),ut=U.multiplyUnsafe(W)}catch{return!1}if(!f&&q.isSmallOrder())return!1;const et=X(v,H.toRawBytes(),q.toRawBytes(),b);return H.add(q.multiplyUnsafe(et)).subtract(ut).clearCofactor().equals(R.ZERO)}return U._setWindowSize(8),{CURVE:t,getPublicKey:J,sign:_,verify:d,ExtendedPoint:R,utils:{getExtendedPublicKey:nt,randomPrivateKey:()=>s(e.BYTES),precompute(w=8,b=R.BASE){return b._setWindowSize(w),b.multiply(BigInt(3)),b}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dd=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Tp=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const h3=BigInt(1),kp=BigInt(2);BigInt(3);const d3=BigInt(5),p3=BigInt(8);function g3(n){const t=BigInt(10),e=BigInt(20),r=BigInt(40),o=BigInt(80),i=Dd,a=n*n%i*n%i,u=$e(a,kp,i)*a%i,g=$e(u,h3,i)*n%i,m=$e(g,d3,i)*g%i,x=$e(m,t,i)*m%i,B=$e(x,e,i)*x%i,S=$e(B,r,i)*B%i,k=$e(S,o,i)*S%i,T=$e(k,o,i)*S%i,I=$e(T,t,i)*m%i;return{pow_p_5_8:$e(I,kp,i)*n%i,b2:a}}function m3(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function w3(n,t){const e=Dd,r=Ne(t*t*t,e),o=Ne(r*r*t,e),i=g3(n*o).pow_p_5_8;let s=Ne(n*r*i,e);const a=Ne(t*s*s,e),u=s,g=Ne(s*Tp,e),m=a===n,x=a===Ne(-n,e),B=a===Ne(-n*Tp,e);return m&&(s=u),(x||B)&&(s=g),t3(s,e)&&(s=Ne(-s,e)),{isValid:m||x,value:s}}const Lp=nc(Dd,void 0,!0),y3={a:Lp.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Lp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:p3,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:HB,randomBytes:aw,adjustScalarBytes:m3,uvRatio:w3},Ud=f3(y3);var zd={exports:{}};zd.exports;(function(n){(function(t,e){function r(_,c){if(!_)throw new Error(c||"Assertion failed")}function o(_,c){_.super_=c;var d=function(){};d.prototype=c.prototype,_.prototype=new d,_.prototype.constructor=_}function i(_,c,d){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(_||0,c||10,d||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=dg.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&(w++,this.negative=1),w<c.length&&(d===16?this._parseHex(c,w,p):(this._parseBase(c,d,w),p==="le"&&this._initArray(this.toArray(),d,p)))},i.prototype._initNumber=function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},i.prototype._initArray=function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var b,M,L=0;if(p==="be")for(w=c.length-1,b=0;w>=0;w-=3)M=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[b]|=M<<L&67108863,this.words[b+1]=M>>>26-L&67108863,L+=24,L>=26&&(L-=26,b++);else if(p==="le")for(w=0,b=0;w<c.length;w+=3)M=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[b]|=M<<L&67108863,this.words[b+1]=M>>>26-L&67108863,L+=24,L>=26&&(L-=26,b++);return this._strip()};function a(_,c){var d=_.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+_)}function u(_,c,d){var p=a(_,d);return d-1>=c&&(p|=a(_,d-1)<<4),p}i.prototype._parseHex=function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var b=0,M=0,L;if(p==="be")for(w=c.length-1;w>=d;w-=2)L=u(c,d,w)<<b,this.words[M]|=L&67108863,b>=18?(b-=18,M+=1,this.words[M]|=L>>>26):b+=8;else{var v=c.length-d;for(w=v%2===0?d+1:d;w<c.length;w+=2)L=u(c,d,w)<<b,this.words[M]|=L&67108863,b>=18?(b-=18,M+=1,this.words[M]|=L>>>26):b+=8}this._strip()};function g(_,c,d,p){for(var w=0,b=0,M=Math.min(_.length,d),L=c;L<M;L++){var v=_.charCodeAt(L)-48;w*=p,v>=49?b=v-49+10:v>=17?b=v-17+10:b=v,r(v>=0&&b<p,"Invalid character"),w+=b}return w}i.prototype._parseBase=function(c,d,p){this.words=[0],this.length=1;for(var w=0,b=1;b<=67108863;b*=d)w++;w--,b=b/d|0;for(var M=c.length-p,L=M%w,v=Math.min(M,M-L)+p,f=0,A=p;A<v;A+=w)f=g(c,A,A+w,d),this.imuln(b),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(L!==0){var W=1;for(f=g(c,A,c.length,d),A=0;A<L;A++)W*=d;this.imuln(W),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function m(_,c){_.words=c.words,_.length=c.length,_.negative=c.negative,_.red=c.red}if(i.prototype._move=function(c){m(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var w=0,b=0,M=0;M<this.length;M++){var L=this.words[M],v=((L<<w|b)&16777215).toString(16);b=L>>>24-w&16777215,w+=2,w>=26&&(w-=26,M--),b!==0||M!==this.length-1?p=B[6-v.length]+v+p:p=v+p}for(b!==0&&(p=b.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var f=S[c],A=k[c];p="";var W=this.clone();for(W.negative=0;!W.isZero();){var q=W.modrn(A).toString(c);W=W.idivn(A),W.isZero()?p=q+p:p=B[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var T=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,p){this._strip();var w=this.byteLength(),b=p||Math.max(1,w);r(w<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0");var M=T(c,b),L=d==="le"?"LE":"BE";return this["_toArrayLike"+L](M,w),M},i.prototype._toArrayLikeLE=function(c,d){for(var p=0,w=0,b=0,M=0;b<this.length;b++){var L=this.words[b]<<M|w;c[p++]=L&255,p<c.length&&(c[p++]=L>>8&255),p<c.length&&(c[p++]=L>>16&255),M===6?(p<c.length&&(c[p++]=L>>24&255),w=0,M=0):(w=L>>>24,M+=2)}if(p<c.length)for(c[p++]=w;p<c.length;)c[p++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var p=c.length-1,w=0,b=0,M=0;b<this.length;b++){var L=this.words[b]<<M|w;c[p--]=L&255,p>=0&&(c[p--]=L>>8&255),p>=0&&(c[p--]=L>>16&255),M===6?(p>=0&&(c[p--]=L>>24&255),w=0,M=0):(w=L>>>24,M+=2)}if(p>=0)for(c[p--]=w;p>=0;)c[p--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function I(_){for(var c=new Array(_.bitLength()),d=0;d<c.length;d++){var p=d/26|0,w=d%26;c[d]=_.words[p]>>>w&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var w=0;w<p.length;w++)this.words[w]=d.words[w]^p.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return p>0&&(this.words[w]=~this.words[w]&67108863>>26-p),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,w=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<w:this.words[p]=this.words[p]&~(1<<w),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,w;this.length>c.length?(p=this,w=c):(p=c,w=this);for(var b=0,M=0;M<w.length;M++)d=(p.words[M]|0)+(w.words[M]|0)+b,this.words[M]=d&67108863,b=d>>>26;for(;b!==0&&M<p.length;M++)d=(p.words[M]|0)+b,this.words[M]=d&67108863,b=d>>>26;if(this.length=p.length,b!==0)this.words[this.length]=b,this.length++;else if(p!==this)for(;M<p.length;M++)this.words[M]=p.words[M];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,b;p>0?(w=this,b=c):(w=c,b=this);for(var M=0,L=0;L<b.length;L++)d=(w.words[L]|0)-(b.words[L]|0)+M,M=d>>26,this.words[L]=d&67108863;for(;M!==0&&L<w.length;L++)d=(w.words[L]|0)+M,M=d>>26,this.words[L]=d&67108863;if(M===0&&L<w.length&&w!==this)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=Math.max(this.length,L),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function N(_,c,d){d.negative=c.negative^_.negative;var p=_.length+c.length|0;d.length=p,p=p-1|0;var w=_.words[0]|0,b=c.words[0]|0,M=w*b,L=M&67108863,v=M/67108864|0;d.words[0]=L;for(var f=1;f<p;f++){for(var A=v>>>26,W=v&67108863,q=Math.min(f,c.length-1),H=Math.max(0,f-_.length+1);H<=q;H++){var ut=f-H|0;w=_.words[ut]|0,b=c.words[H]|0,M=w*b+W,A+=M/67108864|0,W=M&67108863}d.words[f]=W|0,v=A|0}return v!==0?d.words[f]=v|0:d.length--,d._strip()}var O=function(c,d,p){var w=c.words,b=d.words,M=p.words,L=0,v,f,A,W=w[0]|0,q=W&8191,H=W>>>13,ut=w[1]|0,et=ut&8191,rt=ut>>>13,Pt=w[2]|0,pt=Pt&8191,ht=Pt>>>13,jt=w[3]|0,wt=jt&8191,Mt=jt>>>13,yn=w[4]|0,_t=yn&8191,Ut=yn>>>13,nn=w[5]|0,Rt=nn&8191,Bt=nn>>>13,we=w[6]|0,Nt=we&8191,Ft=we>>>13,Ee=w[7]|0,$t=Ee&8191,y=Ee>>>13,l=w[8]|0,h=l&8191,E=l>>>13,C=w[9]|0,D=C&8191,z=C>>>13,gt=b[0]|0,lt=gt&8191,ct=gt>>>13,zt=b[1]|0,at=zt&8191,Ht=zt>>>13,aa=b[2]|0,Vt=aa&8191,Gt=aa>>>13,ca=b[3]|0,Yt=ca&8191,Zt=ca>>>13,ua=b[4]|0,Qt=ua&8191,Jt=ua>>>13,la=b[5]|0,Xt=la&8191,te=la>>>13,fa=b[6]|0,ee=fa&8191,ne=fa>>>13,ha=b[7]|0,re=ha&8191,ie=ha>>>13,da=b[8]|0,oe=da&8191,se=da>>>13,pa=b[9]|0,ae=pa&8191,ce=pa>>>13;p.negative=c.negative^d.negative,p.length=19,v=Math.imul(q,lt),f=Math.imul(q,ct),f=f+Math.imul(H,lt)|0,A=Math.imul(H,ct);var Vi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,v=Math.imul(et,lt),f=Math.imul(et,ct),f=f+Math.imul(rt,lt)|0,A=Math.imul(rt,ct),v=v+Math.imul(q,at)|0,f=f+Math.imul(q,Ht)|0,f=f+Math.imul(H,at)|0,A=A+Math.imul(H,Ht)|0;var Gi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,v=Math.imul(pt,lt),f=Math.imul(pt,ct),f=f+Math.imul(ht,lt)|0,A=Math.imul(ht,ct),v=v+Math.imul(et,at)|0,f=f+Math.imul(et,Ht)|0,f=f+Math.imul(rt,at)|0,A=A+Math.imul(rt,Ht)|0,v=v+Math.imul(q,Vt)|0,f=f+Math.imul(q,Gt)|0,f=f+Math.imul(H,Vt)|0,A=A+Math.imul(H,Gt)|0;var Yi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,v=Math.imul(wt,lt),f=Math.imul(wt,ct),f=f+Math.imul(Mt,lt)|0,A=Math.imul(Mt,ct),v=v+Math.imul(pt,at)|0,f=f+Math.imul(pt,Ht)|0,f=f+Math.imul(ht,at)|0,A=A+Math.imul(ht,Ht)|0,v=v+Math.imul(et,Vt)|0,f=f+Math.imul(et,Gt)|0,f=f+Math.imul(rt,Vt)|0,A=A+Math.imul(rt,Gt)|0,v=v+Math.imul(q,Yt)|0,f=f+Math.imul(q,Zt)|0,f=f+Math.imul(H,Yt)|0,A=A+Math.imul(H,Zt)|0;var Zi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,v=Math.imul(_t,lt),f=Math.imul(_t,ct),f=f+Math.imul(Ut,lt)|0,A=Math.imul(Ut,ct),v=v+Math.imul(wt,at)|0,f=f+Math.imul(wt,Ht)|0,f=f+Math.imul(Mt,at)|0,A=A+Math.imul(Mt,Ht)|0,v=v+Math.imul(pt,Vt)|0,f=f+Math.imul(pt,Gt)|0,f=f+Math.imul(ht,Vt)|0,A=A+Math.imul(ht,Gt)|0,v=v+Math.imul(et,Yt)|0,f=f+Math.imul(et,Zt)|0,f=f+Math.imul(rt,Yt)|0,A=A+Math.imul(rt,Zt)|0,v=v+Math.imul(q,Qt)|0,f=f+Math.imul(q,Jt)|0,f=f+Math.imul(H,Qt)|0,A=A+Math.imul(H,Jt)|0;var Qi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,v=Math.imul(Rt,lt),f=Math.imul(Rt,ct),f=f+Math.imul(Bt,lt)|0,A=Math.imul(Bt,ct),v=v+Math.imul(_t,at)|0,f=f+Math.imul(_t,Ht)|0,f=f+Math.imul(Ut,at)|0,A=A+Math.imul(Ut,Ht)|0,v=v+Math.imul(wt,Vt)|0,f=f+Math.imul(wt,Gt)|0,f=f+Math.imul(Mt,Vt)|0,A=A+Math.imul(Mt,Gt)|0,v=v+Math.imul(pt,Yt)|0,f=f+Math.imul(pt,Zt)|0,f=f+Math.imul(ht,Yt)|0,A=A+Math.imul(ht,Zt)|0,v=v+Math.imul(et,Qt)|0,f=f+Math.imul(et,Jt)|0,f=f+Math.imul(rt,Qt)|0,A=A+Math.imul(rt,Jt)|0,v=v+Math.imul(q,Xt)|0,f=f+Math.imul(q,te)|0,f=f+Math.imul(H,Xt)|0,A=A+Math.imul(H,te)|0;var Ji=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,v=Math.imul(Nt,lt),f=Math.imul(Nt,ct),f=f+Math.imul(Ft,lt)|0,A=Math.imul(Ft,ct),v=v+Math.imul(Rt,at)|0,f=f+Math.imul(Rt,Ht)|0,f=f+Math.imul(Bt,at)|0,A=A+Math.imul(Bt,Ht)|0,v=v+Math.imul(_t,Vt)|0,f=f+Math.imul(_t,Gt)|0,f=f+Math.imul(Ut,Vt)|0,A=A+Math.imul(Ut,Gt)|0,v=v+Math.imul(wt,Yt)|0,f=f+Math.imul(wt,Zt)|0,f=f+Math.imul(Mt,Yt)|0,A=A+Math.imul(Mt,Zt)|0,v=v+Math.imul(pt,Qt)|0,f=f+Math.imul(pt,Jt)|0,f=f+Math.imul(ht,Qt)|0,A=A+Math.imul(ht,Jt)|0,v=v+Math.imul(et,Xt)|0,f=f+Math.imul(et,te)|0,f=f+Math.imul(rt,Xt)|0,A=A+Math.imul(rt,te)|0,v=v+Math.imul(q,ee)|0,f=f+Math.imul(q,ne)|0,f=f+Math.imul(H,ee)|0,A=A+Math.imul(H,ne)|0;var Xi=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,v=Math.imul($t,lt),f=Math.imul($t,ct),f=f+Math.imul(y,lt)|0,A=Math.imul(y,ct),v=v+Math.imul(Nt,at)|0,f=f+Math.imul(Nt,Ht)|0,f=f+Math.imul(Ft,at)|0,A=A+Math.imul(Ft,Ht)|0,v=v+Math.imul(Rt,Vt)|0,f=f+Math.imul(Rt,Gt)|0,f=f+Math.imul(Bt,Vt)|0,A=A+Math.imul(Bt,Gt)|0,v=v+Math.imul(_t,Yt)|0,f=f+Math.imul(_t,Zt)|0,f=f+Math.imul(Ut,Yt)|0,A=A+Math.imul(Ut,Zt)|0,v=v+Math.imul(wt,Qt)|0,f=f+Math.imul(wt,Jt)|0,f=f+Math.imul(Mt,Qt)|0,A=A+Math.imul(Mt,Jt)|0,v=v+Math.imul(pt,Xt)|0,f=f+Math.imul(pt,te)|0,f=f+Math.imul(ht,Xt)|0,A=A+Math.imul(ht,te)|0,v=v+Math.imul(et,ee)|0,f=f+Math.imul(et,ne)|0,f=f+Math.imul(rt,ee)|0,A=A+Math.imul(rt,ne)|0,v=v+Math.imul(q,re)|0,f=f+Math.imul(q,ie)|0,f=f+Math.imul(H,re)|0,A=A+Math.imul(H,ie)|0;var to=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(to>>>26)|0,to&=67108863,v=Math.imul(h,lt),f=Math.imul(h,ct),f=f+Math.imul(E,lt)|0,A=Math.imul(E,ct),v=v+Math.imul($t,at)|0,f=f+Math.imul($t,Ht)|0,f=f+Math.imul(y,at)|0,A=A+Math.imul(y,Ht)|0,v=v+Math.imul(Nt,Vt)|0,f=f+Math.imul(Nt,Gt)|0,f=f+Math.imul(Ft,Vt)|0,A=A+Math.imul(Ft,Gt)|0,v=v+Math.imul(Rt,Yt)|0,f=f+Math.imul(Rt,Zt)|0,f=f+Math.imul(Bt,Yt)|0,A=A+Math.imul(Bt,Zt)|0,v=v+Math.imul(_t,Qt)|0,f=f+Math.imul(_t,Jt)|0,f=f+Math.imul(Ut,Qt)|0,A=A+Math.imul(Ut,Jt)|0,v=v+Math.imul(wt,Xt)|0,f=f+Math.imul(wt,te)|0,f=f+Math.imul(Mt,Xt)|0,A=A+Math.imul(Mt,te)|0,v=v+Math.imul(pt,ee)|0,f=f+Math.imul(pt,ne)|0,f=f+Math.imul(ht,ee)|0,A=A+Math.imul(ht,ne)|0,v=v+Math.imul(et,re)|0,f=f+Math.imul(et,ie)|0,f=f+Math.imul(rt,re)|0,A=A+Math.imul(rt,ie)|0,v=v+Math.imul(q,oe)|0,f=f+Math.imul(q,se)|0,f=f+Math.imul(H,oe)|0,A=A+Math.imul(H,se)|0;var eo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(eo>>>26)|0,eo&=67108863,v=Math.imul(D,lt),f=Math.imul(D,ct),f=f+Math.imul(z,lt)|0,A=Math.imul(z,ct),v=v+Math.imul(h,at)|0,f=f+Math.imul(h,Ht)|0,f=f+Math.imul(E,at)|0,A=A+Math.imul(E,Ht)|0,v=v+Math.imul($t,Vt)|0,f=f+Math.imul($t,Gt)|0,f=f+Math.imul(y,Vt)|0,A=A+Math.imul(y,Gt)|0,v=v+Math.imul(Nt,Yt)|0,f=f+Math.imul(Nt,Zt)|0,f=f+Math.imul(Ft,Yt)|0,A=A+Math.imul(Ft,Zt)|0,v=v+Math.imul(Rt,Qt)|0,f=f+Math.imul(Rt,Jt)|0,f=f+Math.imul(Bt,Qt)|0,A=A+Math.imul(Bt,Jt)|0,v=v+Math.imul(_t,Xt)|0,f=f+Math.imul(_t,te)|0,f=f+Math.imul(Ut,Xt)|0,A=A+Math.imul(Ut,te)|0,v=v+Math.imul(wt,ee)|0,f=f+Math.imul(wt,ne)|0,f=f+Math.imul(Mt,ee)|0,A=A+Math.imul(Mt,ne)|0,v=v+Math.imul(pt,re)|0,f=f+Math.imul(pt,ie)|0,f=f+Math.imul(ht,re)|0,A=A+Math.imul(ht,ie)|0,v=v+Math.imul(et,oe)|0,f=f+Math.imul(et,se)|0,f=f+Math.imul(rt,oe)|0,A=A+Math.imul(rt,se)|0,v=v+Math.imul(q,ae)|0,f=f+Math.imul(q,ce)|0,f=f+Math.imul(H,ae)|0,A=A+Math.imul(H,ce)|0;var no=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(no>>>26)|0,no&=67108863,v=Math.imul(D,at),f=Math.imul(D,Ht),f=f+Math.imul(z,at)|0,A=Math.imul(z,Ht),v=v+Math.imul(h,Vt)|0,f=f+Math.imul(h,Gt)|0,f=f+Math.imul(E,Vt)|0,A=A+Math.imul(E,Gt)|0,v=v+Math.imul($t,Yt)|0,f=f+Math.imul($t,Zt)|0,f=f+Math.imul(y,Yt)|0,A=A+Math.imul(y,Zt)|0,v=v+Math.imul(Nt,Qt)|0,f=f+Math.imul(Nt,Jt)|0,f=f+Math.imul(Ft,Qt)|0,A=A+Math.imul(Ft,Jt)|0,v=v+Math.imul(Rt,Xt)|0,f=f+Math.imul(Rt,te)|0,f=f+Math.imul(Bt,Xt)|0,A=A+Math.imul(Bt,te)|0,v=v+Math.imul(_t,ee)|0,f=f+Math.imul(_t,ne)|0,f=f+Math.imul(Ut,ee)|0,A=A+Math.imul(Ut,ne)|0,v=v+Math.imul(wt,re)|0,f=f+Math.imul(wt,ie)|0,f=f+Math.imul(Mt,re)|0,A=A+Math.imul(Mt,ie)|0,v=v+Math.imul(pt,oe)|0,f=f+Math.imul(pt,se)|0,f=f+Math.imul(ht,oe)|0,A=A+Math.imul(ht,se)|0,v=v+Math.imul(et,ae)|0,f=f+Math.imul(et,ce)|0,f=f+Math.imul(rt,ae)|0,A=A+Math.imul(rt,ce)|0;var ro=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(ro>>>26)|0,ro&=67108863,v=Math.imul(D,Vt),f=Math.imul(D,Gt),f=f+Math.imul(z,Vt)|0,A=Math.imul(z,Gt),v=v+Math.imul(h,Yt)|0,f=f+Math.imul(h,Zt)|0,f=f+Math.imul(E,Yt)|0,A=A+Math.imul(E,Zt)|0,v=v+Math.imul($t,Qt)|0,f=f+Math.imul($t,Jt)|0,f=f+Math.imul(y,Qt)|0,A=A+Math.imul(y,Jt)|0,v=v+Math.imul(Nt,Xt)|0,f=f+Math.imul(Nt,te)|0,f=f+Math.imul(Ft,Xt)|0,A=A+Math.imul(Ft,te)|0,v=v+Math.imul(Rt,ee)|0,f=f+Math.imul(Rt,ne)|0,f=f+Math.imul(Bt,ee)|0,A=A+Math.imul(Bt,ne)|0,v=v+Math.imul(_t,re)|0,f=f+Math.imul(_t,ie)|0,f=f+Math.imul(Ut,re)|0,A=A+Math.imul(Ut,ie)|0,v=v+Math.imul(wt,oe)|0,f=f+Math.imul(wt,se)|0,f=f+Math.imul(Mt,oe)|0,A=A+Math.imul(Mt,se)|0,v=v+Math.imul(pt,ae)|0,f=f+Math.imul(pt,ce)|0,f=f+Math.imul(ht,ae)|0,A=A+Math.imul(ht,ce)|0;var io=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(io>>>26)|0,io&=67108863,v=Math.imul(D,Yt),f=Math.imul(D,Zt),f=f+Math.imul(z,Yt)|0,A=Math.imul(z,Zt),v=v+Math.imul(h,Qt)|0,f=f+Math.imul(h,Jt)|0,f=f+Math.imul(E,Qt)|0,A=A+Math.imul(E,Jt)|0,v=v+Math.imul($t,Xt)|0,f=f+Math.imul($t,te)|0,f=f+Math.imul(y,Xt)|0,A=A+Math.imul(y,te)|0,v=v+Math.imul(Nt,ee)|0,f=f+Math.imul(Nt,ne)|0,f=f+Math.imul(Ft,ee)|0,A=A+Math.imul(Ft,ne)|0,v=v+Math.imul(Rt,re)|0,f=f+Math.imul(Rt,ie)|0,f=f+Math.imul(Bt,re)|0,A=A+Math.imul(Bt,ie)|0,v=v+Math.imul(_t,oe)|0,f=f+Math.imul(_t,se)|0,f=f+Math.imul(Ut,oe)|0,A=A+Math.imul(Ut,se)|0,v=v+Math.imul(wt,ae)|0,f=f+Math.imul(wt,ce)|0,f=f+Math.imul(Mt,ae)|0,A=A+Math.imul(Mt,ce)|0;var oo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(oo>>>26)|0,oo&=67108863,v=Math.imul(D,Qt),f=Math.imul(D,Jt),f=f+Math.imul(z,Qt)|0,A=Math.imul(z,Jt),v=v+Math.imul(h,Xt)|0,f=f+Math.imul(h,te)|0,f=f+Math.imul(E,Xt)|0,A=A+Math.imul(E,te)|0,v=v+Math.imul($t,ee)|0,f=f+Math.imul($t,ne)|0,f=f+Math.imul(y,ee)|0,A=A+Math.imul(y,ne)|0,v=v+Math.imul(Nt,re)|0,f=f+Math.imul(Nt,ie)|0,f=f+Math.imul(Ft,re)|0,A=A+Math.imul(Ft,ie)|0,v=v+Math.imul(Rt,oe)|0,f=f+Math.imul(Rt,se)|0,f=f+Math.imul(Bt,oe)|0,A=A+Math.imul(Bt,se)|0,v=v+Math.imul(_t,ae)|0,f=f+Math.imul(_t,ce)|0,f=f+Math.imul(Ut,ae)|0,A=A+Math.imul(Ut,ce)|0;var so=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(so>>>26)|0,so&=67108863,v=Math.imul(D,Xt),f=Math.imul(D,te),f=f+Math.imul(z,Xt)|0,A=Math.imul(z,te),v=v+Math.imul(h,ee)|0,f=f+Math.imul(h,ne)|0,f=f+Math.imul(E,ee)|0,A=A+Math.imul(E,ne)|0,v=v+Math.imul($t,re)|0,f=f+Math.imul($t,ie)|0,f=f+Math.imul(y,re)|0,A=A+Math.imul(y,ie)|0,v=v+Math.imul(Nt,oe)|0,f=f+Math.imul(Nt,se)|0,f=f+Math.imul(Ft,oe)|0,A=A+Math.imul(Ft,se)|0,v=v+Math.imul(Rt,ae)|0,f=f+Math.imul(Rt,ce)|0,f=f+Math.imul(Bt,ae)|0,A=A+Math.imul(Bt,ce)|0;var ao=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(ao>>>26)|0,ao&=67108863,v=Math.imul(D,ee),f=Math.imul(D,ne),f=f+Math.imul(z,ee)|0,A=Math.imul(z,ne),v=v+Math.imul(h,re)|0,f=f+Math.imul(h,ie)|0,f=f+Math.imul(E,re)|0,A=A+Math.imul(E,ie)|0,v=v+Math.imul($t,oe)|0,f=f+Math.imul($t,se)|0,f=f+Math.imul(y,oe)|0,A=A+Math.imul(y,se)|0,v=v+Math.imul(Nt,ae)|0,f=f+Math.imul(Nt,ce)|0,f=f+Math.imul(Ft,ae)|0,A=A+Math.imul(Ft,ce)|0;var co=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(co>>>26)|0,co&=67108863,v=Math.imul(D,re),f=Math.imul(D,ie),f=f+Math.imul(z,re)|0,A=Math.imul(z,ie),v=v+Math.imul(h,oe)|0,f=f+Math.imul(h,se)|0,f=f+Math.imul(E,oe)|0,A=A+Math.imul(E,se)|0,v=v+Math.imul($t,ae)|0,f=f+Math.imul($t,ce)|0,f=f+Math.imul(y,ae)|0,A=A+Math.imul(y,ce)|0;var uo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(uo>>>26)|0,uo&=67108863,v=Math.imul(D,oe),f=Math.imul(D,se),f=f+Math.imul(z,oe)|0,A=Math.imul(z,se),v=v+Math.imul(h,ae)|0,f=f+Math.imul(h,ce)|0,f=f+Math.imul(E,ae)|0,A=A+Math.imul(E,ce)|0;var lo=(L+v|0)+((f&8191)<<13)|0;L=(A+(f>>>13)|0)+(lo>>>26)|0,lo&=67108863,v=Math.imul(D,ae),f=Math.imul(D,ce),f=f+Math.imul(z,ae)|0,A=Math.imul(z,ce);var fo=(L+v|0)+((f&8191)<<13)|0;return L=(A+(f>>>13)|0)+(fo>>>26)|0,fo&=67108863,M[0]=Vi,M[1]=Gi,M[2]=Yi,M[3]=Zi,M[4]=Qi,M[5]=Ji,M[6]=Xi,M[7]=to,M[8]=eo,M[9]=no,M[10]=ro,M[11]=io,M[12]=oo,M[13]=so,M[14]=ao,M[15]=co,M[16]=uo,M[17]=lo,M[18]=fo,L!==0&&(M[19]=L,p.length++),p};Math.imul||(O=N);function R(_,c,d){d.negative=c.negative^_.negative,d.length=_.length+c.length;for(var p=0,w=0,b=0;b<d.length-1;b++){var M=w;w=0;for(var L=p&67108863,v=Math.min(b,c.length-1),f=Math.max(0,b-_.length+1);f<=v;f++){var A=b-f,W=_.words[A]|0,q=c.words[f]|0,H=W*q,ut=H&67108863;M=M+(H/67108864|0)|0,ut=ut+L|0,L=ut&67108863,M=M+(ut>>>26)|0,w+=M>>>26,M&=67108863}d.words[b]=L,p=M,M=w}return p!==0?d.words[b]=p:d.length--,d._strip()}function U(_,c,d){return R(_,c,d)}i.prototype.mulTo=function(c,d){var p,w=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):w<63?p=N(this,c,d):w<1024?p=R(this,c,d):p=U(this,c,d),p},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),U(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),r(typeof c=="number"),r(c<67108864);for(var p=0,w=0;w<this.length;w++){var b=(this.words[w]|0)*c,M=(b&67108863)+(p&67108863);p>>=26,p+=b/67108864|0,p+=M>>>26,this.words[w]=M&67108863}return p!==0&&(this.words[w]=p,this.length++),this.length=c===0?1:this.length,d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=I(c);if(d.length===0)return new i(1);for(var p=this,w=0;w<d.length&&d[w]===0;w++,p=p.sqr());if(++w<d.length)for(var b=p.sqr();w<d.length;w++,b=b.sqr())d[w]!==0&&(p=p.mul(b));return p},i.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,w=67108863>>>26-d<<26-d,b;if(d!==0){var M=0;for(b=0;b<this.length;b++){var L=this.words[b]&w,v=(this.words[b]|0)-L<<d;this.words[b]=v|M,M=L>>>26-d}M&&(this.words[b]=M,this.length++)}if(p!==0){for(b=this.length-1;b>=0;b--)this.words[b+p]=this.words[b];for(b=0;b<p;b++)this.words[b]=0;this.length+=p}return this._strip()},i.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,p){r(typeof c=="number"&&c>=0);var w;d?w=(d-d%26)/26:w=0;var b=c%26,M=Math.min((c-b)/26,this.length),L=67108863^67108863>>>b<<b,v=p;if(w-=M,w=Math.max(0,w),v){for(var f=0;f<M;f++)v.words[f]=this.words[f];v.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var A=0;for(f=this.length-1;f>=0&&(A!==0||f>=w);f--){var W=this.words[f]|0;this.words[f]=A<<26-b|W>>>b,A=W&L}return v&&A!==0&&(v.words[v.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,w=1<<d;if(this.length<=p)return!1;var b=this.words[p];return!!(b&w)},i.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,p){var w=c.length+p,b;this._expand(w);var M,L=0;for(b=0;b<c.length;b++){M=(this.words[b+p]|0)+L;var v=(c.words[b]|0)*d;M-=v&67108863,L=(M>>26)-(v/67108864|0),this.words[b+p]=M&67108863}for(;b<this.length-p;b++)M=(this.words[b+p]|0)+L,L=M>>26,this.words[b+p]=M&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,b=0;b<this.length;b++)M=-(this.words[b]|0)+L,L=M>>26,this.words[b]=M&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var p=this.length-c.length,w=this.clone(),b=c,M=b.words[b.length-1]|0,L=this._countBits(M);p=26-L,p!==0&&(b=b.ushln(p),w.iushln(p),M=b.words[b.length-1]|0);var v=w.length-b.length,f;if(d!=="mod"){f=new i(null),f.length=v+1,f.words=new Array(f.length);for(var A=0;A<f.length;A++)f.words[A]=0}var W=w.clone()._ishlnsubmul(b,1,v);W.negative===0&&(w=W,f&&(f.words[v]=1));for(var q=v-1;q>=0;q--){var H=(w.words[b.length+q]|0)*67108864+(w.words[b.length+q-1]|0);for(H=Math.min(H/M|0,67108863),w._ishlnsubmul(b,H,q);w.negative!==0;)H--,w.negative=0,w._ishlnsubmul(b,1,q),w.isZero()||(w.negative^=1);f&&(f.words[q]=H)}return f&&f._strip(),w._strip(),d!=="div"&&p!==0&&w.iushrn(p),{div:f||null,mod:w}},i.prototype.divmod=function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,b,M;return this.negative!==0&&c.negative===0?(M=this.neg().divmod(c,d),d!=="mod"&&(w=M.div.neg()),d!=="div"&&(b=M.mod.neg(),p&&b.negative!==0&&b.iadd(c)),{div:w,mod:b}):this.negative===0&&c.negative!==0?(M=this.divmod(c.neg(),d),d!=="mod"&&(w=M.div.neg()),{div:w,mod:M.mod}):this.negative&c.negative?(M=this.neg().divmod(c.neg(),d),d!=="div"&&(b=M.mod.neg(),p&&b.negative!==0&&b.isub(c)),{div:M.div,mod:b}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,w=c.ushrn(1),b=c.andln(1),M=p.cmp(w);return M<0||b===1&&M===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),r(c<=67108863);for(var p=(1<<26)%c,w=0,b=this.length-1;b>=0;b--)w=(p*w+(this.words[b]|0))%c;return d?-w:w},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),r(c<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var b=(this.words[w]|0)+p*67108864;this.words[w]=b/c|0,p=b%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new i(1),b=new i(0),M=new i(0),L=new i(1),v=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++v;for(var f=p.clone(),A=d.clone();!d.isZero();){for(var W=0,q=1;!(d.words[0]&q)&&W<26;++W,q<<=1);if(W>0)for(d.iushrn(W);W-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(f),b.isub(A)),w.iushrn(1),b.iushrn(1);for(var H=0,ut=1;!(p.words[0]&ut)&&H<26;++H,ut<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(M.isOdd()||L.isOdd())&&(M.iadd(f),L.isub(A)),M.iushrn(1),L.iushrn(1);d.cmp(p)>=0?(d.isub(p),w.isub(M),b.isub(L)):(p.isub(d),M.isub(w),L.isub(b))}return{a:M,b:L,gcd:p.iushln(v)}},i.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new i(1),b=new i(0),M=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var L=0,v=1;!(d.words[0]&v)&&L<26;++L,v<<=1);if(L>0)for(d.iushrn(L);L-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);for(var f=0,A=1;!(p.words[0]&A)&&f<26;++f,A<<=1);if(f>0)for(p.iushrn(f);f-- >0;)b.isOdd()&&b.iadd(M),b.iushrn(1);d.cmp(p)>=0?(d.isub(p),w.isub(b)):(p.isub(d),b.isub(w))}var W;return d.cmpn(1)===0?W=w:W=b,W.cmpn(0)<0&&W.iadd(c),W},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var w=0;d.isEven()&&p.isEven();w++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var b=d.cmp(p);if(b<0){var M=d;d=p,p=M}else if(b===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(w)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,w=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=w,this;for(var b=w,M=p;b!==0&&M<this.length;M++){var L=this.words[M]|0;L+=b,b=L>>>26,L&=67108863,this.words[M]=L}return b!==0&&(this.words[M]=b,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var w=this.words[0]|0;p=w===c?0:w<c?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var w=this.words[p]|0,b=c.words[p]|0;if(w!==b){w<b?d=-1:w>b&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new J(c)},i.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function j(_,c){this.name=_,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},j.prototype.ireduce=function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var w=p<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},j.prototype.split=function(c,d){c.iushrn(this.n,0,d)},j.prototype.imulK=function(c){return c.imul(this.k)};function F(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,j),F.prototype.split=function(c,d){for(var p=4194303,w=Math.min(c.length,9),b=0;b<w;b++)d.words[b]=c.words[b];if(d.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var M=c.words[9];for(d.words[d.length++]=M&p,b=10;b<c.length;b++){var L=c.words[b]|0;c.words[b-10]=(L&p)<<4|M>>>22,M=L}M>>>=22,c.words[b-10]=M,M===0&&c.length>10?c.length-=10:c.length-=9},F.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var w=c.words[p]|0;d+=w*977,c.words[p]=d&67108863,d=w*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function $(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o($,j);function K(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(K,j);function nt(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(nt,j),nt.prototype.imulK=function(c){for(var d=0,p=0;p<c.length;p++){var w=(c.words[p]|0)*19+d,b=w&67108863;w>>>=26,c.words[p]=b,d=w}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(P[c])return P[c];var d;if(c==="k256")d=new F;else if(c==="p224")d=new $;else if(c==="p192")d=new K;else if(c==="p25519")d=new nt;else throw new Error("Unknown prime "+c);return P[c]=d,d};function J(_){if(typeof _=="string"){var c=i._prime(_);this.m=c.p,this.prime=c}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}J.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},J.prototype._verify2=function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},J.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(m(c,c.umod(this.m)._forceRed(this)),c)},J.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},J.prototype.add=function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},J.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},J.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},J.prototype.isqr=function(c){return this.imul(c,c.clone())},J.prototype.sqr=function(c){return this.mul(c,c)},J.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var w=this.m.subn(1),b=0;!w.isZero()&&w.andln(1)===0;)b++,w.iushrn(1);r(!w.isZero());var M=new i(1).toRed(this),L=M.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,v).cmp(L)!==0;)f.redIAdd(L);for(var A=this.pow(f,w),W=this.pow(c,w.addn(1).iushrn(1)),q=this.pow(c,w),H=b;q.cmp(M)!==0;){for(var ut=q,et=0;ut.cmp(M)!==0;et++)ut=ut.redSqr();r(et<H);var rt=this.pow(A,new i(1).iushln(H-et-1));W=W.redMul(rt),A=rt.redSqr(),q=q.redMul(A),H=et}return W},J.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},J.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,w=new Array(1<<p);w[0]=new i(1).toRed(this),w[1]=c;for(var b=2;b<w.length;b++)w[b]=this.mul(w[b-1],c);var M=w[0],L=0,v=0,f=d.bitLength()%26;for(f===0&&(f=26),b=d.length-1;b>=0;b--){for(var A=d.words[b],W=f-1;W>=0;W--){var q=A>>W&1;if(M!==w[0]&&(M=this.sqr(M)),q===0&&L===0){v=0;continue}L<<=1,L|=q,v++,!(v!==p&&(b!==0||W!==0))&&(M=this.mul(M,w[L]),v=0,L=0)}f=26}return M},J.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},J.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new X(c)};function X(_){J.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,J),X.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},X.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},X.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=p.isub(w).iushrn(this.shift),M=b;return b.cmp(this.m)>=0?M=b.isub(this.m):b.cmpn(0)<0&&(M=b.iadd(this.m)),M._forceRed(this)},X.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=p.isub(w).iushrn(this.shift),M=b;return b.cmp(this.m)>=0?M=b.isub(this.m):b.cmpn(0)<0&&(M=b.iadd(this.m)),M._forceRed(this)},X.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(n,Ke)})(zd);var vw=zd.exports;const Rp=yi(vw);var lh={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,t){var e=fe,r=e.Buffer;function o(s,a){for(var u in s)a[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(o(e,t),t.Buffer=i);function i(s,a,u){return r(s,a,u)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(s,a,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,u)},i.alloc=function(s,a,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var g=r(s);return a!==void 0?typeof u=="string"?g.fill(a,u):g.fill(a):g.fill(0),g},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(s)}})(lh,lh.exports);var b3=lh.exports,Ec=b3.Buffer;function v3(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=n.length,a=n.charAt(0),u=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function m(S){if((Array.isArray(S)||S instanceof Uint8Array)&&(S=Ec.from(S)),!Ec.isBuffer(S))throw new TypeError("Expected Buffer");if(S.length===0)return"";for(var k=0,T=0,I=0,N=S.length;I!==N&&S[I]===0;)I++,k++;for(var O=(N-I)*g+1>>>0,R=new Uint8Array(O);I!==N;){for(var U=S[I],P=0,j=O-1;(U!==0||P<T)&&j!==-1;j--,P++)U+=256*R[j]>>>0,R[j]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");T=P,I++}for(var F=O-T;F!==O&&R[F]===0;)F++;for(var $=a.repeat(k);F<O;++F)$+=n.charAt(R[F]);return $}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return Ec.alloc(0);for(var k=0,T=0,I=0;S[k]===a;)T++,k++;for(var N=(S.length-k)*u+1>>>0,O=new Uint8Array(N);k<S.length;){var R=S.charCodeAt(k);if(R>255)return;var U=t[R];if(U===255)return;for(var P=0,j=N-1;(U!==0||P<I)&&j!==-1;j--,P++)U+=s*O[j]>>>0,O[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");I=P,k++}for(var F=N-I;F!==N&&O[F]===0;)F++;var $=Ec.allocUnsafe(T+(N-F));$.fill(0,0,T);for(var K=T;F!==N;)$[K++]=O[F++];return $}function B(S){var k=x(S);if(k)return k;throw new Error("Non-base"+s+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var x3=v3,M3=x3,E3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",xw=M3(E3);const Nn=yi(xw),Np=lw;var mn={};function ui(n,t,e){return t<=n&&n<=e}function al(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function S3(n){for(var t=String(n),e=t.length,r=0,o=[];r<e;){var i=t.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===e-1)o.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=i&1023,u=s&1023;o.push(65536+(a<<10)+u),r+=1}else o.push(65533)}r+=1}return o}function A3(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var vu=-1;function jd(n){this.tokens=[].slice.call(n)}jd.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():vu},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Vs=-1;function sf(n,t){if(n)throw TypeError("Decoder error");return t||65533}var xu="utf-8";function Mu(n,t){if(!(this instanceof Mu))return new Mu(n,t);if(n=n!==void 0?String(n).toLowerCase():xu,n!==xu)throw new Error("Encoding not supported. Only utf-8 is supported");t=al(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Mu.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=al(e),this._streaming||(this._decoder=new I3({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var o=new jd(r),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==Vs);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===Vs)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),A3(i)}};function Eu(n,t){if(!(this instanceof Eu))return new Eu(n,t);if(n=n!==void 0?String(n).toLowerCase():xu,n!==xu)throw new Error("Encoding not supported. Only utf-8 is supported");t=al(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Eu.prototype={encode:function(t,e){t=t?String(t):"",e=al(e),this._streaming||(this._encoder=new _3(this._options)),this._streaming=!!e.stream;for(var r=[],o=new jd(S3(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Vs);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Vs;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function I3(n){var t=n.fatal,e=0,r=0,o=0,i=128,s=191;this.handler=function(a,u){if(u===vu&&o!==0)return o=0,sf(t);if(u===vu)return Vs;if(o===0){if(ui(u,0,127))return u;if(ui(u,194,223))o=1,e=u-192;else if(ui(u,224,239))u===224&&(i=160),u===237&&(s=159),o=2,e=u-224;else if(ui(u,240,244))u===240&&(i=144),u===244&&(s=143),o=3,e=u-240;else return sf(t);return e=e<<6*o,null}if(!ui(u,i,s))return e=o=r=0,i=128,s=191,a.prepend(u),sf(t);if(i=128,s=191,r+=1,e+=u-128<<6*(o-r),r!==o)return null;var g=e;return e=o=r=0,g}}function _3(n){n.fatal,this.handler=function(t,e){if(e===vu)return Vs;if(ui(e,0,127))return e;var r,o;ui(e,128,2047)?(r=1,o=192):ui(e,2048,65535)?(r=2,o=224):ui(e,65536,1114111)&&(r=3,o=240);for(var i=[(e>>6*r)+o];r>0;){var s=e>>6*(r-1);i.push(128|s&63),r-=1}return i}}const B3=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Mu,TextEncoder:Eu},Symbol.toStringTag,{value:"Module"})),T3=qa(B3);var k3=Ke&&Ke.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),L3=Ke&&Ke.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),Hr=Ke&&Ke.__decorate||function(n,t,e,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},R3=Ke&&Ke.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.hasOwnProperty.call(n,e)&&k3(t,n,e);return L3(t,n),t},Mw=Ke&&Ke.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mn,"__esModule",{value:!0});var Ew=mn.deserializeUnchecked=Tw=mn.deserialize=Bw=mn.serialize=mn.BinaryReader=mn.BinaryWriter=mn.BorshError=mn.baseDecode=mn.baseEncode=void 0;const ji=Mw(vw),Sw=Mw(xw),N3=R3(T3),C3=typeof TextDecoder!="function"?N3.TextDecoder:TextDecoder,O3=new C3("utf-8",{fatal:!0});function D3(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),Sw.default.encode(Buffer.from(n))}mn.baseEncode=D3;function U3(n){return Buffer.from(Sw.default.decode(n))}mn.baseDecode=U3;const af=1024;class On extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mn.BorshError=On;class Aw{constructor(){this.buf=Buffer.alloc(af),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(af)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ji.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ji.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ji.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ji.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(af)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}mn.BinaryWriter=Aw;function Vr(n,t,e){const r=e.value;e.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){const s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new On("Reached the end of buffer when deserializing")}throw i}}}class lr{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ji.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ji.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ji.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ji.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new On(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return O3.decode(e)}catch(r){throw new On(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let o=0;o<e;++o)r.push(t());return r}}Hr([Vr],lr.prototype,"readU8",null);Hr([Vr],lr.prototype,"readU16",null);Hr([Vr],lr.prototype,"readU32",null);Hr([Vr],lr.prototype,"readU64",null);Hr([Vr],lr.prototype,"readU128",null);Hr([Vr],lr.prototype,"readU256",null);Hr([Vr],lr.prototype,"readU512",null);Hr([Vr],lr.prototype,"readString",null);Hr([Vr],lr.prototype,"readFixedArray",null);Hr([Vr],lr.prototype,"readArray",null);mn.BinaryReader=lr;function Iw(n){return n.charAt(0).toUpperCase()+n.slice(1)}function bo(n,t,e,r,o){try{if(typeof r=="string")o[`write${Iw(r)}`](e);else if(r instanceof Array)if(typeof r[0]=="number"){if(e.length!==r[0])throw new On(`Expecting byte array of length ${r[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(r.length===2&&typeof r[1]=="number"){if(e.length!==r[1])throw new On(`Expecting byte array of length ${r[1]}, but got ${e.length} bytes`);for(let i=0;i<r[1];i++)bo(n,null,e[i],r[0],o)}else o.writeArray(e,i=>{bo(n,t,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),bo(n,t,e,r.type,o));break}case"map":{o.writeU32(e.size),e.forEach((i,s)=>{bo(n,t,s,r.key,o),bo(n,t,i,r.value,o)});break}default:throw new On(`FieldType ${r} unrecognized`)}else _w(n,e,o)}catch(i){throw i instanceof On&&i.addToFieldPath(t),i}}function _w(n,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const r=n.get(t.constructor);if(!r)throw new On(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{bo(n,o,t[o],i,e)});else if(r.kind==="enum"){const o=t[r.field];for(let i=0;i<r.values.length;++i){const[s,a]=r.values[i];if(s===o){e.writeU8(i),bo(n,s,t[s],a,e);break}}}else throw new On(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function z3(n,t,e=Aw){const r=new e;return _w(n,t,r),r.toArray()}var Bw=mn.serialize=z3;function vo(n,t,e,r){try{if(typeof e=="string")return r[`read${Iw(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return r.readFixedArray(e[0]);if(typeof e[1]=="number"){const o=[];for(let i=0;i<e[1];i++)o.push(vo(n,null,e[0],r));return o}else return r.readArray(()=>vo(n,t,e[0],r))}if(e.kind==="option")return r.readU8()?vo(n,t,e.type,r):void 0;if(e.kind==="map"){let o=new Map;const i=r.readU32();for(let s=0;s<i;s++){const a=vo(n,t,e.key,r),u=vo(n,t,e.value,r);o.set(a,u)}return o}return Pd(n,e,r)}catch(o){throw o instanceof On&&o.addToFieldPath(t),o}}function Pd(n,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const r=n.get(t);if(!r)throw new On(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[i,s]of n.get(t).fields)o[i]=vo(n,i,s,e);return new t(o)}if(r.kind==="enum"){const o=e.readU8();if(o>=r.values.length)throw new On(`Enum index: ${o} is out of range`);const[i,s]=r.values[o],a=vo(n,i,s,e);return new t({[i]:a})}throw new On(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function j3(n,t,e,r=lr){const o=new r(e),i=Pd(n,t,o);if(o.offset<e.length)throw new On(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return i}var Tw=mn.deserialize=j3;function P3(n,t,e,r=lr){const o=new r(e);return Pd(n,t,o)}Ew=mn.deserializeUnchecked=P3;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.s16=Q.s8=Q.nu64be=Q.u48be=Q.u40be=Q.u32be=Q.u24be=Q.u16be=dn=Q.nu64=Q.u48=Q.u40=Lt=Q.u32=Q.u24=pr=Q.u16=be=Q.u8=Oo=Q.offset=Q.greedy=Q.Constant=Q.UTF8=Q.CString=Q.Blob=Q.Boolean=Q.BitField=Q.BitStructure=Q.VariantLayout=Q.Union=Q.UnionLayoutDiscriminator=Q.UnionDiscriminator=Q.Structure=Q.Sequence=Q.DoubleBE=Q.Double=Q.FloatBE=Q.Float=Q.NearInt64BE=Q.NearInt64=Q.NearUInt64BE=Q.NearUInt64=Q.IntBE=Q.Int=Q.UIntBE=Q.UInt=Q.OffsetLayout=Q.GreedyCount=Q.ExternalLayout=Q.bindConstructorLayout=Q.nameWithProperty=Q.Layout=Q.uint8ArrayToBuffer=Q.checkUint8Array=void 0;Q.constant=Q.utf8=Q.cstr=Be=Q.blob=Q.unionLayoutDiscriminator=Q.union=Dn=Q.seq=Q.bits=At=Q.struct=Q.f64be=Q.f64=Q.f32be=Q.f32=Q.ns64be=Q.s48be=Q.s40be=Q.s32be=Q.s24be=Q.s16be=er=Q.ns64=Q.s48=Q.s40=Q.s32=Q.s24=void 0;const Fd=fe;function ra(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Q.checkUint8Array=ra;function me(n){return ra(n),Fd.Buffer.from(n.buffer,n.byteOffset,n.length)}Q.uint8ArrayToBuffer=me;let Me=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};Q.Layout=Me;function $d(n,t){return t.property?n+"["+t.property+"]":n}Q.nameWithProperty=$d;function F3(n,t){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Me))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=t,t.boundConstructor_=n,t.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(n,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}Q.bindConstructorLayout=F3;class Hn extends Me{isCount(){throw new Error("ExternalLayout is abstract")}}Q.ExternalLayout=Hn;class kw extends Hn{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){ra(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}Q.GreedyCount=kw;class Wd extends Hn{constructor(t,e=0,r){if(!(t instanceof Me))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof yr||this.layout instanceof Er}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}Q.OffsetLayout=Wd;class yr extends Me{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readUIntLE(e,this.span)}encode(t,e,r=0){return me(e).writeUIntLE(t,r,this.span),this.span}}Q.UInt=yr;class Er extends Me{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readUIntBE(e,this.span)}encode(t,e,r=0){return me(e).writeUIntBE(t,r,this.span),this.span}}Q.UIntBE=Er;class Vo extends Me{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readIntLE(e,this.span)}encode(t,e,r=0){return me(e).writeIntLE(t,r,this.span),this.span}}Q.Int=Vo;class ia extends Me{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readIntBE(e,this.span)}encode(t,e,r=0){return me(e).writeIntBE(t,r,this.span),this.span}}Q.IntBE=ia;const fh=Math.pow(2,32);function cl(n){const t=Math.floor(n/fh),e=n-t*fh;return{hi32:t,lo32:e}}function ul(n,t){return n*fh+t}class Lw extends Me{constructor(t){super(8,t)}decode(t,e=0){const r=me(t),o=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return ul(i,o)}encode(t,e,r=0){const o=cl(t),i=me(e);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}}Q.NearUInt64=Lw;class Rw extends Me{constructor(t){super(8,t)}decode(t,e=0){const r=me(t),o=r.readUInt32BE(e),i=r.readUInt32BE(e+4);return ul(o,i)}encode(t,e,r=0){const o=cl(t),i=me(e);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}}Q.NearUInt64BE=Rw;class Nw extends Me{constructor(t){super(8,t)}decode(t,e=0){const r=me(t),o=r.readUInt32LE(e),i=r.readInt32LE(e+4);return ul(i,o)}encode(t,e,r=0){const o=cl(t),i=me(e);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}}Q.NearInt64=Nw;class Cw extends Me{constructor(t){super(8,t)}decode(t,e=0){const r=me(t),o=r.readInt32BE(e),i=r.readUInt32BE(e+4);return ul(o,i)}encode(t,e,r=0){const o=cl(t),i=me(e);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}}Q.NearInt64BE=Cw;class Ow extends Me{constructor(t){super(4,t)}decode(t,e=0){return me(t).readFloatLE(e)}encode(t,e,r=0){return me(e).writeFloatLE(t,r),4}}Q.Float=Ow;class Dw extends Me{constructor(t){super(4,t)}decode(t,e=0){return me(t).readFloatBE(e)}encode(t,e,r=0){return me(e).writeFloatBE(t,r),4}}Q.FloatBE=Dw;class Uw extends Me{constructor(t){super(8,t)}decode(t,e=0){return me(t).readDoubleLE(e)}encode(t,e,r=0){return me(e).writeDoubleLE(t,r),8}}Q.Double=Uw;class zw extends Me{constructor(t){super(8,t)}decode(t,e=0){return me(t).readDoubleBE(e)}encode(t,e,r=0){return me(e).writeDoubleBE(t,r),8}}Q.DoubleBE=zw;class jw extends Me{constructor(t,e,r){if(!(t instanceof Me))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Hn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof Hn)&&0<t.span&&(o=e*t.span),super(o,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof Hn&&(o=o.decode(t,e)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let o=0,i=this.count;for(i instanceof Hn&&(i=i.decode(t,e));o<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return r}encode(t,e,r=0){const o=this.elementLayout,i=t.reduce((s,a)=>s+o.encode(a,e,r+s),0);return this.count instanceof Hn&&this.count.encode(t.length,e,r),i}}Q.Sequence=jw;class Pw extends Me{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((i,s)=>i&&s instanceof Me,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&r===void 0&&(r=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{const s=i.getSpan(t,e);return e+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,e=0){ra(t);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const o=r;let i=0,s=0;for(const a of this.fields){let u=a.span;if(s=0<u?u:0,a.property!==void 0){const g=t[a.property];g!==void 0&&(s=a.encode(g,e,r),0>u&&(u=a.getSpan(e,r)))}i=r,r+=u}return i+s-o}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}Q.Structure=Pw;class Kd{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}}Q.UnionDiscriminator=Kd;class Su extends Kd{constructor(t,e){if(!(t instanceof Hn&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}Q.UnionLayoutDiscriminator=Su;class qd extends Me{constructor(t,e,r){let o;if(t instanceof yr||t instanceof Er)o=new Su(new Wd(t));else if(t instanceof Hn&&t.isCount())o=new Su(t);else if(t instanceof Kd)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Me))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof yr||t instanceof Er)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof yr||t instanceof Er,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const o=this.discriminator,i=o.decode(t,e),s=this.registry[i];if(s===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[a.property]=a.decode(t,e+u)}else r=s.decode(t,e);return r}encode(t,e,r=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,r),a+s.encode(t[s.property],e,r+a)}return o.encode(t,e,r)}addVariant(t,e,r){const o=new Fw(this,t,e,r);return this.registry[t]=o,o}getVariant(t,e=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,e):r=t,this.registry[r]}}Q.Union=qd;class Fw extends Me{constructor(t,e,r,o){if(!(t instanceof qd))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Me))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+r)),r+o}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=o;if(this.layout&&(this.layout.encode(t[this.property],e,r+o),i+=this.layout.getSpan(e,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Q.VariantLayout=Fw;function ps(n){return 0>n&&(n+=4294967296),n}class Hd extends Me{constructor(t,e,r){if(!(t instanceof yr||t instanceof Er))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&r===void 0&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(i){return o=ps(i),this},this._packedGetValue=function(){return o}}decode(t,e=0){const r=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,e,r=0){const o=this.word.decode(e,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const s=t[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new Vd(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new $w(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}Q.BitStructure=Hd;class Vd{constructor(t,e,r){if(!(t instanceof Hd))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((s,a)=>s+a.bits,0);if(e+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-e),this.wordMask=ps(this.valueMask<<this.start),this.property=r}decode(t,e){const r=this.container._packedGetValue();return ps(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==ps(t&this.valueMask))throw new TypeError($d("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=ps(t<<this.start);this.container._packedSetValue(ps(e&~this.wordMask)|r)}}Q.BitField=Vd;let $w=class extends Vd{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Q.Boolean=$w;class Ww extends Me{constructor(t,e){if(!(t instanceof Hn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Hn||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),me(t).slice(e,e+r)}encode(t,e,r){let o=this.length;if(this.length instanceof Hn&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError($d("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>e.length)throw new RangeError("encoding overruns Uint8Array");const i=me(t);return me(e).write(i.toString("hex"),r,o,"hex"),this.length instanceof Hn&&this.length.encode(o,e,r),o}}Q.Blob=Ww;class Kw extends Me{constructor(t){super(-1,t)}getSpan(t,e=0){ra(t);let r=e;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return me(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const o=Fd.Buffer.from(t,"utf8"),i=o.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");const s=me(e);return o.copy(s,r),s[r+i]=0,i+1}}Q.CString=Kw;class qw extends Me{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return ra(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return me(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const o=Fd.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(me(e),r),i}}Q.UTF8=qw;class Hw extends Me{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}}Q.Constant=Hw;Q.greedy=(n,t)=>new kw(n,t);var Oo=Q.offset=(n,t,e)=>new Wd(n,t,e),be=Q.u8=n=>new yr(1,n),pr=Q.u16=n=>new yr(2,n);Q.u24=n=>new yr(3,n);var Lt=Q.u32=n=>new yr(4,n);Q.u40=n=>new yr(5,n);Q.u48=n=>new yr(6,n);var dn=Q.nu64=n=>new Lw(n);Q.u16be=n=>new Er(2,n);Q.u24be=n=>new Er(3,n);Q.u32be=n=>new Er(4,n);Q.u40be=n=>new Er(5,n);Q.u48be=n=>new Er(6,n);Q.nu64be=n=>new Rw(n);Q.s8=n=>new Vo(1,n);Q.s16=n=>new Vo(2,n);Q.s24=n=>new Vo(3,n);Q.s32=n=>new Vo(4,n);Q.s40=n=>new Vo(5,n);Q.s48=n=>new Vo(6,n);var er=Q.ns64=n=>new Nw(n);Q.s16be=n=>new ia(2,n);Q.s24be=n=>new ia(3,n);Q.s32be=n=>new ia(4,n);Q.s40be=n=>new ia(5,n);Q.s48be=n=>new ia(6,n);Q.ns64be=n=>new Cw(n);Q.f32=n=>new Ow(n);Q.f32be=n=>new Dw(n);Q.f64=n=>new Uw(n);Q.f64be=n=>new zw(n);var At=Q.struct=(n,t,e)=>new Pw(n,t,e);Q.bits=(n,t,e)=>new Hd(n,t,e);var Dn=Q.seq=(n,t,e)=>new jw(n,t,e);Q.union=(n,t,e)=>new qd(n,t,e);Q.unionLayoutDiscriminator=(n,t)=>new Su(n,t);var Be=Q.blob=(n,t)=>new Ww(n,t);Q.cstr=n=>new Kw(n);Q.utf8=(n,t)=>new qw(n,t);Q.constant=(n,t)=>new Hw(n,t);var $3=8078e3,W3=8078001,K3=8078004,q3=8078005,H3=8078006,V3=8078011;function Vw(n){return Array.isArray(n)?"%5B"+n.map(Vw).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function G3([n,t]){return`${n}=${Vw(t)}`}function Y3(n){const t=Object.entries(n).map(G3).join("&");return btoa(t)}function Z3(n,t={}){{let e=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(t).length&&(e+=` '${Y3(t)}'`),`${e}\``}}var As=class extends Error{constructor(...[t,e]){let r,o;if(e){const{cause:s,...a}=e;s&&(o={cause:s}),Object.keys(a).length>0&&(r=a)}const i=Z3(t,r);super(i,o);je(this,"cause",this.cause);je(this,"context");this.context={__code:t,...r},this.name="SolanaError"}};function Q3(n,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(n)}function J3(n){return Object.freeze({...n,encode:t=>{const e=new Uint8Array(Q3(t,n));return n.write(t,e,0),e}})}function X3(n){return Object.freeze({...n,decode:(t,e=0)=>n.read(t,e)[0]})}function is(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function t8(n,t){if(is(n)!==is(t))throw new As(K3);if(is(n)&&is(t)&&n.fixedSize!==t.fixedSize)throw new As(q3,{decoderFixedSize:t.fixedSize,encoderFixedSize:n.fixedSize});if(!is(n)&&!is(t)&&n.maxSize!==t.maxSize)throw new As(H3,{decoderMaxSize:t.maxSize,encoderMaxSize:n.maxSize});return{...t,...n,decode:t.decode,encode:n.encode,read:t.read,write:n.write}}function e8(n,t,e=0){if(t.length-e<=0)throw new As($3,{codecDescription:n})}function n8(n,t,e,r=0){const o=e.length-r;if(o<t)throw new As(W3,{bytesLength:o,codecDescription:n,expected:t})}function r8(n,t,e,r){if(r<t||r>e)throw new As(V3,{codecDescription:n,max:e,min:t,value:r})}function Gw(n){return(n==null?void 0:n.endian)!==1}function i8(n){return J3({fixedSize:n.size,write(t,e,r){n.range&&r8(n.name,n.range[0],n.range[1],t);const o=new ArrayBuffer(n.size);return n.set(new DataView(o),t,Gw(n.config)),e.set(new Uint8Array(o),r),r+n.size}})}function o8(n){return X3({fixedSize:n.size,read(t,e=0){e8(n.name,t,e),n8(n.name,n.size,t,e);const r=new DataView(s8(t,e,n.size));return[n.get(r,Gw(n.config)),e+n.size]}})}function s8(n,t,e){const r=n.byteOffset+(t??0),o=e??n.byteLength;return n.buffer.slice(r,r+o)}var a8=(n={})=>i8({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,r)=>t.setBigUint64(0,BigInt(e),r),size:8}),c8=(n={})=>o8({config:n,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}),u8=(n={})=>t8(a8(n),c8(n));class l8 extends TypeError{constructor(t,e){let r;const{message:o,explanation:i,...s}=t,{path:a}=t,u=a.length===0?o:`At path: ${a.join(".")} -- ${o}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function f8(n){return rc(n)&&typeof n[Symbol.iterator]=="function"}function rc(n){return typeof n=="object"&&n!=null}function Au(n){return rc(n)&&!Array.isArray(n)}function _r(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function h8(n){const{done:t,value:e}=n.next();return t?void 0:e}function d8(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:i}=t,{type:s}=e,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${_r(r)}\``}=n;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...n,message:u}}function*Cp(n,t,e,r){f8(n)||(n=[n]);for(const o of n){const i=d8(o,t,e,r);i&&(yield i)}}function*Gd(n,t,e={}){const{path:r=[],branch:o=[n],coerce:i=!1,mask:s=!1}=e,a={path:r,branch:o,mask:s};i&&(n=t.coercer(n,a));let u="valid";for(const g of t.validator(n,a))g.explanation=e.message,u="not_valid",yield[g,void 0];for(let[g,m,x]of t.entries(n,a)){const B=Gd(m,x,{path:g===void 0?r:[...r,g],branch:g===void 0?o:[...o,m],coerce:i,mask:s,message:e.message});for(const S of B)S[0]?(u=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):i&&(m=S[1],g===void 0?n=m:n instanceof Map?n.set(g,m):n instanceof Set?n.add(m):rc(n)&&(m!==void 0||g in n)&&(n[g]=m))}if(u!=="not_valid")for(const g of t.refiner(n,a))g.explanation=e.message,u="not_refined",yield[g,void 0];u==="valid"&&(yield[void 0,n])}let Gr=class{constructor(t){const{type:e,schema:r,validator:o,refiner:i,coercer:s=u=>u,entries:a=function*(){}}=t;this.type=e,this.schema=r,this.entries=a,this.coercer=s,o?this.validator=(u,g)=>{const m=o(u,g);return Cp(m,g,this,u)}:this.validator=()=>[],i?this.refiner=(u,g)=>{const m=i(u,g);return Cp(m,g,this,u)}:this.refiner=()=>[]}assert(t,e){return p8(t,this,e)}create(t,e){return Wa(t,this,e)}is(t){return Yw(t,this)}mask(t,e){return g8(t,this,e)}validate(t,e={}){return ic(t,this,e)}};function p8(n,t,e){const r=ic(n,t,{message:e});if(r[0])throw r[0]}function Wa(n,t,e){const r=ic(n,t,{coerce:!0,message:e});if(r[0])throw r[0];return r[1]}function g8(n,t,e){const r=ic(n,t,{coerce:!0,mask:!0,message:e});if(r[0])throw r[0];return r[1]}function Yw(n,t){return!ic(n,t)[0]}function ic(n,t,e={}){const r=Gd(n,t,e),o=h8(r);return o[0]?[new l8(o[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function Go(n,t){return new Gr({type:n,schema:null,validator:t})}function m8(){return Go("any",()=>!0)}function vt(n){return new Gr({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${_r(t)}`}})}function Pr(){return Go("boolean",n=>typeof n=="boolean")}function Yd(n){return Go("instance",t=>t instanceof n||`Expected a \`${n.name}\` instance, but received: ${_r(t)}`)}function De(n){const t=_r(n),e=typeof n;return new Gr({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${t}\`, but received: ${_r(r)}`}})}function w8(){return Go("never",()=>!1)}function xt(n){return new Gr({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function Y(){return Go("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${_r(n)}`)}function Dt(n){return new Gr({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function Zw(n,t){return new Gr({type:"record",schema:null,*entries(e){if(rc(e))for(const r in e){const o=e[r];yield[r,r,n],yield[r,o,t]}},validator(e){return Au(e)||`Expected an object, but received: ${_r(e)}`},coercer(e){return Au(e)?{...e}:e}})}function dt(){return Go("string",n=>typeof n=="string"||`Expected a string, but received: ${_r(n)}`)}function Zd(n){const t=w8();return new Gr({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let o=0;o<r;o++)yield[o,e[o],n[o]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${_r(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function ot(n){const t=Object.keys(n);return new Gr({type:"type",schema:n,*entries(e){if(rc(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return Au(e)||`Expected an object, but received: ${_r(e)}`},coercer(e){return Au(e)?{...e}:e}})}function zn(n){const t=n.map(e=>e.type).join(" | ");return new Gr({type:"union",schema:null,coercer(e,r){for(const o of n){const[i,s]=o.validate(e,{coerce:!0,mask:r.mask});if(!i)return s}return e},validator(e,r){const o=[];for(const i of n){const[...s]=Gd(e,i,r),[a]=s;if(a[0])for(const[u]of s)u&&o.push(u);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${_r(e)}`,...o]}})}function oa(){return Go("unknown",()=>!0)}function oc(n,t,e){return new Gr({...n,coercer:(r,o)=>Yw(r,t)?n.coercer(e(r,o),o):n.coercer(r,o)})}var Sc,y8=new Uint8Array(16);function Qw(){if(!Sc&&(Sc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Sc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sc(y8)}const b8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ll(n){return typeof n=="string"&&b8.test(n)}var fn=[];for(var cf=0;cf<256;++cf)fn.push((cf+256).toString(16).substr(1));function fl(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(fn[n[t+0]]+fn[n[t+1]]+fn[n[t+2]]+fn[n[t+3]]+"-"+fn[n[t+4]]+fn[n[t+5]]+"-"+fn[n[t+6]]+fn[n[t+7]]+"-"+fn[n[t+8]]+fn[n[t+9]]+"-"+fn[n[t+10]]+fn[n[t+11]]+fn[n[t+12]]+fn[n[t+13]]+fn[n[t+14]]+fn[n[t+15]]).toLowerCase();if(!ll(e))throw TypeError("Stringified UUID is invalid");return e}var Op,uf,lf=0,ff=0;function v8(n,t,e){var r=t&&e||0,o=t||new Array(16);n=n||{};var i=n.node||Op,s=n.clockseq!==void 0?n.clockseq:uf;if(i==null||s==null){var a=n.random||(n.rng||Qw)();i==null&&(i=Op=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=uf=(a[6]<<8|a[7])&16383)}var u=n.msecs!==void 0?n.msecs:Date.now(),g=n.nsecs!==void 0?n.nsecs:ff+1,m=u-lf+(g-ff)/1e4;if(m<0&&n.clockseq===void 0&&(s=s+1&16383),(m<0||u>lf)&&n.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lf=u,ff=g,uf=s,u+=122192928e5;var x=((u&268435455)*1e4+g)%4294967296;o[r++]=x>>>24&255,o[r++]=x>>>16&255,o[r++]=x>>>8&255,o[r++]=x&255;var B=u/4294967296*1e4&268435455;o[r++]=B>>>8&255,o[r++]=B&255,o[r++]=B>>>24&15|16,o[r++]=B>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var S=0;S<6;++S)o[r+S]=i[S];return t||fl(o)}function Jw(n){if(!ll(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function x8(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var M8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",E8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Xw(n,t,e){function r(o,i,s,a){if(typeof o=="string"&&(o=x8(o)),typeof i=="string"&&(i=Jw(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=e(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,s){a=a||0;for(var g=0;g<16;++g)s[a+g]=u[g];return s}return fl(u)}try{r.name=n}catch{}return r.DNS=M8,r.URL=E8,r}function S8(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return A8(I8(_8(n),n.length*8))}function A8(n){for(var t=[],e=n.length*32,r="0123456789abcdef",o=0;o<e;o+=8){var i=n[o>>5]>>>o%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(s)}return t}function ty(n){return(n+64>>>9<<4)+14+1}function I8(n,t){n[t>>5]|=128<<t%32,n[ty(t)-1]=t;for(var e=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<n.length;s+=16){var a=e,u=r,g=o,m=i;e=Sn(e,r,o,i,n[s],7,-680876936),i=Sn(i,e,r,o,n[s+1],12,-389564586),o=Sn(o,i,e,r,n[s+2],17,606105819),r=Sn(r,o,i,e,n[s+3],22,-1044525330),e=Sn(e,r,o,i,n[s+4],7,-176418897),i=Sn(i,e,r,o,n[s+5],12,1200080426),o=Sn(o,i,e,r,n[s+6],17,-1473231341),r=Sn(r,o,i,e,n[s+7],22,-45705983),e=Sn(e,r,o,i,n[s+8],7,1770035416),i=Sn(i,e,r,o,n[s+9],12,-1958414417),o=Sn(o,i,e,r,n[s+10],17,-42063),r=Sn(r,o,i,e,n[s+11],22,-1990404162),e=Sn(e,r,o,i,n[s+12],7,1804603682),i=Sn(i,e,r,o,n[s+13],12,-40341101),o=Sn(o,i,e,r,n[s+14],17,-1502002290),r=Sn(r,o,i,e,n[s+15],22,1236535329),e=An(e,r,o,i,n[s+1],5,-165796510),i=An(i,e,r,o,n[s+6],9,-1069501632),o=An(o,i,e,r,n[s+11],14,643717713),r=An(r,o,i,e,n[s],20,-373897302),e=An(e,r,o,i,n[s+5],5,-701558691),i=An(i,e,r,o,n[s+10],9,38016083),o=An(o,i,e,r,n[s+15],14,-660478335),r=An(r,o,i,e,n[s+4],20,-405537848),e=An(e,r,o,i,n[s+9],5,568446438),i=An(i,e,r,o,n[s+14],9,-1019803690),o=An(o,i,e,r,n[s+3],14,-187363961),r=An(r,o,i,e,n[s+8],20,1163531501),e=An(e,r,o,i,n[s+13],5,-1444681467),i=An(i,e,r,o,n[s+2],9,-51403784),o=An(o,i,e,r,n[s+7],14,1735328473),r=An(r,o,i,e,n[s+12],20,-1926607734),e=In(e,r,o,i,n[s+5],4,-378558),i=In(i,e,r,o,n[s+8],11,-2022574463),o=In(o,i,e,r,n[s+11],16,1839030562),r=In(r,o,i,e,n[s+14],23,-35309556),e=In(e,r,o,i,n[s+1],4,-1530992060),i=In(i,e,r,o,n[s+4],11,1272893353),o=In(o,i,e,r,n[s+7],16,-155497632),r=In(r,o,i,e,n[s+10],23,-1094730640),e=In(e,r,o,i,n[s+13],4,681279174),i=In(i,e,r,o,n[s],11,-358537222),o=In(o,i,e,r,n[s+3],16,-722521979),r=In(r,o,i,e,n[s+6],23,76029189),e=In(e,r,o,i,n[s+9],4,-640364487),i=In(i,e,r,o,n[s+12],11,-421815835),o=In(o,i,e,r,n[s+15],16,530742520),r=In(r,o,i,e,n[s+2],23,-995338651),e=_n(e,r,o,i,n[s],6,-198630844),i=_n(i,e,r,o,n[s+7],10,1126891415),o=_n(o,i,e,r,n[s+14],15,-1416354905),r=_n(r,o,i,e,n[s+5],21,-57434055),e=_n(e,r,o,i,n[s+12],6,1700485571),i=_n(i,e,r,o,n[s+3],10,-1894986606),o=_n(o,i,e,r,n[s+10],15,-1051523),r=_n(r,o,i,e,n[s+1],21,-2054922799),e=_n(e,r,o,i,n[s+8],6,1873313359),i=_n(i,e,r,o,n[s+15],10,-30611744),o=_n(o,i,e,r,n[s+6],15,-1560198380),r=_n(r,o,i,e,n[s+13],21,1309151649),e=_n(e,r,o,i,n[s+4],6,-145523070),i=_n(i,e,r,o,n[s+11],10,-1120210379),o=_n(o,i,e,r,n[s+2],15,718787259),r=_n(r,o,i,e,n[s+9],21,-343485551),e=Pi(e,a),r=Pi(r,u),o=Pi(o,g),i=Pi(i,m)}return[e,r,o,i]}function _8(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(ty(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function Pi(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function B8(n,t){return n<<t|n>>>32-t}function hl(n,t,e,r,o,i){return Pi(B8(Pi(Pi(t,n),Pi(r,i)),o),e)}function Sn(n,t,e,r,o,i,s){return hl(t&e|~t&r,n,t,o,i,s)}function An(n,t,e,r,o,i,s){return hl(t&r|e&~r,n,t,o,i,s)}function In(n,t,e,r,o,i,s){return hl(t^e^r,n,t,o,i,s)}function _n(n,t,e,r,o,i,s){return hl(e^(t|~r),n,t,o,i,s)}var T8=Xw("v3",48,S8);function k8(n,t,e){n=n||{};var r=n.random||(n.rng||Qw)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=r[o];return t}return fl(r)}function L8(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function hf(n,t){return n<<t|n>>>32-t}function R8(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var o=0;o<r.length;++o)n.push(r.charCodeAt(o))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,s=Math.ceil(i/16),a=new Array(s),u=0;u<s;++u){for(var g=new Uint32Array(16),m=0;m<16;++m)g[m]=n[u*64+m*4]<<24|n[u*64+m*4+1]<<16|n[u*64+m*4+2]<<8|n[u*64+m*4+3];a[u]=g}a[s-1][14]=(n.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(n.length-1)*8&4294967295;for(var x=0;x<s;++x){for(var B=new Uint32Array(80),S=0;S<16;++S)B[S]=a[x][S];for(var k=16;k<80;++k)B[k]=hf(B[k-3]^B[k-8]^B[k-14]^B[k-16],1);for(var T=e[0],I=e[1],N=e[2],O=e[3],R=e[4],U=0;U<80;++U){var P=Math.floor(U/20),j=hf(T,5)+L8(P,I,N,O)+R+t[P]+B[U]>>>0;R=O,O=N,N=hf(I,30)>>>0,I=T,T=j}e[0]=e[0]+T>>>0,e[1]=e[1]+I>>>0,e[2]=e[2]+N>>>0,e[3]=e[3]+O>>>0,e[4]=e[4]+R>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var N8=Xw("v5",80,R8);const C8="00000000-0000-0000-0000-000000000000";function O8(n){if(!ll(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const D8=Object.freeze(Object.defineProperty({__proto__:null,NIL:C8,parse:Jw,stringify:fl,v1:v8,v3:T8,v4:k8,v5:N8,validate:ll,version:O8},Symbol.toStringTag,{value:"Module"})),ey=qa(D8),U8=ey.v4,z8=function(n,t,e,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:n};if(o===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const s=typeof r.generator=="function"?r.generator:function(){return U8()};i.id=s(i,r)}else o===2&&e===null?r.notificationIdNull&&(i.id=null):i.id=e;return i};var j8=z8;const P8=ey.v4,F8=j8,Iu=function(n,t){if(!(this instanceof Iu))return new Iu(n,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return P8()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=n};Iu.prototype.request=function(n,t,e,r){const o=this;let i=null;const s=Array.isArray(n)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&n&&typeof n=="object"&&typeof t=="function")r=t,i=n;else{typeof e=="function"&&(r=e,e=void 0);const g=typeof r=="function";try{i=F8(n,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(g)return r(m);throw m}if(!g)return i}let u;try{u=JSON.stringify(i,this.options.replacer)}catch(g){return r(g)}return this.callServer(u,function(g,m){o._parseResponse(g,m,r)}),i};Iu.prototype._parseResponse=function(n,t,e){if(n){e(n);return}if(!t)return e();let r;try{r=JSON.parse(t,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(r)){const o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return e(null,r.filter(o),r.filter(i))}else return e(null,r.error,r.result);e(null,r)};class ny extends ow{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,IB(t);const r=kd(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Ws(i)}update(t){return mu(this),this.iHash.update(t),this}digestInto(t){mu(this),tc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ry=(n,t,e)=>new ny(n,t).update(e).digest();ry.create=(n,t)=>new ny(n,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dp(n){n.lowS!==void 0&&$i("lowS",n.lowS),n.prehash!==void 0&&$i("prehash",n.prehash)}function $8(n){const t=Od(n);ec(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:r,a:o}=t;if(e){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}class W8 extends Error{constructor(t=""){super(t)}}const ni={Err:W8,_tlv:{encode:(n,t)=>{const{Err:e}=ni;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const r=t.length/2,o=Mc(r);if(o.length/2&128)throw new e("tlv.encode: long form length too big");const i=r>127?Mc(o.length/2|128):"";return Mc(n)+i+o+t},decode(n,t){const{Err:e}=ni;let r=0;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[r++]!==n)throw new e("tlv.decode: wrong tlv");const o=t[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const u=o&127;if(!u)throw new e("tlv.decode(long): indefinite length not supported");if(u>4)throw new e("tlv.decode(long): byte length is too big");const g=t.subarray(r,r+u);if(g.length!==u)throw new e("tlv.decode: length bytes not complete");if(g[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const m of g)s=s<<8|m;if(r+=u,s<128)throw new e("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new e("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(n){const{Err:t}=ni;if(n<li)throw new t("integer: negative integers are not allowed");let e=Mc(n);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(n){const{Err:t}=ni;if(n[0]&128)throw new t("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Co(n)}},toSig(n){const{Err:t,_int:e,_tlv:r}=ni,o=Je("signature",n),{v:i,l:s}=r.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,i),{v:g,l:m}=r.decode(2,u);if(m.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(a),s:e.decode(g)}},hexFromSig(n){const{_tlv:t,_int:e}=ni,r=t.encode(2,e.encode(n.r)),o=t.encode(2,e.encode(n.s)),i=r+o;return t.encode(48,i)}},li=BigInt(0),sn=BigInt(1);BigInt(2);const Up=BigInt(3);BigInt(4);function K8(n){const t=$8(n),{Fp:e}=t,r=nc(t.n,t.nBitLength),o=t.toBytes||((T,I,N)=>{const O=I.toAffine();return Hs(Uint8Array.from([4]),e.toBytes(O.x),e.toBytes(O.y))}),i=t.fromBytes||(T=>{const I=T.subarray(1),N=e.fromBytes(I.subarray(0,e.BYTES)),O=e.fromBytes(I.subarray(e.BYTES,2*e.BYTES));return{x:N,y:O}});function s(T){const{a:I,b:N}=t,O=e.sqr(T),R=e.mul(O,T);return e.add(e.add(R,e.mul(T,I)),N)}if(!e.eql(e.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(T){return Nd(T,sn,t.n)}function u(T){const{allowedPrivateKeyLengths:I,nByteLength:N,wrapPrivateKey:O,n:R}=t;if(I&&typeof T!="bigint"){if(Ks(T)&&(T=qs(T)),typeof T!="string"||!I.includes(T.length))throw new Error("invalid private key");T=T.padStart(N*2,"0")}let U;try{U=typeof T=="bigint"?T:Co(Je("private key",T,N))}catch{throw new Error("invalid private key, expected hex or "+N+" bytes, got "+typeof T)}return O&&(U=Ne(U,R)),xr("private key",U,sn,R),U}function g(T){if(!(T instanceof B))throw new Error("ProjectivePoint expected")}const m=bu((T,I)=>{const{px:N,py:O,pz:R}=T;if(e.eql(R,e.ONE))return{x:N,y:O};const U=T.is0();I==null&&(I=U?e.ONE:e.inv(R));const P=e.mul(N,I),j=e.mul(O,I),F=e.mul(R,I);if(U)return{x:e.ZERO,y:e.ZERO};if(!e.eql(F,e.ONE))throw new Error("invZ was invalid");return{x:P,y:j}}),x=bu(T=>{if(T.is0()){if(t.allowInfinityPoint&&!e.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:I,y:N}=T.toAffine();if(!e.isValid(I)||!e.isValid(N))throw new Error("bad point: x or y not FE");const O=e.sqr(N),R=s(I);if(!e.eql(O,R))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class B{constructor(I,N,O){if(I==null||!e.isValid(I))throw new Error("x required");if(N==null||!e.isValid(N)||e.is0(N))throw new Error("y required");if(O==null||!e.isValid(O))throw new Error("z required");this.px=I,this.py=N,this.pz=O,Object.freeze(this)}static fromAffine(I){const{x:N,y:O}=I||{};if(!I||!e.isValid(N)||!e.isValid(O))throw new Error("invalid affine point");if(I instanceof B)throw new Error("projective point not allowed");const R=U=>e.eql(U,e.ZERO);return R(N)&&R(O)?B.ZERO:new B(N,O,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const N=Cd(e,I.map(O=>O.pz));return I.map((O,R)=>O.toAffine(N[R])).map(B.fromAffine)}static fromHex(I){const N=B.fromAffine(i(Je("pointHex",I)));return N.assertValidity(),N}static fromPrivateKey(I){return B.BASE.multiply(u(I))}static msm(I,N){return bw(B,r,I,N)}_setWindowSize(I){k.setWindowSize(this,I)}assertValidity(){x(this)}hasEvenY(){const{y:I}=this.toAffine();if(e.isOdd)return!e.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){g(I);const{px:N,py:O,pz:R}=this,{px:U,py:P,pz:j}=I,F=e.eql(e.mul(N,j),e.mul(U,R)),$=e.eql(e.mul(O,j),e.mul(P,R));return F&&$}negate(){return new B(this.px,e.neg(this.py),this.pz)}double(){const{a:I,b:N}=t,O=e.mul(N,Up),{px:R,py:U,pz:P}=this;let j=e.ZERO,F=e.ZERO,$=e.ZERO,K=e.mul(R,R),nt=e.mul(U,U),J=e.mul(P,P),X=e.mul(R,U);return X=e.add(X,X),$=e.mul(R,P),$=e.add($,$),j=e.mul(I,$),F=e.mul(O,J),F=e.add(j,F),j=e.sub(nt,F),F=e.add(nt,F),F=e.mul(j,F),j=e.mul(X,j),$=e.mul(O,$),J=e.mul(I,J),X=e.sub(K,J),X=e.mul(I,X),X=e.add(X,$),$=e.add(K,K),K=e.add($,K),K=e.add(K,J),K=e.mul(K,X),F=e.add(F,K),J=e.mul(U,P),J=e.add(J,J),K=e.mul(J,X),j=e.sub(j,K),$=e.mul(J,nt),$=e.add($,$),$=e.add($,$),new B(j,F,$)}add(I){g(I);const{px:N,py:O,pz:R}=this,{px:U,py:P,pz:j}=I;let F=e.ZERO,$=e.ZERO,K=e.ZERO;const nt=t.a,J=e.mul(t.b,Up);let X=e.mul(N,U),_=e.mul(O,P),c=e.mul(R,j),d=e.add(N,O),p=e.add(U,P);d=e.mul(d,p),p=e.add(X,_),d=e.sub(d,p),p=e.add(N,R);let w=e.add(U,j);return p=e.mul(p,w),w=e.add(X,c),p=e.sub(p,w),w=e.add(O,R),F=e.add(P,j),w=e.mul(w,F),F=e.add(_,c),w=e.sub(w,F),K=e.mul(nt,p),F=e.mul(J,c),K=e.add(F,K),F=e.sub(_,K),K=e.add(_,K),$=e.mul(F,K),_=e.add(X,X),_=e.add(_,X),c=e.mul(nt,c),p=e.mul(J,p),_=e.add(_,c),c=e.sub(X,c),c=e.mul(nt,c),p=e.add(p,c),X=e.mul(_,p),$=e.add($,X),X=e.mul(w,p),F=e.mul(d,F),F=e.sub(F,X),X=e.mul(d,_),K=e.mul(w,K),K=e.add(K,X),new B(F,$,K)}subtract(I){return this.add(I.negate())}is0(){return this.equals(B.ZERO)}wNAF(I){return k.wNAFCached(this,I,B.normalizeZ)}multiplyUnsafe(I){const{endo:N,n:O}=t;xr("scalar",I,li,O);const R=B.ZERO;if(I===li)return R;if(this.is0()||I===sn)return this;if(!N||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,I,B.normalizeZ);let{k1neg:U,k1:P,k2neg:j,k2:F}=N.splitScalar(I),$=R,K=R,nt=this;for(;P>li||F>li;)P&sn&&($=$.add(nt)),F&sn&&(K=K.add(nt)),nt=nt.double(),P>>=sn,F>>=sn;return U&&($=$.negate()),j&&(K=K.negate()),K=new B(e.mul(K.px,N.beta),K.py,K.pz),$.add(K)}multiply(I){const{endo:N,n:O}=t;xr("scalar",I,sn,O);let R,U;if(N){const{k1neg:P,k1:j,k2neg:F,k2:$}=N.splitScalar(I);let{p:K,f:nt}=this.wNAF(j),{p:J,f:X}=this.wNAF($);K=k.constTimeNegate(P,K),J=k.constTimeNegate(F,J),J=new B(e.mul(J.px,N.beta),J.py,J.pz),R=K.add(J),U=nt.add(X)}else{const{p:P,f:j}=this.wNAF(I);R=P,U=j}return B.normalizeZ([R,U])[0]}multiplyAndAddUnsafe(I,N,O){const R=B.BASE,U=(j,F)=>F===li||F===sn||!j.equals(R)?j.multiplyUnsafe(F):j.multiply(F),P=U(this,N).add(U(I,O));return P.is0()?void 0:P}toAffine(I){return m(this,I)}isTorsionFree(){const{h:I,isTorsionFree:N}=t;if(I===sn)return!0;if(N)return N(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:N}=t;return I===sn?this:N?N(B,this):this.multiplyUnsafe(t.h)}toRawBytes(I=!0){return $i("isCompressed",I),this.assertValidity(),o(B,this,I)}toHex(I=!0){return $i("isCompressed",I),qs(this.toRawBytes(I))}}B.BASE=new B(t.Gx,t.Gy,e.ONE),B.ZERO=new B(e.ZERO,e.ONE,e.ZERO);const S=t.nBitLength,k=yw(B,t.endo?Math.ceil(S/2):S);return{CURVE:t,ProjectivePoint:B,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:a}}function q8(n){const t=Od(n);return ec(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function H8(n){const t=q8(n),{Fp:e,n:r}=t,o=e.BYTES+1,i=2*e.BYTES+1;function s(c){return Ne(c,r)}function a(c){return ch(c,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:x}=K8({...t,toBytes(c,d,p){const w=d.toAffine(),b=e.toBytes(w.x),M=Hs;return $i("isCompressed",p),p?M(Uint8Array.from([d.hasEvenY()?2:3]),b):M(Uint8Array.from([4]),b,e.toBytes(w.y))},fromBytes(c){const d=c.length,p=c[0],w=c.subarray(1);if(d===o&&(p===2||p===3)){const b=Co(w);if(!Nd(b,sn,e.ORDER))throw new Error("Point is not on curve");const M=m(b);let L;try{L=e.sqrt(M)}catch(A){const W=A instanceof Error?": "+A.message:"";throw new Error("Point is not on curve"+W)}const v=(L&sn)===sn;return(p&1)===1!==v&&(L=e.neg(L)),{x:b,y:L}}else if(d===i&&p===4){const b=e.fromBytes(w.subarray(0,e.BYTES)),M=e.fromBytes(w.subarray(e.BYTES,2*e.BYTES));return{x:b,y:M}}else{const b=o,M=i;throw new Error("invalid Point, expected length of "+b+", or uncompressed "+M+", got "+d)}}}),B=c=>qs($a(c,t.nByteLength));function S(c){const d=r>>sn;return c>d}function k(c){return S(c)?s(-c):c}const T=(c,d,p)=>Co(c.slice(d,p));class I{constructor(d,p,w){xr("r",d,sn,r),xr("s",p,sn,r),this.r=d,this.s=p,w!=null&&(this.recovery=w),Object.freeze(this)}static fromCompact(d){const p=t.nByteLength;return d=Je("compactSignature",d,p*2),new I(T(d,0,p),T(d,p,2*p))}static fromDER(d){const{r:p,s:w}=ni.toSig(Je("DER",d));return new I(p,w)}assertValidity(){}addRecoveryBit(d){return new I(this.r,this.s,d)}recoverPublicKey(d){const{r:p,s:w,recovery:b}=this,M=j(Je("msgHash",d));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");const L=b===2||b===3?p+t.n:p;if(L>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const v=b&1?"03":"02",f=u.fromHex(v+B(L)),A=a(L),W=s(-M*A),q=s(w*A),H=u.BASE.multiplyAndAddUnsafe(f,W,q);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return wu(this.toDERHex())}toDERHex(){return ni.hexFromSig(this)}toCompactRawBytes(){return wu(this.toCompactHex())}toCompactHex(){return B(this.r)+B(this.s)}}const N={isValidPrivateKey(c){try{return g(c),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const c=gw(t.n);return o3(t.randomBytes(c),t.n)},precompute(c=8,d=u.BASE){return d._setWindowSize(c),d.multiply(BigInt(3)),d}};function O(c,d=!0){return u.fromPrivateKey(c).toRawBytes(d)}function R(c){const d=Ks(c),p=typeof c=="string",w=(d||p)&&c.length;return d?w===o||w===i:p?w===2*o||w===2*i:c instanceof u}function U(c,d,p=!0){if(R(c))throw new Error("first arg must be private key");if(!R(d))throw new Error("second arg must be public key");return u.fromHex(d).multiply(g(c)).toRawBytes(p)}const P=t.bits2int||function(c){if(c.length>8192)throw new Error("input is too large");const d=Co(c),p=c.length*8-t.nBitLength;return p>0?d>>BigInt(p):d},j=t.bits2int_modN||function(c){return s(P(c))},F=sl(t.nBitLength);function $(c){return xr("num < 2^"+t.nBitLength,c,li,F),$a(c,t.nByteLength)}function K(c,d,p=nt){if(["recovered","canonical"].some(et=>et in p))throw new Error("sign() legacy options not supported");const{hash:w,randomBytes:b}=t;let{lowS:M,prehash:L,extraEntropy:v}=p;M==null&&(M=!0),c=Je("msgHash",c),Dp(p),L&&(c=Je("prehashed msgHash",w(c)));const f=j(c),A=g(d),W=[$(A),$(f)];if(v!=null&&v!==!1){const et=v===!0?b(e.BYTES):v;W.push(Je("extraEntropy",et))}const q=Hs(...W),H=f;function ut(et){const rt=P(et);if(!x(rt))return;const Pt=a(rt),pt=u.BASE.multiply(rt).toAffine(),ht=s(pt.x);if(ht===li)return;const jt=s(Pt*s(H+ht*A));if(jt===li)return;let wt=(pt.x===ht?0:2)|Number(pt.y&sn),Mt=jt;return M&&S(jt)&&(Mt=k(jt),wt^=1),new I(ht,Mt,wt)}return{seed:q,k2sig:ut}}const nt={lowS:t.lowS,prehash:!1},J={lowS:t.lowS,prehash:!1};function X(c,d,p=nt){const{seed:w,k2sig:b}=K(c,d,p),M=t;return YB(M.hash.outputLen,M.nByteLength,M.hmac)(w,b)}u.BASE._setWindowSize(8);function _(c,d,p,w=J){var wt;const b=c;d=Je("msgHash",d),p=Je("publicKey",p);const{lowS:M,prehash:L,format:v}=w;if(Dp(w),"strict"in w)throw new Error("options.strict was renamed to lowS");if(v!==void 0&&v!=="compact"&&v!=="der")throw new Error("format must be compact or der");const f=typeof b=="string"||Ks(b),A=!f&&!v&&typeof b=="object"&&b!==null&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!f&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,q;try{if(A&&(W=new I(b.r,b.s)),f){try{v!=="compact"&&(W=I.fromDER(b))}catch(Mt){if(!(Mt instanceof ni.Err))throw Mt}!W&&v!=="der"&&(W=I.fromCompact(b))}q=u.fromHex(p)}catch{return!1}if(!W||M&&W.hasHighS())return!1;L&&(d=t.hash(d));const{r:H,s:ut}=W,et=j(d),rt=a(ut),Pt=s(et*rt),pt=s(H*rt),ht=(wt=u.BASE.multiplyAndAddUnsafe(q,Pt,pt))==null?void 0:wt.toAffine();return ht?s(ht.x)===H:!1}return{CURVE:t,getPublicKey:O,getSharedSecret:U,sign:X,verify:_,ProjectivePoint:u,Signature:I,utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V8(n){return{hash:n,hmac:(t,...e)=>ry(n,t,TB(...e)),randomBytes:aw}}function G8(n,t){const e=r=>H8({...n,...V8(r)});return{...e(t),create:e}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iy=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Y8=BigInt(1),hh=BigInt(2),jp=(n,t)=>(n+t/hh)/t;function Z8(n){const t=iy,e=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),g=n*n*n%t,m=g*g*n%t,x=$e(m,e,t)*m%t,B=$e(x,e,t)*m%t,S=$e(B,hh,t)*g%t,k=$e(S,o,t)*S%t,T=$e(k,i,t)*k%t,I=$e(T,a,t)*T%t,N=$e(I,u,t)*I%t,O=$e(N,a,t)*T%t,R=$e(O,e,t)*m%t,U=$e(R,s,t)*k%t,P=$e(U,r,t)*g%t,j=$e(P,hh,t);if(!dh.eql(dh.sqr(j),n))throw new Error("Cannot find square root");return j}const dh=nc(iy,void 0,void 0,{sqrt:Z8}),Q8=G8({a:BigInt(0),b:BigInt(7),Fp:dh,n:zp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=zp,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Y8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),a=jp(i*n,t),u=jp(-r*n,t);let g=Ne(n-a*e-u*o,t),m=Ne(-a*r-u*i,t);const x=g>s,B=m>s;if(x&&(g=t-g),B&&(m=t-m),g>s||m>s)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:x,k1:g,k2neg:B,k2:m}}}},lw);BigInt(0);function Pp(n){try{return Ud.ExtendedPoint.fromHex(n),!0}catch{return!1}}const oy=(n,t)=>Ud.sign(n,t.slice(0,32)),J8=Ud.verify,Qd=n=>fe.Buffer.isBuffer(n)?n:n instanceof Uint8Array?fe.Buffer.from(n.buffer,n.byteOffset,n.byteLength):fe.Buffer.from(n);class X8{constructor(t){Object.assign(this,t)}encode(){return fe.Buffer.from(Bw($c,this))}static decode(t){return Tw($c,this,t)}static decodeUnchecked(t){return Ew($c,this,t)}}const $c=new Map;var sy;const t6=32,Wi=32;function e6(n){return n._bn!==void 0}let Fp=1;class Wt extends X8{constructor(t){if(super({}),this._bn=void 0,e6(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Nn.decode(t);if(e.length!=Wi)throw new Error("Invalid public key input");this._bn=new Rp(e)}else this._bn=new Rp(t);if(this._bn.byteLength()>Wi)throw new Error("Invalid public key input")}}static unique(){const t=new Wt(Fp);return Fp+=1,new Wt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Nn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(fe.Buffer);if(t.length===Wi)return t;const e=fe.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const o=fe.Buffer.concat([t.toBuffer(),fe.Buffer.from(e),r.toBuffer()]),i=Np(o);return new Wt(i)}static createProgramAddressSync(t,e){let r=fe.Buffer.alloc(0);t.forEach(function(i){if(i.length>t6)throw new TypeError("Max seed length exceeded");r=fe.Buffer.concat([r,Qd(i)])}),r=fe.Buffer.concat([r,e.toBuffer(),fe.Buffer.from("ProgramDerivedAddress")]);const o=Np(r);if(Pp(o))throw new Error("Invalid seeds, address must fall off the curve");return new Wt(o)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,o;for(;r!=0;){try{const i=t.concat(fe.Buffer.from([r]));o=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new Wt(t);return Pp(e.toBytes())}}sy=Wt;Wt.default=new sy("11111111111111111111111111111111");$c.set(Wt,{kind:"struct",fields:[["_bn","u256"]]});new Wt("BPFLoader1111111111111111111111111111111111");const Is=1232,Jd=127,_u=64;class Bu{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,s)=>{r.set(i.toBase58(),s)});const o=i=>{const s=r.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}}const de=(n="publicKey")=>Be(32,n),n6=(n="signature")=>Be(64,n),bs=(n="string")=>{const t=At([Lt("length"),Lt("lengthPadding"),Be(Oo(Lt(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),o=t;return o.decode=(i,s)=>e(i,s).chars.toString(),o.encode=(i,s,a)=>{const u={chars:fe.Buffer.from(i,"utf8")};return r(u,s,a)},o.alloc=i=>Lt().span+Lt().span+fe.Buffer.from(i,"utf8").length,o},r6=(n="authorized")=>At([de("staker"),de("withdrawer")],n),i6=(n="lockup")=>At([er("unixTimestamp"),er("epoch"),de("custodian")],n),o6=(n="voteInit")=>At([de("nodePubkey"),de("authorizedVoter"),de("authorizedWithdrawer"),be("commission")],n),s6=(n="voteAuthorizeWithSeedArgs")=>At([Lt("voteAuthorizationType"),de("currentAuthorityDerivedKeyOwnerPubkey"),bs("currentAuthorityDerivedKeySeed"),de("newAuthorized")],n);function nr(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function rr(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function en(n,t){if(!n)throw new Error(t||"Assertion failed")}class dl{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,o=s=>{const a=s.toBase58();let u=r.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,u)),u},i=o(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){o(s.programId).isInvoked=!0;for(const a of s.keys){const u=o(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new dl(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];en(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,u])=>u.isSigner&&u.isWritable),r=t.filter(([,u])=>u.isSigner&&!u.isWritable),o=t.filter(([,u])=>!u.isSigner&&u.isWritable),i=t.filter(([,u])=>!u.isSigner&&!u.isWritable),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{en(e.length>0,"Expected at least one writable signer key");const[u]=e[0];en(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...e.map(([u])=>new Wt(u)),...r.map(([u])=>new Wt(u)),...o.map(([u])=>new Wt(u)),...i.map(([u])=>new Wt(u))];return[s,a]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(e.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,o=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const a=new Wt(i),u=t.findIndex(g=>g.equals(a));u>=0&&(en(u<256,"Max lookup table index exceeded"),r.push(u),o.push(a),this.keyMetaMap.delete(i))}return[r,o]}}const ay="Reached end of buffer unexpectedly";function fi(n){if(n.length===0)throw new Error(ay);return n.shift()}function ir(n,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>n.length:e>=n.length)throw new Error(ay);return n.splice(...t)}class Gs{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new Wt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Nn.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Bu(this.staticAccountKeys)}static compile(t){const e=dl.compile(t.instructions,t.payerKey),[r,o]=e.getMessageComponents(),s=new Bu(o).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Nn.encode(a.data)}));return new Gs({header:r,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];rr(e,t);const r=this.instructions.map(x=>{const{accounts:B,programIdIndex:S}=x,k=Array.from(Nn.decode(x.data));let T=[];rr(T,B.length);let I=[];return rr(I,k.length),{programIdIndex:S,keyIndicesCount:fe.Buffer.from(T),keyIndices:B,dataLength:fe.Buffer.from(I),data:k}});let o=[];rr(o,r.length);let i=fe.Buffer.alloc(Is);fe.Buffer.from(o).copy(i);let s=o.length;r.forEach(x=>{const S=At([be("programIdIndex"),Be(x.keyIndicesCount.length,"keyIndicesCount"),Dn(be("keyIndex"),x.keyIndices.length,"keyIndices"),Be(x.dataLength.length,"dataLength"),Dn(be("userdatum"),x.data.length,"data")]).encode(x,i,s);s+=S}),i=i.slice(0,s);const a=At([Be(1,"numRequiredSignatures"),Be(1,"numReadonlySignedAccounts"),Be(1,"numReadonlyUnsignedAccounts"),Be(e.length,"keyCount"),Dn(de("key"),t,"keys"),de("recentBlockhash")]),u={numRequiredSignatures:fe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:fe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:fe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:fe.Buffer.from(e),keys:this.accountKeys.map(x=>Qd(x.toBytes())),recentBlockhash:Nn.decode(this.recentBlockhash)};let g=fe.Buffer.alloc(2048);const m=a.encode(u,g);return i.copy(g,m),g.slice(0,m+i.length)}static from(t){let e=[...t];const r=fi(e);if(r!==(r&Jd))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=fi(e),i=fi(e),s=nr(e);let a=[];for(let B=0;B<s;B++){const S=ir(e,0,Wi);a.push(new Wt(fe.Buffer.from(S)))}const u=ir(e,0,Wi),g=nr(e);let m=[];for(let B=0;B<g;B++){const S=fi(e),k=nr(e),T=ir(e,0,k),I=nr(e),N=ir(e,0,I),O=Nn.encode(fe.Buffer.from(N));m.push({programIdIndex:S,accounts:T,data:O})}const x={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Nn.encode(fe.Buffer.from(u)),accountKeys:a,instructions:m};return new Gs(x)}}class Tu{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bu(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const o=t-r,i=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return o<i}else if(t>=this.header.numRequiredSignatures){const o=t-e,s=r-e-this.header.numReadonlyUnsignedAccounts;return o<s}else{const o=e-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=t.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<o.state.addresses.length)e.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<o.state.addresses.length)e.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=dl.compile(t.instructions,t.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const m of i){const x=e.extractTableLookup(m);if(x!==void 0){const[B,{writable:S,readonly:k}]=x;r.push(B),o.writable.push(...S),o.readonly.push(...k)}}const[s,a]=e.getMessageComponents(),g=new Bu(a,o).compileInstructions(t.instructions);return new Tu({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:g,addressTableLookups:r})}serialize(){const t=Array();rr(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();rr(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();rr(i,this.addressTableLookups.length);const s=At([be("prefix"),At([be("numRequiredSignatures"),be("numReadonlySignedAccounts"),be("numReadonlyUnsignedAccounts")],"header"),Be(t.length,"staticAccountKeysLength"),Dn(de(),this.staticAccountKeys.length,"staticAccountKeys"),de("recentBlockhash"),Be(r.length,"instructionsLength"),Be(e.length,"serializedInstructions"),Be(i.length,"addressTableLookupsLength"),Be(o.length,"serializedAddressTableLookups")]),a=new Uint8Array(Is),g=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Nn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},a);return a.slice(0,g)}serializeInstructions(){let t=0;const e=new Uint8Array(Is);for(const r of this.compiledInstructions){const o=Array();rr(o,r.accountKeyIndexes.length);const i=Array();rr(i,r.data.length);const s=At([be("programIdIndex"),Be(o.length,"encodedAccountKeyIndexesLength"),Dn(be(),r.accountKeyIndexes.length,"accountKeyIndexes"),Be(i.length,"encodedDataLength"),Be(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Is);for(const r of this.addressTableLookups){const o=Array();rr(o,r.writableIndexes.length);const i=Array();rr(i,r.readonlyIndexes.length);const s=At([de("accountKey"),Be(o.length,"encodedWritableIndexesLength"),Dn(be(),r.writableIndexes.length,"writableIndexes"),Be(i.length,"encodedReadonlyIndexesLength"),Dn(be(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=fi(e),o=r&Jd;en(r!==o,"Expected versioned message but received legacy message");const i=o;en(i===0,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:fi(e),numReadonlySignedAccounts:fi(e),numReadonlyUnsignedAccounts:fi(e)},a=[],u=nr(e);for(let k=0;k<u;k++)a.push(new Wt(ir(e,0,Wi)));const g=Nn.encode(ir(e,0,Wi)),m=nr(e),x=[];for(let k=0;k<m;k++){const T=fi(e),I=nr(e),N=ir(e,0,I),O=nr(e),R=new Uint8Array(ir(e,0,O));x.push({programIdIndex:T,accountKeyIndexes:N,data:R})}const B=nr(e),S=[];for(let k=0;k<B;k++){const T=new Wt(ir(e,0,Wi)),I=nr(e),N=ir(e,0,I),O=nr(e),R=ir(e,0,O);S.push({accountKey:T,writableIndexes:N,readonlyIndexes:R})}return new Tu({header:s,staticAccountKeys:a,recentBlockhash:g,compiledInstructions:x,addressTableLookups:S})}}const cy={deserializeMessageVersion(n){const t=n[0],e=t&Jd;return e===t?"legacy":e},deserialize:n=>{const t=cy.deserializeMessageVersion(n);if(t==="legacy")return Gs.from(n);if(t===0)return Tu.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},a6=fe.Buffer.alloc(_u).fill(0);class $p{constructor(t){this.keys=void 0,this.programId=void 0,this.data=fe.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ph{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new $p(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<e.length;T++)if(e[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const o=[],i=[];e.forEach(T=>{T.keys.forEach(N=>{i.push({...N})});const I=T.programId.toString();o.includes(I)||o.push(I)}),o.forEach(T=>{i.push({pubkey:new Wt(T),isSigner:!1,isWritable:!1})});const s=[];i.forEach(T=>{const I=T.pubkey.toString(),N=s.findIndex(O=>O.pubkey.toString()===I);N>-1?(s[N].isWritable=s[N].isWritable||T.isWritable,s[N].isSigner=s[N].isSigner||T.isSigner):s.push(T)}),s.sort(function(T,I){if(T.isSigner!==I.isSigner)return T.isSigner?-1:1;if(T.isWritable!==I.isWritable)return T.isWritable?-1:1;const N={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return T.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",N)});const a=s.findIndex(T=>T.pubkey.equals(r));if(a>-1){const[T]=s.splice(a,1);T.isSigner=!0,T.isWritable=!0,s.unshift(T)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const T of this.signatures){const I=s.findIndex(N=>N.pubkey.equals(T.publicKey));if(I>-1)s[I].isSigner||(s[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let u=0,g=0,m=0;const x=[],B=[];s.forEach(({pubkey:T,isSigner:I,isWritable:N})=>{I?(x.push(T.toString()),u+=1,N||(g+=1)):(B.push(T.toString()),N||(m+=1))});const S=x.concat(B),k=e.map(T=>{const{data:I,programId:N}=T;return{programIdIndex:S.indexOf(N.toString()),accounts:T.keys.map(O=>S.indexOf(O.pubkey.toString())),data:Nn.encode(I)}});return k.forEach(T=>{en(T.programIdIndex>=0),T.accounts.forEach(I=>en(I>=0))}),new Gs({header:{numRequiredSignatures:u,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:m},accountKeys:S,recentBlockhash:t,instructions:k})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((o,i)=>e[i].equals(o.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const o=r.toString();return e.has(o)?!1:(e.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),r.push(i))}const o=this._compile();this._partialSign(o,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(o=>{const i=oy(r,o.secretKey);this._addSignature(o.publicKey,Qd(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){en(e.length===64);const r=this.signatures.findIndex(o=>t.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=fe.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:o,publicKey:i}of this.signatures)o===null?e&&(r.missing||(r.missing=[])).push(i):J8(o,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(o,e);if(i){let s="Signature verification failed.";throw i.invalid&&(s+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(s+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(o)}_serialize(t){const{signatures:e}=this,r=[];rr(r,e.length);const o=r.length+e.length*64+t.length,i=fe.Buffer.alloc(o);return en(e.length<256),fe.Buffer.from(r).copy(i,0),e.forEach(({signature:s},a)=>{s!==null&&(en(s.length===64,"signature has invalid length"),fe.Buffer.from(s).copy(i,r.length+a*64))}),t.copy(i,r.length+e.length*64),en(i.length<=Is,`Transaction too large: ${i.length} > ${Is}`),i}get keys(){return en(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return en(this.instructions.length===1),this.instructions[0].programId}get data(){return en(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=nr(e);let o=[];for(let i=0;i<r;i++){const s=ir(e,0,_u);o.push(Nn.encode(fe.Buffer.from(s)))}return ph.populate(Gs.from(e),o)}static populate(t,e=[]){const r=new ph;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((o,i)=>{const s={signature:o==Nn.encode(a6)?null:Nn.decode(o),publicKey:t.accountKeys[i]};r.signatures.push(s)}),t.instructions.forEach(o=>{const i=o.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(u=>u.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new $p({keys:i,programId:t.accountKeys[o.programIdIndex],data:Nn.decode(o.data)}))}),r._message=t,r._json=r.toJSON(),r}}class uy{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)en(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const r=[];for(let o=0;o<t.header.numRequiredSignatures;o++)r.push(new Uint8Array(_u));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),e=Array();rr(e,this.signatures.length);const r=At([Be(e.length,"encodedSignaturesLength"),Dn(n6(),this.signatures.length,"signatures"),Be(t.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},o);return o.slice(0,i)}static deserialize(t){let e=[...t];const r=[],o=nr(e);for(let s=0;s<o;s++)r.push(new Uint8Array(ir(e,0,_u)));const i=cy.deserialize(new Uint8Array(e));return new uy(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of t){const i=r.findIndex(s=>s.equals(o.publicKey));en(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=oy(e,o.secretKey)}}addSignature(t,e){en(e.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));en(o>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=e}}new Wt("SysvarC1ock11111111111111111111111111111111");new Wt("SysvarEpochSchedu1e111111111111111111111111");new Wt("Sysvar1nstructions1111111111111111111111111");new Wt("SysvarRecentB1ockHashes11111111111111111111");new Wt("SysvarRent111111111111111111111111111111111");new Wt("SysvarRewards111111111111111111111111111111");new Wt("SysvarS1otHashes111111111111111111111111111");new Wt("SysvarS1otHistory11111111111111111111111111");new Wt("SysvarStakeHistory1111111111111111111111111");const c6=dn("lamportsPerSignature"),u6=At([Lt("version"),Lt("state"),de("authorizedPubkey"),de("nonce"),At([c6],"feeCalculator")]);u6.span;function Ys(n){const t=Be(8,n),e=t.decode.bind(t),r=t.encode.bind(t),o=t,i=u8();return o.decode=(s,a)=>{const u=e(s,a);return i.decode(u)},o.encode=(s,a,u)=>{const g=i.encode(s);return r(g,a,u)},o}Object.freeze({Create:{index:0,layout:At([Lt("instruction"),er("lamports"),er("space"),de("programId")])},Assign:{index:1,layout:At([Lt("instruction"),de("programId")])},Transfer:{index:2,layout:At([Lt("instruction"),Ys("lamports")])},CreateWithSeed:{index:3,layout:At([Lt("instruction"),de("base"),bs("seed"),er("lamports"),er("space"),de("programId")])},AdvanceNonceAccount:{index:4,layout:At([Lt("instruction")])},WithdrawNonceAccount:{index:5,layout:At([Lt("instruction"),er("lamports")])},InitializeNonceAccount:{index:6,layout:At([Lt("instruction"),de("authorized")])},AuthorizeNonceAccount:{index:7,layout:At([Lt("instruction"),de("authorized")])},Allocate:{index:8,layout:At([Lt("instruction"),er("space")])},AllocateWithSeed:{index:9,layout:At([Lt("instruction"),de("base"),bs("seed"),er("space"),de("programId")])},AssignWithSeed:{index:10,layout:At([Lt("instruction"),de("base"),bs("seed"),de("programId")])},TransferWithSeed:{index:11,layout:At([Lt("instruction"),Ys("lamports"),bs("seed"),de("programId")])},UpgradeNonceAccount:{index:12,layout:At([Lt("instruction")])}});new Wt("11111111111111111111111111111111");new Wt("BPFLoader2111111111111111111111111111111111");At([Lt("typeIndex"),Ys("deactivationSlot"),dn("lastExtendedSlot"),be("lastExtendedStartIndex"),be(),Dn(de(),Oo(be(),-1),"authority")]);const qe=oc(Yd(Wt),dt(),n=>new Wt(n)),ly=Zd([dt(),De("base64")]),Xd=oc(Yd(fe.Buffer),ly,n=>fe.Buffer.from(n[0],"base64"));function fy(n){return zn([ot({jsonrpc:De("2.0"),id:dt(),result:n}),ot({jsonrpc:De("2.0"),id:dt(),error:ot({code:oa(),message:dt(),data:Dt(m8())})})])}const l6=fy(oa());function Ie(n){return oc(fy(n),l6,t=>"error"in t?t:{...t,result:Wa(t.result,n)})}function Br(n){return Ie(ot({context:ot({slot:Y()}),value:n}))}function pl(n){return ot({context:ot({slot:Y()}),value:n})}const f6=ot({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()});Ie(vt(xt(ot({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Dt(xt(Y()))}))));const h6=vt(ot({slot:Y(),prioritizationFee:Y()})),d6=ot({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),p6=ot({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Dt(Y()),transactionCount:Dt(Y())}),g6=ot({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:Pr(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),m6=Zw(dt(),vt(Y())),Yo=xt(zn([ot({}),dt()])),w6=ot({err:Yo}),y6=De("receivedSignature");ot({"solana-core":dt(),"feature-set":Dt(Y())});const b6=ot({program:dt(),programId:qe,parsed:oa()}),v6=ot({programId:qe,accounts:vt(qe),data:dt()});Br(ot({err:xt(zn([ot({}),dt()])),logs:xt(vt(dt())),accounts:Dt(xt(vt(xt(ot({executable:Pr(),owner:dt(),lamports:Y(),data:vt(dt()),rentEpoch:Dt(Y())}))))),unitsConsumed:Dt(Y()),returnData:Dt(xt(ot({programId:dt(),data:Zd([dt(),De("base64")])}))),innerInstructions:Dt(xt(vt(ot({index:Y(),instructions:vt(zn([b6,v6]))}))))}));Br(ot({byIdentity:Zw(dt(),vt(Y())),range:ot({firstSlot:Y(),lastSlot:Y()})}));Ie(f6);Ie(d6);Ie(h6);Ie(p6);Ie(g6);Ie(m6);Ie(Y());Br(ot({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:vt(qe)}));const x6=ot({amount:dt(),uiAmount:xt(Y()),decimals:Y(),uiAmountString:Dt(dt())});Br(vt(ot({address:qe,amount:dt(),uiAmount:xt(Y()),decimals:Y(),uiAmountString:Dt(dt())})));Br(vt(ot({pubkey:qe,account:ot({executable:Pr(),owner:qe,lamports:Y(),data:Xd,rentEpoch:Y()})})));const gh=ot({program:dt(),parsed:oa(),space:Y()});Br(vt(ot({pubkey:qe,account:ot({executable:Pr(),owner:qe,lamports:Y(),data:gh,rentEpoch:Y()})})));Br(vt(ot({lamports:Y(),address:qe})));const t0=ot({executable:Pr(),owner:qe,lamports:Y(),data:Xd,rentEpoch:Y()});ot({pubkey:qe,account:t0});const M6=oc(zn([Yd(fe.Buffer),gh]),zn([ly,gh]),n=>Array.isArray(n)?Wa(n,Xd):n),E6=ot({executable:Pr(),owner:qe,lamports:Y(),data:M6,rentEpoch:Y()});ot({pubkey:qe,account:E6});ot({state:zn([De("active"),De("inactive"),De("activating"),De("deactivating")]),active:Y(),inactive:Y()});Ie(vt(ot({signature:dt(),slot:Y(),err:Yo,memo:xt(dt()),blockTime:Dt(xt(Y()))})));Ie(vt(ot({signature:dt(),slot:Y(),err:Yo,memo:xt(dt()),blockTime:Dt(xt(Y()))})));ot({subscription:Y(),result:pl(t0)});const S6=ot({pubkey:qe,account:t0});ot({subscription:Y(),result:pl(S6)});const A6=ot({parent:Y(),slot:Y(),root:Y()});ot({subscription:Y(),result:A6});const I6=zn([ot({type:zn([De("firstShredReceived"),De("completed"),De("optimisticConfirmation"),De("root")]),slot:Y(),timestamp:Y()}),ot({type:De("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),ot({type:De("frozen"),slot:Y(),timestamp:Y(),stats:ot({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),ot({type:De("dead"),slot:Y(),timestamp:Y(),err:dt()})]);ot({subscription:Y(),result:I6});ot({subscription:Y(),result:pl(zn([w6,y6]))});ot({subscription:Y(),result:Y()});ot({pubkey:dt(),gossip:xt(dt()),tpu:xt(dt()),rpc:xt(dt()),version:xt(dt())});const Wp=ot({votePubkey:dt(),nodePubkey:dt(),activatedStake:Y(),epochVoteAccount:Pr(),epochCredits:vt(Zd([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:xt(Y())});Ie(ot({current:vt(Wp),delinquent:vt(Wp)}));const _6=zn([De("processed"),De("confirmed"),De("finalized")]),B6=ot({slot:Y(),confirmations:xt(Y()),err:Yo,confirmationStatus:Dt(_6)});Br(vt(xt(B6)));Ie(Y());const hy=ot({accountKey:qe,writableIndexes:vt(Y()),readonlyIndexes:vt(Y())}),e0=ot({signatures:vt(dt()),message:ot({accountKeys:vt(dt()),header:ot({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:vt(ot({accounts:vt(Y()),data:dt(),programIdIndex:Y()})),recentBlockhash:dt(),addressTableLookups:Dt(vt(hy))})}),dy=ot({pubkey:qe,signer:Pr(),writable:Pr(),source:Dt(zn([De("transaction"),De("lookupTable")]))}),py=ot({accountKeys:vt(dy),signatures:vt(dt())}),gy=ot({parsed:oa(),program:dt(),programId:qe}),my=ot({accounts:vt(qe),data:dt(),programId:qe}),T6=zn([my,gy]),k6=zn([ot({parsed:oa(),program:dt(),programId:dt()}),ot({accounts:vt(dt()),data:dt(),programId:dt()})]),wy=oc(T6,k6,n=>"accounts"in n?Wa(n,my):Wa(n,gy)),yy=ot({signatures:vt(dt()),message:ot({accountKeys:vt(dy),instructions:vt(wy),recentBlockhash:dt(),addressTableLookups:Dt(xt(vt(hy)))})}),ku=ot({accountIndex:Y(),mint:dt(),owner:Dt(dt()),programId:Dt(dt()),uiTokenAmount:x6}),by=ot({writable:vt(qe),readonly:vt(qe)}),gl=ot({err:Yo,fee:Y(),innerInstructions:Dt(xt(vt(ot({index:Y(),instructions:vt(ot({accounts:vt(Y()),data:dt(),programIdIndex:Y()}))})))),preBalances:vt(Y()),postBalances:vt(Y()),logMessages:Dt(xt(vt(dt()))),preTokenBalances:Dt(xt(vt(ku))),postTokenBalances:Dt(xt(vt(ku))),loadedAddresses:Dt(by),computeUnitsConsumed:Dt(Y())}),n0=ot({err:Yo,fee:Y(),innerInstructions:Dt(xt(vt(ot({index:Y(),instructions:vt(wy)})))),preBalances:vt(Y()),postBalances:vt(Y()),logMessages:Dt(xt(vt(dt()))),preTokenBalances:Dt(xt(vt(ku))),postTokenBalances:Dt(xt(vt(ku))),loadedAddresses:Dt(by),computeUnitsConsumed:Dt(Y())}),sa=zn([De(0),De("legacy")]),Zo=ot({pubkey:dt(),lamports:Y(),postBalance:xt(Y()),rewardType:xt(dt()),commission:Dt(xt(Y()))});Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),transactions:vt(ot({transaction:e0,meta:xt(gl),version:Dt(sa)})),rewards:Dt(vt(Zo)),blockTime:xt(Y()),blockHeight:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),rewards:Dt(vt(Zo)),blockTime:xt(Y()),blockHeight:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),transactions:vt(ot({transaction:py,meta:xt(gl),version:Dt(sa)})),rewards:Dt(vt(Zo)),blockTime:xt(Y()),blockHeight:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),transactions:vt(ot({transaction:yy,meta:xt(n0),version:Dt(sa)})),rewards:Dt(vt(Zo)),blockTime:xt(Y()),blockHeight:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),transactions:vt(ot({transaction:py,meta:xt(n0),version:Dt(sa)})),rewards:Dt(vt(Zo)),blockTime:xt(Y()),blockHeight:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),rewards:Dt(vt(Zo)),blockTime:xt(Y()),blockHeight:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),transactions:vt(ot({transaction:e0,meta:xt(gl)})),rewards:Dt(vt(Zo)),blockTime:xt(Y())})));Ie(xt(ot({blockhash:dt(),previousBlockhash:dt(),parentSlot:Y(),signatures:vt(dt()),blockTime:xt(Y())})));Ie(xt(ot({slot:Y(),meta:xt(gl),blockTime:Dt(xt(Y())),transaction:e0,version:Dt(sa)})));Ie(xt(ot({slot:Y(),transaction:yy,meta:xt(n0),blockTime:Dt(xt(Y())),version:Dt(sa)})));Br(ot({blockhash:dt(),lastValidBlockHeight:Y()}));Br(Pr());const L6=ot({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()});Ie(vt(L6));Br(xt(ot({feeCalculator:ot({lamportsPerSignature:Y()})})));Ie(dt());Ie(dt());const R6=ot({err:Yo,logs:vt(dt()),signature:dt()});ot({result:pl(R6),subscription:Y()});Object.freeze({CreateLookupTable:{index:0,layout:At([Lt("instruction"),Ys("recentSlot"),be("bumpSeed")])},FreezeLookupTable:{index:1,layout:At([Lt("instruction")])},ExtendLookupTable:{index:2,layout:At([Lt("instruction"),Ys(),Dn(de(),Oo(Lt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:At([Lt("instruction")])},CloseLookupTable:{index:4,layout:At([Lt("instruction")])}});new Wt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:At([be("instruction"),Lt("units"),Lt("additionalFee")])},RequestHeapFrame:{index:1,layout:At([be("instruction"),Lt("bytes")])},SetComputeUnitLimit:{index:2,layout:At([be("instruction"),Lt("units")])},SetComputeUnitPrice:{index:3,layout:At([be("instruction"),Ys("microLamports")])}});new Wt("ComputeBudget111111111111111111111111111111");At([be("numSignatures"),be("padding"),pr("signatureOffset"),pr("signatureInstructionIndex"),pr("publicKeyOffset"),pr("publicKeyInstructionIndex"),pr("messageDataOffset"),pr("messageDataSize"),pr("messageInstructionIndex")]);new Wt("Ed25519SigVerify111111111111111111111111111");Q8.utils.isValidPrivateKey;At([be("numSignatures"),pr("signatureOffset"),be("signatureInstructionIndex"),pr("ethAddressOffset"),be("ethAddressInstructionIndex"),pr("messageDataOffset"),pr("messageDataSize"),be("messageInstructionIndex"),Be(20,"ethAddress"),Be(64,"signature"),be("recoveryId")]);new Wt("KeccakSecp256k11111111111111111111111111111");var vy;new Wt("StakeConfig11111111111111111111111111111111");class xy{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}vy=xy;xy.default=new vy(0,0,Wt.default);Object.freeze({Initialize:{index:0,layout:At([Lt("instruction"),r6(),i6()])},Authorize:{index:1,layout:At([Lt("instruction"),de("newAuthorized"),Lt("stakeAuthorizationType")])},Delegate:{index:2,layout:At([Lt("instruction")])},Split:{index:3,layout:At([Lt("instruction"),er("lamports")])},Withdraw:{index:4,layout:At([Lt("instruction"),er("lamports")])},Deactivate:{index:5,layout:At([Lt("instruction")])},Merge:{index:7,layout:At([Lt("instruction")])},AuthorizeWithSeed:{index:8,layout:At([Lt("instruction"),de("newAuthorized"),Lt("stakeAuthorizationType"),bs("authoritySeed"),de("authorityOwner")])}});new Wt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:At([Lt("instruction"),o6()])},Authorize:{index:1,layout:At([Lt("instruction"),de("newAuthorized"),Lt("voteAuthorizationType")])},Withdraw:{index:3,layout:At([Lt("instruction"),er("lamports")])},UpdateValidatorIdentity:{index:4,layout:At([Lt("instruction")])},AuthorizeWithSeed:{index:10,layout:At([Lt("instruction"),s6()])}});new Wt("Vote111111111111111111111111111111111111111");new Wt("Va1idator1nfo111111111111111111111111111111");ot({name:dt(),website:Dt(dt()),details:Dt(dt()),iconUrl:Dt(dt()),keybaseUsername:Dt(dt())});new Wt("Vote111111111111111111111111111111111111111");At([de("nodePubkey"),de("authorizedWithdrawer"),be("commission"),dn(),Dn(At([dn("slot"),Lt("confirmationCount")]),Oo(Lt(),-8),"votes"),be("rootSlotValid"),dn("rootSlot"),dn(),Dn(At([dn("epoch"),de("authorizedVoter")]),Oo(Lt(),-8),"authorizedVoters"),At([Dn(At([de("authorizedPubkey"),dn("epochOfLastAuthorizedSwitch"),dn("targetEpoch")]),32,"buf"),dn("idx"),be("isEmpty")],"priorVoters"),dn(),Dn(At([dn("epoch"),dn("credits"),dn("prevCredits")]),Oo(Lt(),-8),"epochCredits"),At([dn("slot"),dn("timestamp")],"lastTimestamp")]);const N6="Phantom";class C6 extends Bd{constructor(t={}){super(),this.name=N6,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ve.Unsupported:Ve.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new ew),this.emit("disconnect"))},this._accountChanged=e=>{const r=this._publicKey;if(r){try{e=new Wt(e.toBytes())}catch(o){this.emit("error",new Fa(o==null?void 0:o.message,o));return}r.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ve.Unsupported&&(ih()?(this._readyState=Ve.Loadable,this.emit("readyStateChange",this._readyState)):rw(()=>{var e,r,o;return(r=(e=window.phantom)==null?void 0:e.solana)!=null&&r.isPhantom||(o=window.solana)!=null&&o.isPhantom?(this._readyState=Ve.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ve.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===Ve.Loadable){const o=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${o}?ref=${i}`;return}if(this.readyState!==Ve.Installed)throw new Ad;this._connecting=!0;const e=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!e.isConnected)try{await e.connect()}catch(o){throw new pu(o==null?void 0:o.message,o)}if(!e.publicKey)throw new nw;let r;try{r=new Wt(e.publicKey.toBytes())}catch(o){throw new Fa(o==null?void 0:o.message,o)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Id(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{const o=this._wallet;if(!o)throw new kn;try{const{signers:i,...s}=r;gu(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,s),i!=null&&i.length&&t.partialSign(...i)),s.preflightCommitment=s.preflightCommitment||e.commitment;const{signature:a}=await o.signAndSendTransaction(t,s);return a}catch(i){throw i instanceof Fn?i:new Bo(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signTransaction(t)||t}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signAllTransactions(t)||t}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new kn;try{const{signature:r}=await e.signMessage(t);return r}catch(r){throw new _d(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}var O6=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},D6=function(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e},Wc;function U6(n){const t=({register:e})=>e(n);try{window.dispatchEvent(new z6(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class z6 extends Event{get detail(){return O6(this,Wc,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Wc.set(this,void 0),D6(this,Wc,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Wc=new WeakMap;const j6="solana:mainnet",P6="solana:devnet",F6="solana:testnet",$6="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var ve=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},W6=function(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e},Kc,ko,mh,wh,yh,Bn,bh,My,Ey,vh,xh,Mh,Eh,Sh;class K6{constructor(){Kc.add(this),ko.set(this,{}),mh.set(this,"1.0.0"),wh.set(this,"MetaMask"),yh.set(this,$6),Bn.set(this,null),bh.set(this,(t,e)=>{var r;return(r=ve(this,ko,"f")[t])!=null&&r.push(e)||(ve(this,ko,"f")[t]=[e]),()=>ve(this,Kc,"m",Ey).call(this,t,e)}),vh.set(this,async()=>{if(!ve(this,Bn,"f")){let t;try{t=(await _h(async()=>{const{default:e}=await import("./index-CSpYUHCt.js");return{default:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}W6(this,Bn,new t,"f"),ve(this,Bn,"f").on("standard_change",e=>ve(this,Kc,"m",My).call(this,"change",e))}return this.accounts.length||await ve(this,Bn,"f").connect(),{accounts:this.accounts}}),xh.set(this,async()=>{ve(this,Bn,"f")&&await ve(this,Bn,"f").disconnect()}),Mh.set(this,async(...t)=>{if(!ve(this,Bn,"f"))throw new kn;return await ve(this,Bn,"f").standardSignAndSendTransaction(...t)}),Eh.set(this,async(...t)=>{if(!ve(this,Bn,"f"))throw new kn;return await ve(this,Bn,"f").standardSignTransaction(...t)}),Sh.set(this,async(...t)=>{if(!ve(this,Bn,"f"))throw new kn;return await ve(this,Bn,"f").standardSignMessage(...t)})}get version(){return ve(this,mh,"f")}get name(){return ve(this,wh,"f")}get icon(){return ve(this,yh,"f")}get chains(){return[j6,P6,F6]}get features(){return{[pB]:{version:"1.0.0",connect:ve(this,vh,"f")},[gB]:{version:"1.0.0",disconnect:ve(this,xh,"f")},[mB]:{version:"1.0.0",on:ve(this,bh,"f")},[fB]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ve(this,Mh,"f")},[dB]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ve(this,Eh,"f")},[hB]:{version:"1.0.0",signMessage:ve(this,Sh,"f")}}}get accounts(){return ve(this,Bn,"f")?ve(this,Bn,"f").standardAccounts:[]}}ko=new WeakMap,mh=new WeakMap,wh=new WeakMap,yh=new WeakMap,Bn=new WeakMap,bh=new WeakMap,vh=new WeakMap,xh=new WeakMap,Mh=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,Kc=new WeakSet,My=function(t,...e){var r;(r=ve(this,ko,"f")[t])==null||r.forEach(o=>o.apply(null,e))},Ey=function(t,e){var r;ve(this,ko,"f")[t]=(r=ve(this,ko,"f")[t])==null?void 0:r.filter(o=>e!==o)};let Kp=!1;function q6(){Kp||(U6(new K6),Kp=!0)}async function H6(){const n="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:n,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function e(r){var i,s;const o=r.data;(o==null?void 0:o.target)==="metamask-inpage"&&((i=o.data)==null?void 0:i.name)==="metamask-provider"&&(((s=o.data.data)==null?void 0:s.id)===n?(window.removeEventListener("message",e),o.data.data.error||q6()):t())}window.addEventListener("message",e),window.setTimeout(()=>window.removeEventListener("message",e),5e3),t()}const V6="Solflare";class G6 extends Bd{constructor(t={}){super(),this.name=V6,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ve.Unsupported:Ve.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new ew),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const r=this._publicKey;if(r){try{e=new Wt(e.toBytes())}catch(o){this.emit("error",new Fa(o==null?void 0:o.message,o));return}r.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==Ve.Unsupported&&(rw(()=>{var e;return(e=window.solflare)!=null&&e.isSolflare||window.SolflareApp?(this._readyState=Ve.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),H6())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ve.Loadable&&ih()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ve.Loadable&&this._readyState!==Ve.Installed)throw new Ad;if(this.readyState===Ve.Loadable&&ih()){const o=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${o}?ref=${i}`;return}let t;try{t=(await _h(async()=>{const{default:o}=await import("./index-CbZp9Vje.js");return{default:o}},__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11,12]))).default}catch(o){throw new Xm(o==null?void 0:o.message,o)}let e;try{e=new t({network:this._config.network})}catch(o){throw new tw(o==null?void 0:o.message,o)}if(this._connecting=!0,!e.connected)try{await e.connect()}catch(o){throw new pu(o==null?void 0:o.message,o)}if(!e.publicKey)throw new pu;let r;try{r=new Wt(e.publicKey.toBytes())}catch(o){throw new Fa(o==null?void 0:o.message,o)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Id(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{const o=this._wallet;if(!o)throw new kn;try{const{signers:i,...s}=r;return gu(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,s),i!=null&&i.length&&t.partialSign(...i)),s.preflightCommitment=s.preflightCommitment||e.commitment,await o.signAndSendTransaction(t,s)}catch(i){throw i instanceof Fn?i:new Bo(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signTransaction(t)||t}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signAllTransactions(t)||t}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signMessage(t,"utf8")}catch(r){throw new _d(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}const Y6="Torus";class Z6 extends Bd{constructor({params:t={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=Y6,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Ve.Unsupported:Ve.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=t}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ve.Loadable)throw new Ad;this._connecting=!0;let t;try{t=(await _h(async()=>{const{default:i}=await import("./solanaEmbed.esm-ykyz0pzX.js");return{default:i}},__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12]))).default}catch(i){throw new Xm(i==null?void 0:i.message,i)}let e;try{e=window.torus||new t}catch(i){throw new tw(i==null?void 0:i.message,i)}if(!e.isInitialized)try{await e.init(this._params)}catch(i){throw new pu(i==null?void 0:i.message,i)}let r;try{r=await e.login()}catch(i){throw new nw(i==null?void 0:i.message,i)}let o;try{o=new Wt(r[0])}catch(i){throw new Fa(i==null?void 0:i.message,i)}this._wallet=e,this._publicKey=o,this.emit("connect",o)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){this._wallet=null,this._publicKey=null;try{t.isLoggedIn&&await t.cleanUp()}catch(e){this.emit("error",new Id(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{const o=this._wallet;if(!o)throw new kn;try{const{signers:i,...s}=r;t=await this.prepareTransaction(t,e,s),i!=null&&i.length&&t.partialSign(...i),s.preflightCommitment=s.preflightCommitment||e.commitment;const{signature:a}=await o.signAndSendTransaction(t,s);return a}catch(i){throw i instanceof Fn?i:new Bo(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signTransaction(t)||t}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signAllTransactions(t)||t}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new kn;try{return await e.signMessage(t)}catch(r){throw new _d(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}const Q6=IE("devnet"),J6=[new C6,new G6,new Z6],Sk=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"}];function Ak({children:n}){return tt.jsxs("html",{lang:"en",className:"dark",children:[tt.jsxs("head",{children:[tt.jsx("meta",{charSet:"utf-8"}),tt.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),tt.jsx(Ly,{}),tt.jsx(Ry,{})]}),tt.jsxs("body",{children:[n,tt.jsx(Ny,{}),tt.jsx(Cy,{})]})]})}const Ik=Iy(function(){const t=new mb,[e,r]=G.useState([]);return G.useEffect(()=>{fetch("https://fundgoal.fun/api/tokens/ticker/list").then(o=>o.json()).then(o=>{r(o)})},[]),tt.jsx(BE,{endpoint:Q6,children:tt.jsx(vI,{wallets:J6,autoConnect:!0,children:tt.jsxs(qy,{client:t,children:[e.length!==0&&tt.jsx(sB,{listTokens:e,title:"root"}),tt.jsx(Oy,{})]})})})}),_k=_y(function({error:t}){let e="Oops!",r="An unexpected error occurred.",o;return Dy(t)&&(e=t.status===404?"404":"Error",r=t.status===404?"The requested page could not be found.":t.statusText||r),tt.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[tt.jsx("h1",{children:e}),tt.jsx("p",{children:r}),o]})});export{cB as E,Ak as L,Wt as P,fB as S,ph as T,uy as V,dB as a,hB as b,fe as c,Ik as d,_k as e,Sk as l,dg as r,b3 as s};
